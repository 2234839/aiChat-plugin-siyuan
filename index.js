(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".config-panel[data-v-907dc5a7]{margin-bottom:16px;padding:16px;background:var(--b3-theme-background-light, #f8f9fa);border-radius:8px;border:1px solid var(--b3-border-color, #e4e7ed)}.config-section[data-v-907dc5a7]{margin-bottom:16px}.config-section[data-v-907dc5a7]:last-child{margin-bottom:0}.config-title[data-v-907dc5a7]{font-size:14px;font-weight:600;margin:0 0 12px;color:var(--b3-theme-on-background, #495057)}.config-options[data-v-907dc5a7]{display:flex;flex-direction:column;gap:8px}.radio-option[data-v-907dc5a7]{display:flex;align-items:flex-start;gap:8px;padding:8px;border-radius:6px;cursor:pointer;transition:background .2s ease;color:var(--b3-theme-on-background, #2c3e50)}.radio-option[data-v-907dc5a7]:hover{background:var(--b3-theme-background-hover, #e8e8e8)}.radio-option input[type=radio][data-v-907dc5a7]{margin-top:2px}.radio-label[data-v-907dc5a7]{font-weight:500;color:var(--b3-theme-on-background, #2c3e50)}.radio-description[data-v-907dc5a7]{font-size:12px;color:var(--b3-theme-on-background-light, #6c757d);margin-top:2px}.config-fields[data-v-907dc5a7]{display:flex;flex-direction:column;gap:12px}.config-field[data-v-907dc5a7]{display:flex;flex-direction:column;gap:4px}.field-label[data-v-907dc5a7]{font-size:13px;font-weight:500;color:var(--b3-theme-on-background, #495057)}.field-input[data-v-907dc5a7]{padding:8px 12px;border:1px solid var(--b3-border-color, #ced4da);border-radius:6px;font-size:14px;transition:border-color .2s ease;background:var(--b3-theme-background, white);color:var(--b3-theme-on-background, #2c3e50)}.field-input[data-v-907dc5a7]:focus{outline:none;border-color:var(--b3-theme-primary, #4a90e2);box-shadow:0 0 0 3px #4a90e21a}.field-input[data-v-907dc5a7]::placeholder{color:var(--b3-theme-on-background-light, #6c757d)}.search-progress[data-v-203f7835]{margin:16px 0;padding:16px;background:var(--b3-theme-background-light, #f8f9fa);border-radius:8px;border:1px solid var(--b3-border-color, #e4e7ed)}.progress-header[data-v-203f7835]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.progress-title-section[data-v-203f7835]{display:flex;align-items:center;gap:8px}.progress-icon[data-v-203f7835]{font-size:16px}.progress-title[data-v-203f7835]{font-weight:600;color:var(--b3-theme-on-background, #2c3e50)}.progress-step[data-v-203f7835]{color:var(--b3-theme-on-background-light, #6c757d);font-size:13px;background:var(--b3-theme-background-light, #e9ecef);padding:2px 8px;border-radius:12px}.progress-content[data-v-203f7835]{margin-bottom:12px}.progress-info-grid[data-v-203f7835]{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:12px}.info-item[data-v-203f7835]{text-align:center;padding:8px;background:var(--b3-theme-background, white);border-radius:6px;border:1px solid var(--b3-border-color, #e4e7ed)}.info-label[data-v-203f7835]{font-size:12px;color:var(--b3-theme-on-background-light, #6c757d);margin-bottom:4px}.info-value[data-v-203f7835]{font-weight:600;color:var(--b3-theme-on-background, #2c3e50)}.keywords-section[data-v-203f7835]{margin-bottom:12px}.section-title[data-v-203f7835]{font-size:13px;font-weight:600;color:var(--b3-theme-on-background, #495057);margin-bottom:8px}.keywords-container[data-v-203f7835]{display:flex;flex-wrap:wrap;gap:4px}.keyword-tag[data-v-203f7835]{display:inline-block;background:var(--b3-theme-primary-lighter, #e3f2fd);color:var(--b3-theme-primary, #1976d2);padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500}.thinking-section[data-v-203f7835]{margin-bottom:12px}.thinking-list[data-v-203f7835]{background:var(--b3-theme-background, white);border-radius:6px;border:1px solid var(--b3-border-color, #e4e7ed);padding:8px}.thinking-item[data-v-203f7835]{display:flex;align-items:flex-start;gap:8px;margin-bottom:4px}.thinking-item[data-v-203f7835]:last-child{margin-bottom:0}.thinking-bullet[data-v-203f7835]{color:var(--b3-theme-on-background-light, #6c757d);font-size:14px;margin-top:2px}.thinking-text[data-v-203f7835]{flex:1;font-size:13px;color:var(--b3-theme-on-background, #495057);line-height:1.4}.progress-loader[data-v-203f7835]{margin-top:12px}.loader-container[data-v-203f7835]{height:4px;background:var(--b3-theme-background-light, #e9ecef);border-radius:2px;overflow:hidden}.loader-bar[data-v-203f7835]{height:100%;background:linear-gradient(90deg,var(--b3-theme-primary, #4a90e2),var(--b3-theme-primary-dark, #357abd));border-radius:2px;animation:loading-203f7835 1.5s ease-in-out infinite}@keyframes loading-203f7835{0%,to{width:30%}50%{width:70%}}.error-message[data-v-57eb1c4e]{display:flex;align-items:center;gap:8px;padding:12px;background:#ef44441a;border:1px solid rgba(239,68,68,.2);border-radius:6px;margin:16px 0}.error-icon[data-v-57eb1c4e]{font-size:16px}.error-text[data-v-57eb1c4e]{flex:1;font-size:14px;color:var(--b3-theme-error, #c53030)}.error-close[data-v-57eb1c4e]{width:20px;height:20px;border:none;background:none;color:var(--b3-theme-error, #c53030);cursor:pointer;font-size:16px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:background .2s ease}.error-close[data-v-57eb1c4e]:hover{background:#ef44441a}.result-section[data-v-4c10f2c3]{margin-top:16px;border:1px solid var(--b3-border-color, #e4e7ed);border-radius:8px;overflow:hidden}.result-header[data-v-4c10f2c3]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:var(--b3-theme-background-light, #f8f9fa);border-bottom:1px solid var(--b3-border-color, #e4e7ed)}.result-title[data-v-4c10f2c3]{font-size:14px;font-weight:600;color:var(--b3-theme-on-background, #495057)}.copy-button[data-v-4c10f2c3]{width:32px;height:32px;border:1px solid var(--b3-border-color, #e4e7ed);background:var(--b3-theme-background, #ffffff);color:var(--b3-theme-on-background, #495057);cursor:pointer;border-radius:6px;display:flex;align-items:center;justify-content:center;transition:all .2s ease;box-shadow:0 1px 2px #0000000d}.copy-button[data-v-4c10f2c3]:hover{background:var(--b3-theme-primary, #4a90e2);color:#fff;border-color:var(--b3-theme-primary, #4a90e2);transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.copy-button[data-v-4c10f2c3]:active{transform:translateY(0);box-shadow:0 1px 2px #0000000d}.copy-button .icon[data-v-4c10f2c3]{width:18px;height:18px;stroke-width:2}.result-content[data-v-4c10f2c3]{padding:16px;background:var(--b3-theme-background, white);color:var(--b3-theme-on-background, #2c3e50)}.result-content[data-v-4c10f2c3] a{color:var(--b3-theme-primary, #4a90e2)}.result-content[data-v-4c10f2c3] code{background:var(--b3-theme-background-light, #f1f3f4);color:var(--b3-theme-on-background, #2c3e50);padding:2px 4px;border-radius:3px;font-size:.9em}.result-content[data-v-4c10f2c3] pre{background:var(--b3-theme-background-light, #f1f3f4);border:1px solid var(--b3-border-color, #e4e7ed);border-radius:4px;padding:12px;overflow-x:auto}.result-content[data-v-4c10f2c3] pre code{background:transparent;padding:0;border:none}.result-content[data-v-4c10f2c3] blockquote{border-left:4px solid var(--b3-theme-primary, #4a90e2);background:var(--b3-theme-background-light, #f8f9fa);margin:16px 0;padding:8px 16px;color:var(--b3-theme-on-background-light, #6c757d)}.result-content[data-v-4c10f2c3] h1,.result-content[data-v-4c10f2c3] h2,.result-content[data-v-4c10f2c3] h3,.result-content[data-v-4c10f2c3] h4,.result-content[data-v-4c10f2c3] h5,.result-content[data-v-4c10f2c3] h6{color:var(--b3-theme-on-background, #2c3e50);margin-top:16px;margin-bottom:8px}.result-content[data-v-4c10f2c3] table{border-collapse:collapse;width:100%;margin:16px 0}.result-content[data-v-4c10f2c3] th,.result-content[data-v-4c10f2c3] td{border:1px solid var(--b3-border-color, #e4e7ed);padding:8px 12px;text-align:left}.result-content[data-v-4c10f2c3] th{background:var(--b3-theme-background-light, #f8f9fa);font-weight:600;color:var(--b3-theme-on-background, #495057)}.result-content[data-v-4c10f2c3] tr:nth-child(2n){background:var(--b3-theme-background-light, #f8f9fa)}.ai-chat-container[data-v-fd4760b4]{padding:16px;border-radius:12px;border:1px solid var(--b3-border-color, #e4e7ed);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}html[data-theme-mode=dark] .ai-chat-container[data-v-fd4760b4]{border-color:var(--b3-border-color, #4a5568)}.chat-header[data-v-fd4760b4]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid var(--b3-border-color, #e4e7ed)}.title-section[data-v-fd4760b4]{display:flex;align-items:center;gap:8px}.title[data-v-fd4760b4]{font-size:18px;font-weight:600;margin:0;color:var(--b3-theme-on-background, #2c3e50)}.version-badge[data-v-fd4760b4]{padding:2px 8px;background:var(--b3-theme-primary-lighter, #e3f2fd);color:var(--b3-theme-primary, #1976d2);border-radius:12px;font-size:12px;font-weight:500}.config-toggle-btn[data-v-fd4760b4]{width:32px;height:32px;border:none;background:var(--b3-theme-background-light, #f5f5f5);border-radius:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;color:var(--b3-theme-on-background, #2c3e50)}.config-toggle-btn[data-v-fd4760b4]:hover{background:var(--b3-theme-background-hover, #e8e8e8)}.config-toggle-btn.active[data-v-fd4760b4]{background:var(--b3-theme-primary-lighter, #e3f2fd);color:var(--b3-theme-primary, #1976d2)}.icon[data-v-fd4760b4]{width:18px;height:18px}.input-section[data-v-fd4760b4]{margin-bottom:16px}.input-wrapper[data-v-fd4760b4]{position:relative;display:flex;gap:8px;align-items:flex-end}.chat-input[data-v-fd4760b4]{flex:1;min-height:60px;max-height:120px;padding:12px;border:1px solid var(--b3-border-color, #ced4da);border-radius:8px;font-size:14px;line-height:1.5;resize:vertical;transition:border-color .2s ease;font-family:inherit;background:var(--b3-theme-background, #ffffff);color:var(--b3-theme-on-background, #2c3e50)}.chat-input[data-v-fd4760b4]:focus{outline:none;border-color:var(--b3-theme-primary, #4a90e2);box-shadow:0 0 0 3px #4a90e21a}.chat-input[data-v-fd4760b4]:disabled{background:var(--b3-theme-background-light, #f8f9fa);cursor:not-allowed;color:var(--b3-theme-on-background-light, #6c757d)}.submit-button[data-v-fd4760b4]{width:48px;height:48px;border:none;background:var(--b3-theme-primary, #4a90e2);color:#fff;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;flex-shrink:0}.submit-button[data-v-fd4760b4]:hover:not(:disabled){background:var(--b3-theme-primary-dark, #357abd);transform:translateY(-1px)}.submit-button[data-v-fd4760b4]:disabled{background:var(--b3-border-color, #ced4da);cursor:not-allowed}.submit-button.loading[data-v-fd4760b4]{background:#6c757d}.button-text[data-v-fd4760b4]{font-size:14px;font-weight:500}.loading-spinner[data-v-fd4760b4]{width:20px;height:20px;border:2px solid #ffffff;border-top:2px solid transparent;border-radius:50%;animation:spin-fd4760b4 1s linear infinite}@keyframes spin-fd4760b4{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.search-options[data-v-fd4760b4]{margin-top:8px;padding:8px;background:var(--b3-theme-background-light, #f8f9fa);border-radius:6px;border:1px solid var(--b3-border-color, #e4e7ed)}.option-label[data-v-fd4760b4]{display:flex;align-items:flex-start;gap:8px;cursor:pointer;color:var(--b3-theme-on-background, #2c3e50)}.option-text[data-v-fd4760b4]{font-weight:500;color:var(--b3-theme-on-background, #495057)}.option-description[data-v-fd4760b4]{font-size:12px;color:var(--b3-theme-on-background-light, #6c757d);margin-top:2px}.option-label input[data-v-fd4760b4]{margin-top:2px}.slide-down-enter-active[data-v-fd4760b4],.slide-down-leave-active[data-v-fd4760b4]{transition:all .3s ease}.slide-down-enter-from[data-v-fd4760b4],.slide-down-leave-to[data-v-fd4760b4]{opacity:0;transform:translateY(-10px)}.slide-up-enter-active[data-v-fd4760b4],.slide-up-leave-active[data-v-fd4760b4]{transition:all .3s ease}.slide-up-enter-from[data-v-fd4760b4],.slide-up-leave-to[data-v-fd4760b4]{opacity:0;transform:translateY(10px)}.fade-in-enter-active[data-v-fd4760b4],.fade-in-leave-active[data-v-fd4760b4]{transition:opacity .3s ease}.fade-in-enter-from[data-v-fd4760b4],.fade-in-leave-to[data-v-fd4760b4]{opacity:0}.copy-success-toast[data-v-fd4760b4]{position:fixed;top:20px;right:20px;background:var(--b3-theme-primary, #4a90e2);color:#fff;padding:12px 16px;border-radius:8px;box-shadow:0 4px 12px #00000026;display:flex;align-items:center;gap:8px;font-size:14px;font-weight:500;z-index:1000;animation:slideInRight-fd4760b4 .3s ease}.toast-icon[data-v-fd4760b4]{width:18px;height:18px;stroke-width:2.5}@keyframes slideInRight-fd4760b4{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}")),document.head.appendChild(e)}}catch(a){console.error("vite-plugin-css-injected-by-js",a)}})();
"use strict";let vd=bc;const Zn=1,Ir=2,gc={owned:null,cleanups:null,context:null,owner:null};var Le=null;let Po=null,Ed=null,Ot=null,et=null,wn=null,Yr=0;function xd(e,t){const n=Ot,s=Le,r=e.length===0,o=t===void 0?s:t,i=r?gc:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=r?e:()=>e(()=>_c(()=>Ds(i)));Le=i,Ot=null;try{return Zr(a,!0)}finally{Ot=n,Le=s}}function ti(e,t,n){const s=Od(e,t,!1,Zn);yc(s)}function _c(e){if(Ot===null)return e();const t=Ot;Ot=null;try{return e()}finally{Ot=t}}function Nd(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&Zr(()=>{for(let r=0;r<e.observers.length;r+=1){const o=e.observers[r],i=Po&&Po.running;i&&Po.disposed.has(o),(i?!o.tState:!o.state)&&(o.pure?et.push(o):wn.push(o),o.observers&&vc(o)),i||(o.state=Zn)}if(et.length>1e6)throw et=[],new Error},!1)),t}function yc(e){if(!e.fn)return;Ds(e);const t=Yr;Sd(e,e.value,t)}function Sd(e,t,n){let s;const r=Le,o=Ot;Ot=Le=e;try{s=e.fn(t)}catch(i){return e.pure&&(e.state=Zn,e.owned&&e.owned.forEach(Ds),e.owned=null),e.updatedAt=n+1,Ec(i)}finally{Ot=o,Le=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Nd(e,s):e.value=s,e.updatedAt=n)}function Od(e,t,n,s=Zn,r){const o={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:Le,context:Le?Le.context:null,pure:n};return Le===null||Le!==gc&&(Le.owned?Le.owned.push(o):Le.owned=[o]),o}function wc(e){if(e.state===0)return;if(e.state===Ir)return ni(e);if(e.suspense&&_c(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Yr);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Zn)yc(e);else if(e.state===Ir){const s=et;et=null,Zr(()=>ni(e,t[0]),!1),et=s}}function Zr(e,t){if(et)return e();let n=!1;t||(et=[]),wn?n=!0:wn=[],Yr++;try{const s=e();return Ad(n),s}catch(s){n||(wn=null),et=null,Ec(s)}}function Ad(e){if(et&&(bc(et),et=null),e)return;const t=wn;wn=null,t.length&&Zr(()=>vd(t),!1)}function bc(e){for(let t=0;t<e.length;t++)wc(e[t])}function ni(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const r=s.state;r===Zn?s!==t&&(!s.updatedAt||s.updatedAt<Yr)&&wc(s):r===Ir&&ni(s,t)}}}function vc(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Ir,n.pure?et.push(n):wn.push(n),n.observers&&vc(n))}}function Ds(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const o=r.pop(),i=n.observerSlots.pop();s<r.length&&(o.sourceSlots[i]=s,r[s]=o,n.observerSlots[s]=i)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Ds(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Ds(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Cd(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Ec(e,t=Le){throw Cd(e)}function Rd(e,t,n){let s=n.length,r=t.length,o=s,i=0,a=0,l=t[r-1].nextSibling,f=null;for(;i<r||a<o;){if(t[i]===n[a]){i++,a++;continue}for(;t[r-1]===n[o-1];)r--,o--;if(r===i){const u=o<s?a?n[a-1].nextSibling:n[o-a]:l;for(;a<o;)e.insertBefore(n[a++],u)}else if(o===a)for(;i<r;)(!f||!f.has(t[i]))&&t[i].remove(),i++;else if(t[i]===n[o-1]&&n[a]===t[r-1]){const u=t[--r].nextSibling;e.insertBefore(n[a++],t[i++].nextSibling),e.insertBefore(n[--o],u),t[r]=n[o]}else{if(!f){f=new Map;let c=a;for(;c<o;)f.set(n[c],c++)}const u=f.get(t[i]);if(u!=null)if(a<u&&u<o){let c=i,h=1,m;for(;++c<r&&c<o&&!((m=f.get(t[c]))==null||m!==u+h);)h++;if(h>u-a){const w=t[i];for(;a<u;)e.insertBefore(n[a++],w)}else e.replaceChild(n[a++],t[i++])}else i++;else t[i++].remove()}}}function $d(e,t,n,s={}){let r;return xd(o=>{r=o,t===document?e():Pd(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{r(),t.textContent=""}}function Pd(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return kr(e,t,s,n);ti(r=>kr(e,t(),r,n),s)}function kr(e,t,n,s,r){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,i=s!==void 0;if(e=i&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(i){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=Cn(e,n,s,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=Cn(e,n,s);else{if(o==="function")return ti(()=>{let a=t();for(;typeof a=="function";)a=a();n=kr(e,a,n,s)}),()=>n;if(Array.isArray(t)){const a=[],l=n&&Array.isArray(n);if(si(a,t,n,r))return ti(()=>n=kr(e,a,n,s,!0)),()=>n;if(a.length===0){if(n=Cn(e,n,s),i)return n}else l?n.length===0?Ga(e,a,s):Rd(e,n,a):(n&&Cn(e),Ga(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(i)return n=Cn(e,n,s,t);Cn(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function si(e,t,n,s){let r=!1;for(let o=0,i=t.length;o<i;o++){let a=t[o],l=n&&n[e.length],f;if(!(a==null||a===!0||a===!1))if((f=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))r=si(e,a,l)||r;else if(f==="function")if(s){for(;typeof a=="function";)a=a();r=si(e,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||r}else e.push(a),r=!0;else{const u=String(a);l&&l.nodeType===3&&l.data===u?e.push(l):e.push(document.createTextNode(u))}}return r}function Ga(e,t,n=null){for(let s=0,r=t.length;s<r;s++)e.insertBefore(t[s],n)}function Cn(e,t,n,s){if(n===void 0)return e.textContent="";const r=s||document.createTextNode("");if(t.length){let o=!1;for(let i=t.length-1;i>=0;i--){const a=t[i];if(r!==a){const l=a.parentNode===e;!o&&!i?l?e.replaceChild(r,a):e.insertBefore(r,n):l&&a.remove()}else o=!0}}else e.insertBefore(r,n);return[r]}var xc={env:{}};/**
* @vue/shared v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function qt(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const oe=xc.env.NODE_ENV!=="production"?Object.freeze({}):{},Wn=xc.env.NODE_ENV!=="production"?Object.freeze([]):[],xe=()=>{},Nc=()=>!1,Hs=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Vr=e=>e.startsWith("onUpdate:"),ge=Object.assign,Bi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Dd=Object.prototype.hasOwnProperty,se=(e,t)=>Dd.call(e,t),V=Array.isArray,bn=e=>Us(e)==="[object Map]",eo=e=>Us(e)==="[object Set]",Xa=e=>Us(e)==="[object Date]",j=e=>typeof e=="function",de=e=>typeof e=="string",$t=e=>typeof e=="symbol",re=e=>e!==null&&typeof e=="object",Li=e=>(re(e)||j(e))&&j(e.then)&&j(e.catch),Sc=Object.prototype.toString,Us=e=>Sc.call(e),ji=e=>Us(e).slice(8,-1),Oc=e=>Us(e)==="[object Object]",Hi=e=>de(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Es=qt(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Td=qt("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),to=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Id=/-(\w)/g,at=to(e=>e.replace(Id,(t,n)=>n?n.toUpperCase():"")),kd=/\B([A-Z])/g,Jt=to(e=>e.replace(kd,"-$1").toLowerCase()),no=to(e=>e.charAt(0).toUpperCase()+e.slice(1)),pn=to(e=>e?`on${no(e)}`:""),rn=(e,t)=>!Object.is(e,t),Vn=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Mr=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},ri=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Vd=e=>{const t=de(e)?Number(e):NaN;return isNaN(t)?e:t};let Qa;const Ws=()=>Qa||(Qa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ui(e){if(V(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=de(s)?Ld(s):Ui(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(de(e)||re(e))return e}const Md=/;(?![^(]*\))/g,Fd=/:([^]+)/,Bd=/\/\*[^]*?\*\//g;function Ld(e){const t={};return e.replace(Bd,"").split(Md).forEach(n=>{if(n){const s=n.split(Fd);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Kn(e){let t="";if(de(e))t=e;else if(V(e))for(let n=0;n<e.length;n++){const s=Kn(e[n]);s&&(t+=s+" ")}else if(re(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const jd="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Hd="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Ud="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",Wd=qt(jd),Kd=qt(Hd),Jd=qt(Ud),qd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gd=qt(qd);function Ac(e){return!!e||e===""}function Xd(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=Qn(e[s],t[s]);return n}function Qn(e,t){if(e===t)return!0;let n=Xa(e),s=Xa(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=$t(e),s=$t(t),n||s)return e===t;if(n=V(e),s=V(t),n||s)return n&&s?Xd(e,t):!1;if(n=re(e),s=re(t),n||s){if(!n||!s)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const i in e){const a=e.hasOwnProperty(i),l=t.hasOwnProperty(i);if(a&&!l||!a&&l||!Qn(e[i],t[i]))return!1}}return String(e)===String(t)}function Cc(e,t){return e.findIndex(n=>Qn(n,t))}const Rc=e=>!!(e&&e.__v_isRef===!0),Ht=e=>de(e)?e:e==null?"":V(e)||re(e)&&(e.toString===Sc||!j(e.toString))?Rc(e)?Ht(e.value):JSON.stringify(e,$c,2):String(e),$c=(e,t)=>Rc(t)?$c(e,t.value):bn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[Do(s,o)+" =>"]=r,n),{})}:eo(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Do(n))}:$t(t)?Do(t):re(t)&&!V(t)&&!Oc(t)?String(t):t,Do=(e,t="")=>{var n;return $t(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};var ue={env:{DEV_MODE:"production"}};function ct(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let qe;class Qd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=qe,!t&&qe&&(this.index=(qe.scopes||(qe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=qe;try{return qe=this,t()}finally{qe=n}}else ue.env.NODE_ENV!=="production"&&ct("cannot run an inactive effect scope.")}on(){++this._on===1&&(this.prevScope=qe,qe=this)}off(){this._on>0&&--this._on===0&&(qe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function zd(){return qe}let ie;const To=new WeakSet;class Pc{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,qe&&qe.active&&qe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,To.has(this)&&(To.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Tc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,za(this),Ic(this);const t=ie,n=lt;ie=this,lt=!0;try{return this.fn()}finally{ue.env.NODE_ENV!=="production"&&ie!==this&&ct("Active effect was not restored correctly - this is likely a Vue internal bug."),kc(this),ie=t,lt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ji(t);this.deps=this.depsTail=void 0,za(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?To.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){oi(this)&&this.run()}get dirty(){return oi(this)}}let Dc=0,xs,Ns;function Tc(e,t=!1){if(e.flags|=8,t){e.next=Ns,Ns=e;return}e.next=xs,xs=e}function Wi(){Dc++}function Ki(){if(--Dc>0)return;if(Ns){let t=Ns;for(Ns=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;xs;){let t=xs;for(xs=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Ic(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function kc(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Ji(s),Yd(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function oi(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Vc(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Vc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ts)||(e.globalVersion=Ts,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!oi(e))))return;e.flags|=2;const t=e.dep,n=ie,s=lt;ie=e,lt=!0;try{Ic(e);const r=e.fn(e._value);(t.version===0||rn(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{ie=n,lt=s,kc(e),e.flags&=-3}}function Ji(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),ue.env.NODE_ENV!=="production"&&n.subsHead===e&&(n.subsHead=r),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Ji(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Yd(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let lt=!0;const Mc=[];function ut(){Mc.push(lt),lt=!1}function ft(){const e=Mc.pop();lt=e===void 0?!0:e}function za(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ie;ie=void 0;try{t()}finally{ie=n}}}let Ts=0;class Zd{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class qi{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0,ue.env.NODE_ENV!=="production"&&(this.subsHead=void 0)}track(t){if(!ie||!lt||ie===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ie)n=this.activeLink=new Zd(ie,this),ie.deps?(n.prevDep=ie.depsTail,ie.depsTail.nextDep=n,ie.depsTail=n):ie.deps=ie.depsTail=n,Fc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=ie.depsTail,n.nextDep=void 0,ie.depsTail.nextDep=n,ie.depsTail=n,ie.deps===n&&(ie.deps=s)}return ue.env.NODE_ENV!=="production"&&ie.onTrack&&ie.onTrack(ge({effect:ie},t)),n}trigger(t){this.version++,Ts++,this.notify(t)}notify(t){Wi();try{if(ue.env.NODE_ENV!=="production")for(let n=this.subsHead;n;n=n.nextSub)n.sub.onTrigger&&!(n.sub.flags&8)&&n.sub.onTrigger(ge({effect:n.sub},t));for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ki()}}}function Fc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Fc(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),ue.env.NODE_ENV!=="production"&&e.dep.subsHead===void 0&&(e.dep.subsHead=e),e.dep.subs=e}}const ii=new WeakMap,vn=Symbol(ue.env.NODE_ENV!=="production"?"Object iterate":""),ai=Symbol(ue.env.NODE_ENV!=="production"?"Map keys iterate":""),Is=Symbol(ue.env.NODE_ENV!=="production"?"Array iterate":"");function ve(e,t,n){if(lt&&ie){let s=ii.get(e);s||ii.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new qi),r.map=s,r.key=n),ue.env.NODE_ENV!=="production"?r.track({target:e,type:t,key:n}):r.track()}}function xt(e,t,n,s,r,o){const i=ii.get(e);if(!i){Ts++;return}const a=l=>{l&&(ue.env.NODE_ENV!=="production"?l.trigger({target:e,type:t,key:n,newValue:s,oldValue:r,oldTarget:o}):l.trigger())};if(Wi(),t==="clear")i.forEach(a);else{const l=V(e),f=l&&Hi(n);if(l&&n==="length"){const u=Number(s);i.forEach((c,h)=>{(h==="length"||h===Is||!$t(h)&&h>=u)&&a(c)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),f&&a(i.get(Is)),t){case"add":l?f&&a(i.get("length")):(a(i.get(vn)),bn(e)&&a(i.get(ai)));break;case"delete":l||(a(i.get(vn)),bn(e)&&a(i.get(ai)));break;case"set":bn(e)&&a(i.get(vn));break}}Ki()}function Rn(e){const t=z(e);return t===e?t:(ve(t,"iterate",Is),Ue(e)?t:t.map(Te))}function so(e){return ve(e=z(e),"iterate",Is),e}const eh={__proto__:null,[Symbol.iterator](){return Io(this,Symbol.iterator,Te)},concat(...e){return Rn(this).concat(...e.map(t=>V(t)?Rn(t):t))},entries(){return Io(this,"entries",e=>(e[1]=Te(e[1]),e))},every(e,t){return kt(this,"every",e,t,void 0,arguments)},filter(e,t){return kt(this,"filter",e,t,n=>n.map(Te),arguments)},find(e,t){return kt(this,"find",e,t,Te,arguments)},findIndex(e,t){return kt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return kt(this,"findLast",e,t,Te,arguments)},findLastIndex(e,t){return kt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return kt(this,"forEach",e,t,void 0,arguments)},includes(...e){return ko(this,"includes",e)},indexOf(...e){return ko(this,"indexOf",e)},join(e){return Rn(this).join(e)},lastIndexOf(...e){return ko(this,"lastIndexOf",e)},map(e,t){return kt(this,"map",e,t,void 0,arguments)},pop(){return cs(this,"pop")},push(...e){return cs(this,"push",e)},reduce(e,...t){return Ya(this,"reduce",e,t)},reduceRight(e,...t){return Ya(this,"reduceRight",e,t)},shift(){return cs(this,"shift")},some(e,t){return kt(this,"some",e,t,void 0,arguments)},splice(...e){return cs(this,"splice",e)},toReversed(){return Rn(this).toReversed()},toSorted(e){return Rn(this).toSorted(e)},toSpliced(...e){return Rn(this).toSpliced(...e)},unshift(...e){return cs(this,"unshift",e)},values(){return Io(this,"values",Te)}};function Io(e,t,n){const s=so(e),r=s[t]();return s!==e&&!Ue(e)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=n(o.value)),o}),r}const th=Array.prototype;function kt(e,t,n,s,r,o){const i=so(e),a=i!==e&&!Ue(e),l=i[t];if(l!==th[t]){const c=l.apply(e,o);return a?Te(c):c}let f=n;i!==e&&(a?f=function(c,h){return n.call(this,Te(c),h,e)}:n.length>2&&(f=function(c,h){return n.call(this,c,h,e)}));const u=l.call(i,f,s);return a&&r?r(u):u}function Ya(e,t,n,s){const r=so(e);let o=n;return r!==e&&(Ue(e)?n.length>3&&(o=function(i,a,l){return n.call(this,i,a,l,e)}):o=function(i,a,l){return n.call(this,i,Te(a),l,e)}),r[t](o,...s)}function ko(e,t,n){const s=z(e);ve(s,"iterate",Is);const r=s[t](...n);return(r===-1||r===!1)&&Fr(n[0])?(n[0]=z(n[0]),s[t](...n)):r}function cs(e,t,n=[]){ut(),Wi();const s=z(e)[t].apply(e,n);return Ki(),ft(),s}const nh=qt("__proto__,__v_isRef,__isVue"),Bc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($t));function sh(e){$t(e)||(e=String(e));const t=z(this);return ve(t,"has",e),t.hasOwnProperty(e)}class Lc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?Jc:Kc:o?Wc:Uc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=V(t);if(!r){let l;if(i&&(l=eh[n]))return l;if(n==="hasOwnProperty")return sh}const a=Reflect.get(t,n,_e(t)?t:s);return($t(n)?Bc.has(n):nh(n))||(r||ve(t,"get",n),o)?a:_e(a)?i&&Hi(n)?a:a.value:re(a)?r?Gi(a):es(a):a}}class jc extends Lc{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._isShallow){const l=Pt(o);if(!Ue(s)&&!Pt(s)&&(o=z(o),s=z(s)),!V(t)&&_e(o)&&!_e(s))return l?(ue.env.NODE_ENV!=="production"&&ct(`Set operation on key "${String(n)}" failed: target is readonly.`,t[n]),!0):(o.value=s,!0)}const i=V(t)&&Hi(n)?Number(n)<t.length:se(t,n),a=Reflect.set(t,n,s,_e(t)?t:r);return t===z(r)&&(i?rn(s,o)&&xt(t,"set",n,s,o):xt(t,"add",n,s)),a}deleteProperty(t,n){const s=se(t,n),r=t[n],o=Reflect.deleteProperty(t,n);return o&&s&&xt(t,"delete",n,void 0,r),o}has(t,n){const s=Reflect.has(t,n);return(!$t(n)||!Bc.has(n))&&ve(t,"has",n),s}ownKeys(t){return ve(t,"iterate",V(t)?"length":vn),Reflect.ownKeys(t)}}class Hc extends Lc{constructor(t=!1){super(!0,t)}set(t,n){return ue.env.NODE_ENV!=="production"&&ct(`Set operation on key "${String(n)}" failed: target is readonly.`,t),!0}deleteProperty(t,n){return ue.env.NODE_ENV!=="production"&&ct(`Delete operation on key "${String(n)}" failed: target is readonly.`,t),!0}}const rh=new jc,oh=new Hc,ih=new jc(!0),ah=new Hc(!0),li=e=>e,ir=e=>Reflect.getPrototypeOf(e);function lh(e,t,n){return function(...s){const r=this.__v_raw,o=z(r),i=bn(o),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,f=r[e](...s),u=n?li:t?Br:Te;return!t&&ve(o,"iterate",l?ai:vn),{next(){const{value:c,done:h}=f.next();return h?{value:c,done:h}:{value:a?[u(c[0]),u(c[1])]:u(c),done:h}},[Symbol.iterator](){return this}}}}function ar(e){return function(...t){if(ue.env.NODE_ENV!=="production"){const n=t[0]?`on key "${t[0]}" `:"";ct(`${no(e)} operation ${n}failed: target is readonly.`,z(this))}return e==="delete"?!1:e==="clear"?void 0:this}}function ch(e,t){const n={get(r){const o=this.__v_raw,i=z(o),a=z(r);e||(rn(r,a)&&ve(i,"get",r),ve(i,"get",a));const{has:l}=ir(i),f=t?li:e?Br:Te;if(l.call(i,r))return f(o.get(r));if(l.call(i,a))return f(o.get(a));o!==i&&o.get(r)},get size(){const r=this.__v_raw;return!e&&ve(z(r),"iterate",vn),Reflect.get(r,"size",r)},has(r){const o=this.__v_raw,i=z(o),a=z(r);return e||(rn(r,a)&&ve(i,"has",r),ve(i,"has",a)),r===a?o.has(r):o.has(r)||o.has(a)},forEach(r,o){const i=this,a=i.__v_raw,l=z(a),f=t?li:e?Br:Te;return!e&&ve(l,"iterate",vn),a.forEach((u,c)=>r.call(o,f(u),f(c),i))}};return ge(n,e?{add:ar("add"),set:ar("set"),delete:ar("delete"),clear:ar("clear")}:{add(r){!t&&!Ue(r)&&!Pt(r)&&(r=z(r));const o=z(this);return ir(o).has.call(o,r)||(o.add(r),xt(o,"add",r,r)),this},set(r,o){!t&&!Ue(o)&&!Pt(o)&&(o=z(o));const i=z(this),{has:a,get:l}=ir(i);let f=a.call(i,r);f?ue.env.NODE_ENV!=="production"&&Za(i,a,r):(r=z(r),f=a.call(i,r));const u=l.call(i,r);return i.set(r,o),f?rn(o,u)&&xt(i,"set",r,o,u):xt(i,"add",r,o),this},delete(r){const o=z(this),{has:i,get:a}=ir(o);let l=i.call(o,r);l?ue.env.NODE_ENV!=="production"&&Za(o,i,r):(r=z(r),l=i.call(o,r));const f=a?a.call(o,r):void 0,u=o.delete(r);return l&&xt(o,"delete",r,void 0,f),u},clear(){const r=z(this),o=r.size!==0,i=ue.env.NODE_ENV!=="production"?bn(r)?new Map(r):new Set(r):void 0,a=r.clear();return o&&xt(r,"clear",void 0,void 0,i),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=lh(r,e,t)}),n}function ro(e,t){const n=ch(e,t);return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(se(n,r)&&r in s?n:s,r,o)}const uh={get:ro(!1,!1)},fh={get:ro(!1,!0)},dh={get:ro(!0,!1)},hh={get:ro(!0,!0)};function Za(e,t,n){const s=z(n);if(s!==n&&t.call(e,s)){const r=ji(e);ct(`Reactive ${r} contains both the raw and reactive versions of the same object${r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Uc=new WeakMap,Wc=new WeakMap,Kc=new WeakMap,Jc=new WeakMap;function ph(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mh(e){return e.__v_skip||!Object.isExtensible(e)?0:ph(ji(e))}function es(e){return Pt(e)?e:oo(e,!1,rh,uh,Uc)}function gh(e){return oo(e,!1,ih,fh,Wc)}function Gi(e){return oo(e,!0,oh,dh,Kc)}function At(e){return oo(e,!0,ah,hh,Jc)}function oo(e,t,n,s,r){if(!re(e))return ue.env.NODE_ENV!=="production"&&ct(`value cannot be made ${t?"readonly":"reactive"}: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=mh(e);if(o===0)return e;const i=r.get(e);if(i)return i;const a=new Proxy(e,o===2?s:n);return r.set(e,a),a}function En(e){return Pt(e)?En(e.__v_raw):!!(e&&e.__v_isReactive)}function Pt(e){return!!(e&&e.__v_isReadonly)}function Ue(e){return!!(e&&e.__v_isShallow)}function Fr(e){return e?!!e.__v_raw:!1}function z(e){const t=e&&e.__v_raw;return t?z(t):e}function _h(e){return!se(e,"__v_skip")&&Object.isExtensible(e)&&Mr(e,"__v_skip",!0),e}const Te=e=>re(e)?es(e):e,Br=e=>re(e)?Gi(e):e;function _e(e){return e?e.__v_isRef===!0:!1}function qc(e){return Gc(e,!1)}function yh(e){return Gc(e,!0)}function Gc(e,t){return _e(e)?e:new wh(e,t)}class wh{constructor(t,n){this.dep=new qi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:z(t),this._value=n?t:Te(t),this.__v_isShallow=n}get value(){return ue.env.NODE_ENV!=="production"?this.dep.track({target:this,type:"get",key:"value"}):this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Ue(t)||Pt(t);t=s?t:z(t),rn(t,n)&&(this._rawValue=t,this._value=s?t:Te(t),ue.env.NODE_ENV!=="production"?this.dep.trigger({target:this,type:"set",key:"value",newValue:t,oldValue:n}):this.dep.trigger())}}function Ss(e){return _e(e)?e.value:e}function el(e){return j(e)?e():Ss(e)}const bh={get:(e,t,n)=>t==="__v_raw"?e:Ss(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return _e(r)&&!_e(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Xc(e){return En(e)?e:new Proxy(e,bh)}class vh{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new qi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ts-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ie!==this)return Tc(this,!0),!0}get value(){const t=ue.env.NODE_ENV!=="production"?this.dep.track({target:this,type:"get",key:"value"}):this.dep.track();return Vc(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter?this.setter(t):ue.env.NODE_ENV!=="production"&&ct("Write operation failed: computed value is readonly")}}function Eh(e,t,n=!1){let s,r;return j(e)?s=e:(s=e.get,r=e.set),new vh(s,r,n)}const lr={},Lr=new WeakMap;let mn;function xh(e,t=!1,n=mn){if(n){let s=Lr.get(n);s||Lr.set(n,s=[]),s.push(e)}else ue.env.NODE_ENV!=="production"&&!t&&ct("onWatcherCleanup() was called when there was no active watcher to associate with.")}function Nh(e,t,n=oe){const{immediate:s,deep:r,once:o,scheduler:i,augmentJob:a,call:l}=n,f=R=>{(n.onWarn||ct)("Invalid watch source: ",R,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=R=>r?R:Ue(R)||r===!1||r===0?Ut(R,1):Ut(R);let c,h,m,w,y=!1,I=!1;if(_e(e)?(h=()=>e.value,y=Ue(e)):En(e)?(h=()=>u(e),y=!0):V(e)?(I=!0,y=e.some(R=>En(R)||Ue(R)),h=()=>e.map(R=>{if(_e(R))return R.value;if(En(R))return u(R);if(j(R))return l?l(R,2):R();ue.env.NODE_ENV!=="production"&&f(R)})):j(e)?t?h=l?()=>l(e,2):e:h=()=>{if(m){ut();try{m()}finally{ft()}}const R=mn;mn=c;try{return l?l(e,3,[w]):e(w)}finally{mn=R}}:(h=xe,ue.env.NODE_ENV!=="production"&&f(e)),t&&r){const R=h,G=r===!0?1/0:r;h=()=>Ut(R(),G)}const D=zd(),S=()=>{c.stop(),D&&D.active&&Bi(D.effects,c)};if(o&&t){const R=t;t=(...G)=>{R(...G),S()}}let F=I?new Array(e.length).fill(lr):lr;const Q=R=>{if(!(!(c.flags&1)||!c.dirty&&!R))if(t){const G=c.run();if(r||y||(I?G.some((ee,Y)=>rn(ee,F[Y])):rn(G,F))){m&&m();const ee=mn;mn=c;try{const Y=[G,F===lr?void 0:I&&F[0]===lr?[]:F,w];F=G,l?l(t,3,Y):t(...Y)}finally{mn=ee}}}else c.run()};return a&&a(Q),c=new Pc(h),c.scheduler=i?()=>i(Q,!1):Q,w=R=>xh(R,!1,c),m=c.onStop=()=>{const R=Lr.get(c);if(R){if(l)l(R,4);else for(const G of R)G();Lr.delete(c)}},ue.env.NODE_ENV!=="production"&&(c.onTrack=n.onTrack,c.onTrigger=n.onTrigger),t?s?Q(!0):F=c.run():i?i(Q.bind(null,!0),!0):c.run(),S.pause=c.pause.bind(c),S.resume=c.resume.bind(c),S.stop=S,S}function Ut(e,t=1/0,n){if(t<=0||!re(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,_e(e))Ut(e.value,t,n);else if(V(e))for(let s=0;s<e.length;s++)Ut(e[s],t,n);else if(eo(e)||bn(e))e.forEach(s=>{Ut(s,t,n)});else if(Oc(e)){for(const s in e)Ut(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Ut(e[s],t,n)}return e}var g={env:{DEV_MODE:"production"}};const xn=[];function wr(e){xn.push(e)}function br(){xn.pop()}let Vo=!1;function N(e,...t){if(Vo)return;Vo=!0,ut();const n=xn.length?xn[xn.length-1].component:null,s=n&&n.appContext.config.warnHandler,r=Sh();if(s)ts(s,n,11,[e+t.map(o=>{var i,a;return(a=(i=o.toString)==null?void 0:i.call(o))!=null?a:JSON.stringify(o)}).join(""),n&&n.proxy,r.map(({vnode:o})=>`at <${fo(n,o.type)}>`).join(`
`),r]);else{const o=[`[Vue warn]: ${e}`,...t];r.length&&o.push(`
`,...Oh(r)),console.warn(...o)}ft(),Vo=!1}function Sh(){let e=xn[xn.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const s=e.component&&e.component.parent;e=s&&s.vnode}return t}function Oh(e){const t=[];return e.forEach((n,s)=>{t.push(...s===0?[]:[`
`],...Ah(n))}),t}function Ah({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",s=e.component?e.component.parent==null:!1,r=` at <${fo(e.component,e.type,s)}`,o=">"+n;return e.props?[r,...Ch(e.props),o]:[r+o]}function Ch(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(s=>{t.push(...Qc(s,e[s]))}),n.length>3&&t.push(" ..."),t}function Qc(e,t,n){return de(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:_e(t)?(t=Qc(e,z(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):j(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=z(t),n?t:[`${e}=`,t])}function Rh(e,t){g.env.NODE_ENV!=="production"&&e!==void 0&&(typeof e!="number"?N(`${t} is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&N(`${t} is NaN - the duration expression might be incorrect.`))}const Xi={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function ts(e,t,n,s){try{return s?e(...s):e()}catch(r){Ks(r,t,n)}}function dt(e,t,n,s){if(j(e)){const r=ts(e,t,n,s);return r&&Li(r)&&r.catch(o=>{Ks(o,t,n)}),r}if(V(e)){const r=[];for(let o=0;o<e.length;o++)r.push(dt(e[o],t,n,s));return r}else g.env.NODE_ENV!=="production"&&N(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof e}`)}function Ks(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||oe;if(t){let a=t.parent;const l=t.proxy,f=g.env.NODE_ENV!=="production"?Xi[n]:`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,l,f)===!1)return}a=a.parent}if(o){ut(),ts(o,null,10,[e,l,f]),ft();return}}$h(e,n,r,s,i)}function $h(e,t,n,s=!0,r=!1){if(g.env.NODE_ENV!=="production"){const o=Xi[t];if(n&&wr(n),N(`Unhandled error${o?` during execution of ${o}`:""}`),n&&br(),s)throw e;console.error(e)}else{if(r)throw e;console.error(e)}}const je=[];let wt=-1;const Jn=[];let en=null,Mn=0;const zc=Promise.resolve();let jr=null;const Ph=100;function Yc(e){const t=jr||zc;return e?t.then(this?e.bind(this):e):t}function Dh(e){let t=wt+1,n=je.length;for(;t<n;){const s=t+n>>>1,r=je[s],o=ks(r);o<e||o===e&&r.flags&2?t=s+1:n=s}return t}function io(e){if(!(e.flags&1)){const t=ks(e),n=je[je.length-1];!n||!(e.flags&2)&&t>=ks(n)?je.push(e):je.splice(Dh(t),0,e),e.flags|=1,Zc()}}function Zc(){jr||(jr=zc.then(nu))}function eu(e){V(e)?Jn.push(...e):en&&e.id===-1?en.splice(Mn+1,0,e):e.flags&1||(Jn.push(e),e.flags|=1),Zc()}function tl(e,t,n=wt+1){for(g.env.NODE_ENV!=="production"&&(t=t||new Map);n<je.length;n++){const s=je[n];if(s&&s.flags&2){if(e&&s.id!==e.uid||g.env.NODE_ENV!=="production"&&Qi(t,s))continue;je.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function tu(e){if(Jn.length){const t=[...new Set(Jn)].sort((n,s)=>ks(n)-ks(s));if(Jn.length=0,en){en.push(...t);return}for(en=t,g.env.NODE_ENV!=="production"&&(e=e||new Map),Mn=0;Mn<en.length;Mn++){const n=en[Mn];g.env.NODE_ENV!=="production"&&Qi(e,n)||(n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2)}en=null,Mn=0}}const ks=e=>e.id==null?e.flags&2?-1:1/0:e.id;function nu(e){g.env.NODE_ENV!=="production"&&(e=e||new Map);const t=g.env.NODE_ENV!=="production"?n=>Qi(e,n):xe;try{for(wt=0;wt<je.length;wt++){const n=je[wt];if(n&&!(n.flags&8)){if(g.env.NODE_ENV!=="production"&&t(n))continue;n.flags&4&&(n.flags&=-2),ts(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2)}}}finally{for(;wt<je.length;wt++){const n=je[wt];n&&(n.flags&=-2)}wt=-1,je.length=0,tu(e),jr=null,(je.length||Jn.length)&&nu(e)}}function Qi(e,t){const n=e.get(t)||0;if(n>Ph){const s=t.i,r=s&&Uu(s.type);return Ks(`Maximum recursive updates exceeded${r?` in component <${r}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}return e.set(t,n+1),!1}let Ct=!1;const vr=new Map;g.env.NODE_ENV!=="production"&&(Ws().__VUE_HMR_RUNTIME__={createRecord:Mo(su),rerender:Mo(kh),reload:Mo(Vh)});const Sn=new Map;function Th(e){const t=e.type.__hmrId;let n=Sn.get(t);n||(su(t,e.type),n=Sn.get(t)),n.instances.add(e)}function Ih(e){Sn.get(e.type.__hmrId).instances.delete(e)}function su(e,t){return Sn.has(e)?!1:(Sn.set(e,{initialDef:Hr(t),instances:new Set}),!0)}function Hr(e){return Wu(e)?e.__vccOpts:e}function kh(e,t){const n=Sn.get(e);n&&(n.initialDef.render=t,[...n.instances].forEach(s=>{t&&(s.render=t,Hr(s.type).render=t),s.renderCache=[],Ct=!0,s.job.flags&8||s.update(),Ct=!1}))}function Vh(e,t){const n=Sn.get(e);if(!n)return;t=Hr(t),nl(n.initialDef,t);const s=[...n.instances];for(let r=0;r<s.length;r++){const o=s[r],i=Hr(o.type);let a=vr.get(i);a||(i!==n.initialDef&&nl(i,t),vr.set(i,a=new Set)),a.add(o),o.appContext.propsCache.delete(o.type),o.appContext.emitsCache.delete(o.type),o.appContext.optionsCache.delete(o.type),o.ceReload?(a.add(o),o.ceReload(t.styles),a.delete(o)):o.parent?io(()=>{Ct=!0,o.parent.update(),Ct=!1,a.delete(o)}):o.appContext.reload?o.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required."),o.root.ce&&o!==o.root&&o.root.ce._removeChildStyle(i)}eu(()=>{vr.clear()})}function nl(e,t){ge(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function Mo(e){return(t,n)=>{try{return e(t,n)}catch(s){console.error(s),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let Nt,hs=[],ci=!1;function Js(e,...t){Nt?Nt.emit(e,...t):ci||hs.push({event:e,args:t})}function ru(e,t){var n,s;Nt=e,Nt?(Nt.enabled=!0,hs.forEach(({event:r,args:o})=>Nt.emit(r,...o)),hs=[]):typeof window<"u"&&window.HTMLElement&&!((s=(n=window.navigator)==null?void 0:n.userAgent)!=null&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{ru(o,t)}),setTimeout(()=>{Nt||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ci=!0,hs=[])},3e3)):(ci=!0,hs=[])}function Mh(e,t){Js("app:init",e,t,{Fragment:Ge,Text:Xs,Comment:ye,Static:Nr})}function Fh(e){Js("app:unmount",e)}const Bh=zi("component:added"),ou=zi("component:updated"),Lh=zi("component:removed"),jh=e=>{Nt&&typeof Nt.cleanupBuffer=="function"&&!Nt.cleanupBuffer(e)&&Lh(e)};/*! #__NO_SIDE_EFFECTS__ */function zi(e){return t=>{Js(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const Hh=iu("perf:start"),Uh=iu("perf:end");function iu(e){return(t,n,s)=>{Js(e,t.appContext.app,t.uid,t,n,s)}}function Wh(e,t,n){Js("component:emit",e.appContext.app,e,t,n)}let He=null,au=null;function Ur(e){const t=He;return He=e,au=e&&e.type.__scopeId||null,t}function Fn(e,t=He,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&ml(-1);const o=Ur(t);let i;try{i=e(...r)}finally{Ur(o),s._d&&ml(1)}return g.env.NODE_ENV!=="production"&&ou(t),i};return s._n=!0,s._c=!0,s._d=!0,s}function lu(e){Td(e)&&N("Do not use built-in directive ids as custom directive id: "+e)}function Hn(e,t){if(He===null)return g.env.NODE_ENV!=="production"&&N("withDirectives can only be used inside render functions."),e;const n=uo(He),s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,a,l=oe]=t[r];o&&(j(o)&&(o={mounted:o,updated:o}),o.deep&&Ut(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function cn(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let l=a.dir[s];l&&(ut(),dt(l,n,8,[e.el,a,e,t]),ft())}}const Kh=Symbol("_vte"),cu=e=>e.__isTeleport,Lt=Symbol("_leaveCb"),cr=Symbol("_enterCb");function Jh(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Yi(()=>{e.isMounted=!0}),_u(()=>{e.isUnmounting=!0}),e}const tt=[Function,Array],uu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:tt,onEnter:tt,onAfterEnter:tt,onEnterCancelled:tt,onBeforeLeave:tt,onLeave:tt,onAfterLeave:tt,onLeaveCancelled:tt,onBeforeAppear:tt,onAppear:tt,onAfterAppear:tt,onAppearCancelled:tt},fu=e=>{const t=e.subTree;return t.component?fu(t.component):t},qh={name:"BaseTransition",props:uu,setup(e,{slots:t}){const n=co(),s=Jh();return()=>{const r=t.default&&pu(t.default(),!0);if(!r||!r.length)return;const o=du(r),i=z(e),{mode:a}=i;if(g.env.NODE_ENV!=="production"&&a&&a!=="in-out"&&a!=="out-in"&&a!=="default"&&N(`invalid <transition> mode: ${a}`),s.isLeaving)return Fo(o);const l=sl(o);if(!l)return Fo(o);let f=ui(l,i,s,n,c=>f=c);l.type!==ye&&Vs(l,f);let u=n.subTree&&sl(n.subTree);if(u&&u.type!==ye&&!gn(l,u)&&fu(n).type!==ye){let c=ui(u,i,s,n);if(Vs(u,c),a==="out-in"&&l.type!==ye)return s.isLeaving=!0,c.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete c.afterLeave,u=void 0},Fo(o);a==="in-out"&&l.type!==ye?c.delayLeave=(h,m,w)=>{const y=hu(s,u);y[String(u.key)]=u,h[Lt]=()=>{m(),h[Lt]=void 0,delete f.delayedLeave,u=void 0},f.delayedLeave=()=>{w(),delete f.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function du(e){let t=e[0];if(e.length>1){let n=!1;for(const s of e)if(s.type!==ye){if(g.env.NODE_ENV!=="production"&&n){N("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}if(t=s,n=!0,g.env.NODE_ENV==="production")break}}return t}const Gh=qh;function hu(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function ui(e,t,n,s,r){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:h,onLeave:m,onAfterLeave:w,onLeaveCancelled:y,onBeforeAppear:I,onAppear:D,onAfterAppear:S,onAppearCancelled:F}=t,Q=String(e.key),R=hu(n,e),G=(k,L)=>{k&&dt(k,s,9,L)},ee=(k,L)=>{const q=L[1];G(k,L),V(k)?k.every(T=>T.length<=1)&&q():k.length<=1&&q()},Y={mode:i,persisted:a,beforeEnter(k){let L=l;if(!n.isMounted)if(o)L=I||l;else return;k[Lt]&&k[Lt](!0);const q=R[Q];q&&gn(e,q)&&q.el[Lt]&&q.el[Lt](),G(L,[k])},enter(k){let L=f,q=u,T=c;if(!n.isMounted)if(o)L=D||f,q=S||u,T=F||c;else return;let le=!1;const $e=k[cr]=Se=>{le||(le=!0,Se?G(T,[k]):G(q,[k]),Y.delayedLeave&&Y.delayedLeave(),k[cr]=void 0)};L?ee(L,[k,$e]):$e()},leave(k,L){const q=String(e.key);if(k[cr]&&k[cr](!0),n.isUnmounting)return L();G(h,[k]);let T=!1;const le=k[Lt]=$e=>{T||(T=!0,L(),$e?G(y,[k]):G(w,[k]),k[Lt]=void 0,R[q]===e&&delete R[q])};R[q]=e,m?ee(m,[k,le]):le()},clone(k){const L=ui(k,t,n,s,r);return r&&r(L),L}};return Y}function Fo(e){if(Gs(e))return e=Dt(e),e.children=null,e}function sl(e){if(!Gs(e))return cu(e.type)&&e.children?du(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&j(n.default))return n.default()}}function Vs(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Vs(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function pu(e,t=!1,n){let s=[],r=0;for(let o=0;o<e.length;o++){let i=e[o];const a=n==null?i.key:String(n)+String(i.key!=null?i.key:o);i.type===Ge?(i.patchFlag&128&&r++,s=s.concat(pu(i.children,t,a))):(t||i.type!==ye)&&s.push(a!=null?Dt(i,{key:a}):i)}if(r>1)for(let o=0;o<s.length;o++)s[o].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function qs(e,t){return j(e)?ge({name:e.name},t,{setup:e}):e}function mu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const fi=new WeakSet;function di(e){const t=co(),n=yh(null);if(t){const r=t.refs===oe?t.refs={}:t.refs;let o;g.env.NODE_ENV!=="production"&&(o=Object.getOwnPropertyDescriptor(r,e))&&!o.configurable?N(`useTemplateRef('${e}') already exists.`):Object.defineProperty(r,e,{enumerable:!0,get:()=>n.value,set:i=>n.value=i})}else g.env.NODE_ENV!=="production"&&N("useTemplateRef() is called when there is no active component instance to be associated with.");const s=g.env.NODE_ENV!=="production"?Gi(n):n;return g.env.NODE_ENV!=="production"&&fi.add(s),s}function Os(e,t,n,s,r=!1){if(V(e)){e.forEach((y,I)=>Os(y,t&&(V(t)?t[I]:t),n,s,r));return}if(As(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Os(e,t,n,s.component.subTree);return}const o=s.shapeFlag&4?uo(s.component):s.el,i=r?null:o,{i:a,r:l}=e;if(g.env.NODE_ENV!=="production"&&!a){N("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const f=t&&t.r,u=a.refs===oe?a.refs={}:a.refs,c=a.setupState,h=z(c),m=c===oe?Nc:y=>g.env.NODE_ENV!=="production"&&(se(h,y)&&!_e(h[y])&&N(`Template ref "${y}" used on a non-ref value. It will not work in the production build.`),fi.has(h[y]))?!1:se(h,y),w=y=>g.env.NODE_ENV==="production"||!fi.has(y);if(f!=null&&f!==l){if(de(f))u[f]=null,m(f)&&(c[f]=null);else if(_e(f)){w(f)&&(f.value=null);const y=t;y.k&&(u[y.k]=null)}}if(j(l))ts(l,a,12,[i,u]);else{const y=de(l),I=_e(l);if(y||I){const D=()=>{if(e.f){const S=y?m(l)?c[l]:u[l]:w(l)||!e.k?l.value:u[e.k];if(r)V(S)&&Bi(S,o);else if(V(S))S.includes(o)||S.push(o);else if(y)u[l]=[o],m(l)&&(c[l]=u[l]);else{const F=[o];w(l)&&(l.value=F),e.k&&(u[e.k]=F)}}else y?(u[l]=i,m(l)&&(c[l]=i)):I?(w(l)&&(l.value=i),e.k&&(u[e.k]=i)):g.env.NODE_ENV!=="production"&&N("Invalid template ref type:",l,`(${typeof l})`)};i?(D.id=-1,ze(D,n)):D()}else g.env.NODE_ENV!=="production"&&N("Invalid template ref type:",l,`(${typeof l})`)}}Ws().requestIdleCallback;Ws().cancelIdleCallback;const As=e=>!!e.type.__asyncLoader,Gs=e=>e.type.__isKeepAlive;function Xh(e,t){gu(e,"a",t)}function Qh(e,t){gu(e,"da",t)}function gu(e,t,n=Ie){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(ao(t,s,n),n){let r=n.parent;for(;r&&r.parent;)Gs(r.parent.vnode)&&zh(s,t,n,r),r=r.parent}}function zh(e,t,n,s){const r=ao(t,e,s,!0);yu(()=>{Bi(s[t],r)},n)}function ao(e,t,n=Ie,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{ut();const a=Qs(n),l=dt(t,n,e,i);return a(),ft(),l});return s?r.unshift(o):r.push(o),o}else if(g.env.NODE_ENV!=="production"){const r=pn(Xi[e].replace(/ hook$/,""));N(`${r} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Gt=e=>(t,n=Ie)=>{(!Fs||e==="sp")&&ao(e,(...s)=>t(...s),n)},Yh=Gt("bm"),Yi=Gt("m"),Zh=Gt("bu"),ep=Gt("u"),_u=Gt("bum"),yu=Gt("um"),tp=Gt("sp"),np=Gt("rtg"),sp=Gt("rtc");function rp(e,t=Ie){ao("ec",e,t)}const op=Symbol.for("v-ndc");function hi(e,t,n,s){let r;const o=n,i=V(e);if(i||de(e)){const a=i&&En(e);let l=!1,f=!1;a&&(l=!Ue(e),f=Pt(e),e=so(e)),r=new Array(e.length);for(let u=0,c=e.length;u<c;u++)r[u]=t(l?f?Br(Te(e[u])):Te(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){g.env.NODE_ENV!=="production"&&!Number.isInteger(e)&&N(`The v-for range expect an integer value but got ${e}.`),r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,o)}else if(re(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,o));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const u=a[l];r[l]=t(e[u],u,l,o)}}else r=[];return r}const pi=e=>e?ju(e)?uo(e):pi(e.parent):null,Nn=ge(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>g.env.NODE_ENV!=="production"?At(e.props):e.props,$attrs:e=>g.env.NODE_ENV!=="production"?At(e.attrs):e.attrs,$slots:e=>g.env.NODE_ENV!=="production"?At(e.slots):e.slots,$refs:e=>g.env.NODE_ENV!=="production"?At(e.refs):e.refs,$parent:e=>pi(e.parent),$root:e=>pi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>vu(e),$forceUpdate:e=>e.f||(e.f=()=>{io(e.update)}),$nextTick:e=>e.n||(e.n=Yc.bind(e.proxy)),$watch:e=>Fp.bind(e)}),Zi=e=>e==="_"||e==="$",Bo=(e,t)=>e!==oe&&!e.__isScriptSetup&&se(e,t),wu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:a,appContext:l}=e;if(g.env.NODE_ENV!=="production"&&t==="__isVue")return!0;let f;if(t[0]!=="$"){const m=i[t];if(m!==void 0)switch(m){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(Bo(s,t))return i[t]=1,s[t];if(r!==oe&&se(r,t))return i[t]=2,r[t];if((f=e.propsOptions[0])&&se(f,t))return i[t]=3,o[t];if(n!==oe&&se(n,t))return i[t]=4,n[t];mi&&(i[t]=0)}}const u=Nn[t];let c,h;if(u)return t==="$attrs"?(ve(e.attrs,"get",""),g.env.NODE_ENV!=="production"&&Jr()):g.env.NODE_ENV!=="production"&&t==="$slots"&&ve(e,"get",t),u(e);if((c=a.__cssModules)&&(c=c[t]))return c;if(n!==oe&&se(n,t))return i[t]=4,n[t];if(h=l.config.globalProperties,se(h,t))return h[t];g.env.NODE_ENV!=="production"&&He&&(!de(t)||t.indexOf("__v")!==0)&&(r!==oe&&Zi(t[0])&&se(r,t)?N(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===He&&N(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return Bo(r,t)?(r[t]=n,!0):g.env.NODE_ENV!=="production"&&r.__isScriptSetup&&se(r,t)?(N(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):s!==oe&&se(s,t)?(s[t]=n,!0):se(e.props,t)?(g.env.NODE_ENV!=="production"&&N(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(g.env.NODE_ENV!=="production"&&N(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(g.env.NODE_ENV!=="production"&&t in e.appContext.config.globalProperties?Object.defineProperty(o,t,{enumerable:!0,configurable:!0,value:n}):o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o,type:i}},a){let l,f;return!!(n[a]||e!==oe&&a[0]!=="$"&&se(e,a)||Bo(t,a)||(l=o[0])&&se(l,a)||se(s,a)||se(Nn,a)||se(r.config.globalProperties,a)||(f=i.__cssModules)&&f[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:se(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};g.env.NODE_ENV!=="production"&&(wu.ownKeys=e=>(N("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e)));function ip(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(Nn).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>Nn[n](e),set:xe})}),t}function ap(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(s=>{Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>e.props[s],set:xe})})}function lp(e){const{ctx:t,setupState:n}=e;Object.keys(z(n)).forEach(s=>{if(!n.__isScriptSetup){if(Zi(s[0])){N(`setup() return property ${JSON.stringify(s)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>n[s],set:xe})}})}function rl(e){return V(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function cp(){const e=Object.create(null);return(t,n)=>{e[n]?N(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let mi=!0;function up(e){const t=vu(e),n=e.proxy,s=e.ctx;mi=!1,t.beforeCreate&&ol(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:a,provide:l,inject:f,created:u,beforeMount:c,mounted:h,beforeUpdate:m,updated:w,activated:y,deactivated:I,beforeDestroy:D,beforeUnmount:S,destroyed:F,unmounted:Q,render:R,renderTracked:G,renderTriggered:ee,errorCaptured:Y,serverPrefetch:k,expose:L,inheritAttrs:q,components:T,directives:le,filters:$e}=t,Se=g.env.NODE_ENV!=="production"?cp():null;if(g.env.NODE_ENV!=="production"){const[te]=e.propsOptions;if(te)for(const Z in te)Se("Props",Z)}if(f&&fp(f,s,Se),i)for(const te in i){const Z=i[te];j(Z)?(g.env.NODE_ENV!=="production"?Object.defineProperty(s,te,{value:Z.bind(n),configurable:!0,enumerable:!0,writable:!0}):s[te]=Z.bind(n),g.env.NODE_ENV!=="production"&&Se("Methods",te)):g.env.NODE_ENV!=="production"&&N(`Method "${te}" has type "${typeof Z}" in the component definition. Did you reference the function correctly?`)}if(r){g.env.NODE_ENV!=="production"&&!j(r)&&N("The data option must be a function. Plain object usage is no longer supported.");const te=r.call(n,n);if(g.env.NODE_ENV!=="production"&&Li(te)&&N("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!re(te))g.env.NODE_ENV!=="production"&&N("data() should return an object.");else if(e.data=es(te),g.env.NODE_ENV!=="production")for(const Z in te)Se("Data",Z),Zi(Z[0])||Object.defineProperty(s,Z,{configurable:!0,enumerable:!0,get:()=>te[Z],set:xe})}if(mi=!0,o)for(const te in o){const Z=o[te],ht=j(Z)?Z.bind(n,n):j(Z.get)?Z.get.bind(n,n):xe;g.env.NODE_ENV!=="production"&&ht===xe&&N(`Computed property "${te}" has no getter.`);const Co=!j(Z)&&j(Z.set)?Z.set.bind(n):g.env.NODE_ENV!=="production"?()=>{N(`Write operation failed: computed property "${te}" is readonly.`)}:xe,os=nn({get:ht,set:Co});Object.defineProperty(s,te,{enumerable:!0,configurable:!0,get:()=>os.value,set:An=>os.value=An}),g.env.NODE_ENV!=="production"&&Se("Computed",te)}if(a)for(const te in a)bu(a[te],s,n,te);if(l){const te=j(l)?l.call(n):l;Reflect.ownKeys(te).forEach(Z=>{_p(Z,te[Z])})}u&&ol(u,e,"c");function Pe(te,Z){V(Z)?Z.forEach(ht=>te(ht.bind(n))):Z&&te(Z.bind(n))}if(Pe(Yh,c),Pe(Yi,h),Pe(Zh,m),Pe(ep,w),Pe(Xh,y),Pe(Qh,I),Pe(rp,Y),Pe(sp,G),Pe(np,ee),Pe(_u,S),Pe(yu,Q),Pe(tp,k),V(L))if(L.length){const te=e.exposed||(e.exposed={});L.forEach(Z=>{Object.defineProperty(te,Z,{get:()=>n[Z],set:ht=>n[Z]=ht,enumerable:!0})})}else e.exposed||(e.exposed={});R&&e.render===xe&&(e.render=R),q!=null&&(e.inheritAttrs=q),T&&(e.components=T),le&&(e.directives=le),k&&mu(e)}function fp(e,t,n=xe){V(e)&&(e=gi(e));for(const s in e){const r=e[s];let o;re(r)?"default"in r?o=Er(r.from||s,r.default,!0):o=Er(r.from||s):o=Er(r),_e(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[s]=o,g.env.NODE_ENV!=="production"&&n("Inject",s)}}function ol(e,t,n){dt(V(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function bu(e,t,n,s){let r=s.includes(".")?Tu(n,s):()=>n[s];if(de(e)){const o=t[e];j(o)?Cs(r,o):g.env.NODE_ENV!=="production"&&N(`Invalid watch handler specified by key "${e}"`,o)}else if(j(e))Cs(r,e.bind(n));else if(re(e))if(V(e))e.forEach(o=>bu(o,t,n,s));else{const o=j(e.handler)?e.handler.bind(n):t[e.handler];j(o)?Cs(r,o,e):g.env.NODE_ENV!=="production"&&N(`Invalid watch handler specified by key "${e.handler}"`,o)}else g.env.NODE_ENV!=="production"&&N(`Invalid watch option: "${s}"`,e)}function vu(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let l;return a?l=a:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(f=>Wr(l,f,i,!0)),Wr(l,t,i)),re(t)&&o.set(t,l),l}function Wr(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&Wr(e,o,n,!0),r&&r.forEach(i=>Wr(e,i,n,!0));for(const i in t)if(s&&i==="expose")g.env.NODE_ENV!=="production"&&N('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=dp[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const dp={data:il,props:al,emits:al,methods:ps,computed:ps,beforeCreate:Be,created:Be,beforeMount:Be,mounted:Be,beforeUpdate:Be,updated:Be,beforeDestroy:Be,beforeUnmount:Be,destroyed:Be,unmounted:Be,activated:Be,deactivated:Be,errorCaptured:Be,serverPrefetch:Be,components:ps,directives:ps,watch:pp,provide:il,inject:hp};function il(e,t){return t?e?function(){return ge(j(e)?e.call(this,this):e,j(t)?t.call(this,this):t)}:t:e}function hp(e,t){return ps(gi(e),gi(t))}function gi(e){if(V(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Be(e,t){return e?[...new Set([].concat(e,t))]:t}function ps(e,t){return e?ge(Object.create(null),e,t):t}function al(e,t){return e?V(e)&&V(t)?[...new Set([...e,...t])]:ge(Object.create(null),rl(e),rl(t??{})):t}function pp(e,t){if(!e)return t;if(!t)return e;const n=ge(Object.create(null),e);for(const s in t)n[s]=Be(e[s],t[s]);return n}function Eu(){return{app:null,config:{isNativeTag:Nc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mp=0;function gp(e,t){return function(s,r=null){j(s)||(s=ge({},s)),r!=null&&!re(r)&&(g.env.NODE_ENV!=="production"&&N("root props passed to app.mount() must be an object."),r=null);const o=Eu(),i=new WeakSet,a=[];let l=!1;const f=o.app={_uid:mp++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:wl,get config(){return o.config},set config(u){g.env.NODE_ENV!=="production"&&N("app.config cannot be replaced. Modify individual options instead.")},use(u,...c){return i.has(u)?g.env.NODE_ENV!=="production"&&N("Plugin has already been applied to target app."):u&&j(u.install)?(i.add(u),u.install(f,...c)):j(u)?(i.add(u),u(f,...c)):g.env.NODE_ENV!=="production"&&N('A plugin must either be a function or an object with an "install" function.'),f},mixin(u){return o.mixins.includes(u)?g.env.NODE_ENV!=="production"&&N("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):o.mixins.push(u),f},component(u,c){return g.env.NODE_ENV!=="production"&&vi(u,o.config),c?(g.env.NODE_ENV!=="production"&&o.components[u]&&N(`Component "${u}" has already been registered in target app.`),o.components[u]=c,f):o.components[u]},directive(u,c){return g.env.NODE_ENV!=="production"&&lu(u),c?(g.env.NODE_ENV!=="production"&&o.directives[u]&&N(`Directive "${u}" has already been registered in target app.`),o.directives[u]=c,f):o.directives[u]},mount(u,c,h){if(l)g.env.NODE_ENV!=="production"&&N("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{g.env.NODE_ENV!=="production"&&u.__vue_app__&&N("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const m=f._ceVNode||Ce(s,r);return m.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),g.env.NODE_ENV!=="production"&&(o.reload=()=>{const w=Dt(m);w.el=null,e(w,u,h)}),e(m,u,h),l=!0,f._container=u,u.__vue_app__=f,g.env.NODE_ENV!=="production"&&(f._instance=m.component,Mh(f,wl)),uo(m.component)}},onUnmount(u){g.env.NODE_ENV!=="production"&&typeof u!="function"&&N(`Expected function as first argument to app.onUnmount(), but got ${typeof u}`),a.push(u)},unmount(){l?(dt(a,f._instance,16),e(null,f._container),g.env.NODE_ENV!=="production"&&(f._instance=null,Fh(f)),delete f._container.__vue_app__):g.env.NODE_ENV!=="production"&&N("Cannot unmount an app that is not mounted.")},provide(u,c){return g.env.NODE_ENV!=="production"&&u in o.provides&&(se(o.provides,u)?N(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`):N(`App already provides property with key "${String(u)}" inherited from its parent element. It will be overwritten with the new value.`)),o.provides[u]=c,f},runWithContext(u){const c=qn;qn=f;try{return u()}finally{qn=c}}};return f}}let qn=null;function _p(e,t){if(!Ie)g.env.NODE_ENV!=="production"&&N("provide() can only be used inside setup().");else{let n=Ie.provides;const s=Ie.parent&&Ie.parent.provides;s===n&&(n=Ie.provides=Object.create(s)),n[e]=t}}function Er(e,t,n=!1){const s=co();if(s||qn){let r=qn?qn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&j(t)?t.call(s&&s.proxy):t;g.env.NODE_ENV!=="production"&&N(`injection "${String(e)}" not found.`)}else g.env.NODE_ENV!=="production"&&N("inject() can only be used inside setup() or functional components.")}const xu={},Nu=()=>Object.create(xu),Su=e=>Object.getPrototypeOf(e)===xu;function yp(e,t,n,s=!1){const r={},o=Nu();e.propsDefaults=Object.create(null),Ou(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);g.env.NODE_ENV!=="production"&&Cu(t||{},r,e),n?e.props=s?r:gh(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function wp(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function bp(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,a=z(r),[l]=e.propsOptions;let f=!1;if(!(g.env.NODE_ENV!=="production"&&wp(e))&&(s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let c=0;c<u.length;c++){let h=u[c];if(lo(e.emitsOptions,h))continue;const m=t[h];if(l)if(se(o,h))m!==o[h]&&(o[h]=m,f=!0);else{const w=at(h);r[w]=_i(l,a,w,m,e,!1)}else m!==o[h]&&(o[h]=m,f=!0)}}}else{Ou(e,t,r,o)&&(f=!0);let u;for(const c in a)(!t||!se(t,c)&&((u=Jt(c))===c||!se(t,u)))&&(l?n&&(n[c]!==void 0||n[u]!==void 0)&&(r[c]=_i(l,a,c,void 0,e,!0)):delete r[c]);if(o!==a)for(const c in o)(!t||!se(t,c))&&(delete o[c],f=!0)}f&&xt(e.attrs,"set",""),g.env.NODE_ENV!=="production"&&Cu(t||{},r,e)}function Ou(e,t,n,s){const[r,o]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(Es(l))continue;const f=t[l];let u;r&&se(r,u=at(l))?!o||!o.includes(u)?n[u]=f:(a||(a={}))[u]=f:lo(e.emitsOptions,l)||(!(l in s)||f!==s[l])&&(s[l]=f,i=!0)}if(o){const l=z(n),f=a||oe;for(let u=0;u<o.length;u++){const c=o[u];n[c]=_i(r,l,c,f[c],e,!se(f,c))}}return i}function _i(e,t,n,s,r,o){const i=e[n];if(i!=null){const a=se(i,"default");if(a&&s===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&j(l)){const{propsDefaults:f}=r;if(n in f)s=f[n];else{const u=Qs(r);s=f[n]=l.call(null,t),u()}}else s=l;r.ce&&r.ce._setProp(n,s)}i[0]&&(o&&!a?s=!1:i[1]&&(s===""||s===Jt(n))&&(s=!0))}return s}const vp=new WeakMap;function Au(e,t,n=!1){const s=n?vp:t.propsCache,r=s.get(e);if(r)return r;const o=e.props,i={},a=[];let l=!1;if(!j(e)){const u=c=>{l=!0;const[h,m]=Au(c,t,!0);ge(i,h),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return re(e)&&s.set(e,Wn),Wn;if(V(o))for(let u=0;u<o.length;u++){g.env.NODE_ENV!=="production"&&!de(o[u])&&N("props must be strings when using array syntax.",o[u]);const c=at(o[u]);ll(c)&&(i[c]=oe)}else if(o){g.env.NODE_ENV!=="production"&&!re(o)&&N("invalid props options",o);for(const u in o){const c=at(u);if(ll(c)){const h=o[u],m=i[c]=V(h)||j(h)?{type:h}:ge({},h),w=m.type;let y=!1,I=!0;if(V(w))for(let D=0;D<w.length;++D){const S=w[D],F=j(S)&&S.name;if(F==="Boolean"){y=!0;break}else F==="String"&&(I=!1)}else y=j(w)&&w.name==="Boolean";m[0]=y,m[1]=I,(y||se(m,"default"))&&a.push(c)}}}const f=[i,a];return re(e)&&s.set(e,f),f}function ll(e){return e[0]!=="$"&&!Es(e)?!0:(g.env.NODE_ENV!=="production"&&N(`Invalid prop name: "${e}" is a reserved property.`),!1)}function Ep(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Cu(e,t,n){const s=z(t),r=n.propsOptions[0],o=Object.keys(e).map(i=>at(i));for(const i in r){let a=r[i];a!=null&&xp(i,s[i],a,g.env.NODE_ENV!=="production"?At(s):s,!o.includes(i))}}function xp(e,t,n,s,r){const{type:o,required:i,validator:a,skipCheck:l}=n;if(i&&r){N('Missing required prop: "'+e+'"');return}if(!(t==null&&!i)){if(o!=null&&o!==!0&&!l){let f=!1;const u=V(o)?o:[o],c=[];for(let h=0;h<u.length&&!f;h++){const{valid:m,expectedType:w}=Sp(t,u[h]);c.push(w||""),f=m}if(!f){N(Op(e,t,c));return}}a&&!a(t,s)&&N('Invalid prop: custom validator check failed for prop "'+e+'".')}}const Np=qt("String,Number,Boolean,Function,Symbol,BigInt");function Sp(e,t){let n;const s=Ep(t);if(s==="null")n=e===null;else if(Np(s)){const r=typeof e;n=r===s.toLowerCase(),!n&&r==="object"&&(n=e instanceof t)}else s==="Object"?n=re(e):s==="Array"?n=V(e):n=e instanceof t;return{valid:n,expectedType:s}}function Op(e,t,n){if(n.length===0)return`Prop type [] for prop "${e}" won't match anything. Did you mean to use type Array instead?`;let s=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(no).join(" | ")}`;const r=n[0],o=ji(t),i=cl(t,r),a=cl(t,o);return n.length===1&&ul(r)&&!Ap(r,o)&&(s+=` with value ${i}`),s+=`, got ${o} `,ul(o)&&(s+=`with value ${a}.`),s}function cl(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function ul(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function Ap(...e){return e.some(t=>t.toLowerCase()==="boolean")}const ea=e=>e==="_"||e==="_ctx"||e==="$stable",ta=e=>V(e)?e.map(ot):[ot(e)],Cp=(e,t,n)=>{if(t._n)return t;const s=Fn((...r)=>(g.env.NODE_ENV!=="production"&&Ie&&!(n===null&&He)&&!(n&&n.root!==Ie.root)&&N(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),ta(t(...r))),n);return s._c=!1,s},Ru=(e,t,n)=>{const s=e._ctx;for(const r in e){if(ea(r))continue;const o=e[r];if(j(o))t[r]=Cp(r,o,s);else if(o!=null){g.env.NODE_ENV!=="production"&&N(`Non-function value encountered for slot "${r}". Prefer function slots for better performance.`);const i=ta(o);t[r]=()=>i}}},$u=(e,t)=>{g.env.NODE_ENV!=="production"&&!Gs(e.vnode)&&N("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=ta(t);e.slots.default=()=>n},yi=(e,t,n)=>{for(const s in t)(n||!ea(s))&&(e[s]=t[s])},Rp=(e,t,n)=>{const s=e.slots=Nu();if(e.vnode.shapeFlag&32){const r=t._;r?(yi(s,t,n),n&&Mr(s,"_",r,!0)):Ru(t,s)}else t&&$u(e,t)},$p=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,i=oe;if(s.shapeFlag&32){const a=t._;a?g.env.NODE_ENV!=="production"&&Ct?(yi(r,t,n),xt(e,"set","$slots")):n&&a===1?o=!1:yi(r,t,n):(o=!t.$stable,Ru(t,r)),i=t}else t&&($u(e,t),i={default:1});if(o)for(const a in r)!ea(a)&&i[a]==null&&delete r[a]};let us,jt;function $n(e,t){e.appContext.config.performance&&Kr()&&jt.mark(`vue-${t}-${e.uid}`),g.env.NODE_ENV!=="production"&&Hh(e,t,Kr()?jt.now():Date.now())}function Pn(e,t){if(e.appContext.config.performance&&Kr()){const n=`vue-${t}-${e.uid}`,s=n+":end",r=`<${fo(e,e.type)}> ${t}`;jt.mark(s),jt.measure(r,n,s),jt.clearMeasures(r),jt.clearMarks(n),jt.clearMarks(s)}g.env.NODE_ENV!=="production"&&Uh(e,t,Kr()?jt.now():Date.now())}function Kr(){return us!==void 0||(typeof window<"u"&&window.performance?(us=!0,jt=window.performance):us=!1),us}function Pp(){const e=[];if(g.env.NODE_ENV!=="production"&&e.length){const t=e.length>1;console.warn(`Feature flag${t?"s":""} ${e.join(", ")} ${t?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const ze=Kp;function Dp(e){return Tp(e)}function Tp(e,t){Pp();const n=Ws();n.__VUE__=!0,g.env.NODE_ENV!=="production"&&ru(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:s,remove:r,patchProp:o,createElement:i,createText:a,createComment:l,setText:f,setElementText:u,parentNode:c,nextSibling:h,setScopeId:m=xe,insertStaticContent:w}=e,y=(d,p,_,E=null,b=null,v=null,C=void 0,A=null,O=g.env.NODE_ENV!=="production"&&Ct?!1:!!p.dynamicChildren)=>{if(d===p)return;d&&!gn(d,p)&&(E=or(d),Xt(d,b,v,!0),d=null),p.patchFlag===-2&&(O=!1,p.dynamicChildren=null);const{type:x,ref:H,shapeFlag:$}=p;switch(x){case Xs:I(d,p,_,E);break;case ye:D(d,p,_,E);break;case Nr:d==null?S(p,_,E,C):g.env.NODE_ENV!=="production"&&F(d,p,_,C);break;case Ge:le(d,p,_,E,b,v,C,A,O);break;default:$&1?G(d,p,_,E,b,v,C,A,O):$&6?$e(d,p,_,E,b,v,C,A,O):$&64||$&128?x.process(d,p,_,E,b,v,C,A,O,as):g.env.NODE_ENV!=="production"&&N("Invalid VNode type:",x,`(${typeof x})`)}H!=null&&b?Os(H,d&&d.ref,v,p||d,!p):H==null&&d&&d.ref!=null&&Os(d.ref,null,v,d,!0)},I=(d,p,_,E)=>{if(d==null)s(p.el=a(p.children),_,E);else{const b=p.el=d.el;p.children!==d.children&&f(b,p.children)}},D=(d,p,_,E)=>{d==null?s(p.el=l(p.children||""),_,E):p.el=d.el},S=(d,p,_,E)=>{[d.el,d.anchor]=w(d.children,p,_,E,d.el,d.anchor)},F=(d,p,_,E)=>{if(p.children!==d.children){const b=h(d.anchor);R(d),[p.el,p.anchor]=w(p.children,_,b,E)}else p.el=d.el,p.anchor=d.anchor},Q=({el:d,anchor:p},_,E)=>{let b;for(;d&&d!==p;)b=h(d),s(d,_,E),d=b;s(p,_,E)},R=({el:d,anchor:p})=>{let _;for(;d&&d!==p;)_=h(d),r(d),d=_;r(p)},G=(d,p,_,E,b,v,C,A,O)=>{p.type==="svg"?C="svg":p.type==="math"&&(C="mathml"),d==null?ee(p,_,E,b,v,C,A,O):L(d,p,b,v,C,A,O)},ee=(d,p,_,E,b,v,C,A)=>{let O,x;const{props:H,shapeFlag:$,transition:B,dirs:X}=d;if(O=d.el=i(d.type,v,H&&H.is,H),$&8?u(O,d.children):$&16&&k(d.children,O,null,E,b,Lo(d,v),C,A),X&&cn(d,null,E,"created"),Y(O,d,d.scopeId,C,E),H){for(const fe in H)fe!=="value"&&!Es(fe)&&o(O,fe,null,H[fe],v,E);"value"in H&&o(O,"value",null,H.value,v),(x=H.onVnodeBeforeMount)&&_t(x,E,d)}g.env.NODE_ENV!=="production"&&(Mr(O,"__vnode",d,!0),Mr(O,"__vueParentComponent",E,!0)),X&&cn(d,null,E,"beforeMount");const ne=Ip(b,B);ne&&B.beforeEnter(O),s(O,p,_),((x=H&&H.onVnodeMounted)||ne||X)&&ze(()=>{x&&_t(x,E,d),ne&&B.enter(O),X&&cn(d,null,E,"mounted")},b)},Y=(d,p,_,E,b)=>{if(_&&m(d,_),E)for(let v=0;v<E.length;v++)m(d,E[v]);if(b){let v=b.subTree;if(g.env.NODE_ENV!=="production"&&v.patchFlag>0&&v.patchFlag&2048&&(v=na(v.children)||v),p===v||Vu(v.type)&&(v.ssContent===p||v.ssFallback===p)){const C=b.vnode;Y(d,C,C.scopeId,C.slotScopeIds,b.parent)}}},k=(d,p,_,E,b,v,C,A,O=0)=>{for(let x=O;x<d.length;x++){const H=d[x]=A?tn(d[x]):ot(d[x]);y(null,H,p,_,E,b,v,C,A)}},L=(d,p,_,E,b,v,C)=>{const A=p.el=d.el;g.env.NODE_ENV!=="production"&&(A.__vnode=p);let{patchFlag:O,dynamicChildren:x,dirs:H}=p;O|=d.patchFlag&16;const $=d.props||oe,B=p.props||oe;let X;if(_&&un(_,!1),(X=B.onVnodeBeforeUpdate)&&_t(X,_,p,d),H&&cn(p,d,_,"beforeUpdate"),_&&un(_,!0),g.env.NODE_ENV!=="production"&&Ct&&(O=0,C=!1,x=null),($.innerHTML&&B.innerHTML==null||$.textContent&&B.textContent==null)&&u(A,""),x?(q(d.dynamicChildren,x,A,_,E,Lo(p,b),v),g.env.NODE_ENV!=="production"&&xr(d,p)):C||ht(d,p,A,null,_,E,Lo(p,b),v,!1),O>0){if(O&16)T(A,$,B,_,b);else if(O&2&&$.class!==B.class&&o(A,"class",null,B.class,b),O&4&&o(A,"style",$.style,B.style,b),O&8){const ne=p.dynamicProps;for(let fe=0;fe<ne.length;fe++){const ae=ne[fe],We=$[ae],Ke=B[ae];(Ke!==We||ae==="value")&&o(A,ae,We,Ke,b,_)}}O&1&&d.children!==p.children&&u(A,p.children)}else!C&&x==null&&T(A,$,B,_,b);((X=B.onVnodeUpdated)||H)&&ze(()=>{X&&_t(X,_,p,d),H&&cn(p,d,_,"updated")},E)},q=(d,p,_,E,b,v,C)=>{for(let A=0;A<p.length;A++){const O=d[A],x=p[A],H=O.el&&(O.type===Ge||!gn(O,x)||O.shapeFlag&198)?c(O.el):_;y(O,x,H,null,E,b,v,C,!0)}},T=(d,p,_,E,b)=>{if(p!==_){if(p!==oe)for(const v in p)!Es(v)&&!(v in _)&&o(d,v,p[v],null,b,E);for(const v in _){if(Es(v))continue;const C=_[v],A=p[v];C!==A&&v!=="value"&&o(d,v,A,C,b,E)}"value"in _&&o(d,"value",p.value,_.value,b)}},le=(d,p,_,E,b,v,C,A,O)=>{const x=p.el=d?d.el:a(""),H=p.anchor=d?d.anchor:a("");let{patchFlag:$,dynamicChildren:B,slotScopeIds:X}=p;g.env.NODE_ENV!=="production"&&(Ct||$&2048)&&($=0,O=!1,B=null),X&&(A=A?A.concat(X):X),d==null?(s(x,_,E),s(H,_,E),k(p.children||[],_,H,b,v,C,A,O)):$>0&&$&64&&B&&d.dynamicChildren?(q(d.dynamicChildren,B,_,b,v,C,A),g.env.NODE_ENV!=="production"?xr(d,p):(p.key!=null||b&&p===b.subTree)&&xr(d,p,!0)):ht(d,p,_,H,b,v,C,A,O)},$e=(d,p,_,E,b,v,C,A,O)=>{p.slotScopeIds=A,d==null?p.shapeFlag&512?b.ctx.activate(p,_,E,C,O):Se(p,_,E,b,v,C,O):Pe(d,p,O)},Se=(d,p,_,E,b,v,C)=>{const A=d.component=Zp(d,E,b);if(g.env.NODE_ENV!=="production"&&A.type.__hmrId&&Th(A),g.env.NODE_ENV!=="production"&&(wr(d),$n(A,"mount")),Gs(d)&&(A.ctx.renderer=as),g.env.NODE_ENV!=="production"&&$n(A,"init"),tm(A,!1,C),g.env.NODE_ENV!=="production"&&Pn(A,"init"),g.env.NODE_ENV!=="production"&&Ct&&(d.el=null),A.asyncDep){if(b&&b.registerDep(A,te,C),!d.el){const O=A.subTree=Ce(ye);D(null,O,p,_),d.placeholder=O.el}}else te(A,d,p,_,b,v,C);g.env.NODE_ENV!=="production"&&(br(),Pn(A,"mount"))},Pe=(d,p,_)=>{const E=p.component=d.component;if(Up(d,p,_))if(E.asyncDep&&!E.asyncResolved){g.env.NODE_ENV!=="production"&&wr(p),Z(E,p,_),g.env.NODE_ENV!=="production"&&br();return}else E.next=p,E.update();else p.el=d.el,E.vnode=p},te=(d,p,_,E,b,v,C)=>{const A=()=>{if(d.isMounted){let{next:$,bu:B,u:X,parent:ne,vnode:fe}=d;{const mt=Pu(d);if(mt){$&&($.el=fe.el,Z(d,$,C)),mt.asyncDep.then(()=>{d.isUnmounted||A()});return}}let ae=$,We;g.env.NODE_ENV!=="production"&&wr($||d.vnode),un(d,!1),$?($.el=fe.el,Z(d,$,C)):$=fe,B&&Vn(B),(We=$.props&&$.props.onVnodeBeforeUpdate)&&_t(We,ne,$,fe),un(d,!0),g.env.NODE_ENV!=="production"&&$n(d,"render");const Ke=dl(d);g.env.NODE_ENV!=="production"&&Pn(d,"render");const pt=d.subTree;d.subTree=Ke,g.env.NODE_ENV!=="production"&&$n(d,"patch"),y(pt,Ke,c(pt.el),or(pt),d,b,v),g.env.NODE_ENV!=="production"&&Pn(d,"patch"),$.el=Ke.el,ae===null&&Wp(d,Ke.el),X&&ze(X,b),(We=$.props&&$.props.onVnodeUpdated)&&ze(()=>_t(We,ne,$,fe),b),g.env.NODE_ENV!=="production"&&ou(d),g.env.NODE_ENV!=="production"&&br()}else{let $;const{el:B,props:X}=p,{bm:ne,m:fe,parent:ae,root:We,type:Ke}=d,pt=As(p);un(d,!1),ne&&Vn(ne),!pt&&($=X&&X.onVnodeBeforeMount)&&_t($,ae,p),un(d,!0);{We.ce&&We.ce._def.shadowRoot!==!1&&We.ce._injectChildStyle(Ke),g.env.NODE_ENV!=="production"&&$n(d,"render");const mt=d.subTree=dl(d);g.env.NODE_ENV!=="production"&&Pn(d,"render"),g.env.NODE_ENV!=="production"&&$n(d,"patch"),y(null,mt,_,E,d,b,v),g.env.NODE_ENV!=="production"&&Pn(d,"patch"),p.el=mt.el}if(fe&&ze(fe,b),!pt&&($=X&&X.onVnodeMounted)){const mt=p;ze(()=>_t($,ae,mt),b)}(p.shapeFlag&256||ae&&As(ae.vnode)&&ae.vnode.shapeFlag&256)&&d.a&&ze(d.a,b),d.isMounted=!0,g.env.NODE_ENV!=="production"&&Bh(d),p=_=E=null}};d.scope.on();const O=d.effect=new Pc(A);d.scope.off();const x=d.update=O.run.bind(O),H=d.job=O.runIfDirty.bind(O);H.i=d,H.id=d.uid,O.scheduler=()=>io(H),un(d,!0),g.env.NODE_ENV!=="production"&&(O.onTrack=d.rtc?$=>Vn(d.rtc,$):void 0,O.onTrigger=d.rtg?$=>Vn(d.rtg,$):void 0),x()},Z=(d,p,_)=>{p.component=d;const E=d.vnode.props;d.vnode=p,d.next=null,bp(d,p.props,E,_),$p(d,p.children,_),ut(),tl(d),ft()},ht=(d,p,_,E,b,v,C,A,O=!1)=>{const x=d&&d.children,H=d?d.shapeFlag:0,$=p.children,{patchFlag:B,shapeFlag:X}=p;if(B>0){if(B&128){os(x,$,_,E,b,v,C,A,O);return}else if(B&256){Co(x,$,_,E,b,v,C,A,O);return}}X&8?(H&16&&is(x,b,v),$!==x&&u(_,$)):H&16?X&16?os(x,$,_,E,b,v,C,A,O):is(x,b,v,!0):(H&8&&u(_,""),X&16&&k($,_,E,b,v,C,A,O))},Co=(d,p,_,E,b,v,C,A,O)=>{d=d||Wn,p=p||Wn;const x=d.length,H=p.length,$=Math.min(x,H);let B;for(B=0;B<$;B++){const X=p[B]=O?tn(p[B]):ot(p[B]);y(d[B],X,_,null,b,v,C,A,O)}x>H?is(d,b,v,!0,!1,$):k(p,_,E,b,v,C,A,O,$)},os=(d,p,_,E,b,v,C,A,O)=>{let x=0;const H=p.length;let $=d.length-1,B=H-1;for(;x<=$&&x<=B;){const X=d[x],ne=p[x]=O?tn(p[x]):ot(p[x]);if(gn(X,ne))y(X,ne,_,null,b,v,C,A,O);else break;x++}for(;x<=$&&x<=B;){const X=d[$],ne=p[B]=O?tn(p[B]):ot(p[B]);if(gn(X,ne))y(X,ne,_,null,b,v,C,A,O);else break;$--,B--}if(x>$){if(x<=B){const X=B+1,ne=X<H?p[X].el:E;for(;x<=B;)y(null,p[x]=O?tn(p[x]):ot(p[x]),_,ne,b,v,C,A,O),x++}}else if(x>B)for(;x<=$;)Xt(d[x],b,v,!0),x++;else{const X=x,ne=x,fe=new Map;for(x=ne;x<=B;x++){const Fe=p[x]=O?tn(p[x]):ot(p[x]);Fe.key!=null&&(g.env.NODE_ENV!=="production"&&fe.has(Fe.key)&&N("Duplicate keys found during update:",JSON.stringify(Fe.key),"Make sure keys are unique."),fe.set(Fe.key,x))}let ae,We=0;const Ke=B-ne+1;let pt=!1,mt=0;const ls=new Array(Ke);for(x=0;x<Ke;x++)ls[x]=0;for(x=X;x<=$;x++){const Fe=d[x];if(We>=Ke){Xt(Fe,b,v,!0);continue}let gt;if(Fe.key!=null)gt=fe.get(Fe.key);else for(ae=ne;ae<=B;ae++)if(ls[ae-ne]===0&&gn(Fe,p[ae])){gt=ae;break}gt===void 0?Xt(Fe,b,v,!0):(ls[gt-ne]=x+1,gt>=mt?mt=gt:pt=!0,y(Fe,p[gt],_,null,b,v,C,A,O),We++)}const Ka=pt?kp(ls):Wn;for(ae=Ka.length-1,x=Ke-1;x>=0;x--){const Fe=ne+x,gt=p[Fe],Ja=p[Fe+1],qa=Fe+1<H?Ja.el||Ja.placeholder:E;ls[x]===0?y(null,gt,_,qa,b,v,C,A,O):pt&&(ae<0||x!==Ka[ae]?An(gt,_,qa,2):ae--)}}},An=(d,p,_,E,b=null)=>{const{el:v,type:C,transition:A,children:O,shapeFlag:x}=d;if(x&6){An(d.component.subTree,p,_,E);return}if(x&128){d.suspense.move(p,_,E);return}if(x&64){C.move(d,p,_,as);return}if(C===Ge){s(v,p,_);for(let $=0;$<O.length;$++)An(O[$],p,_,E);s(d.anchor,p,_);return}if(C===Nr){Q(d,p,_);return}if(E!==2&&x&1&&A)if(E===0)A.beforeEnter(v),s(v,p,_),ze(()=>A.enter(v),b);else{const{leave:$,delayLeave:B,afterLeave:X}=A,ne=()=>{d.ctx.isUnmounted?r(v):s(v,p,_)},fe=()=>{v._isLeaving&&v[Lt](!0),$(v,()=>{ne(),X&&X()})};B?B(v,ne,fe):fe()}else s(v,p,_)},Xt=(d,p,_,E=!1,b=!1)=>{const{type:v,props:C,ref:A,children:O,dynamicChildren:x,shapeFlag:H,patchFlag:$,dirs:B,cacheIndex:X}=d;if($===-2&&(b=!1),A!=null&&(ut(),Os(A,null,_,d,!0),ft()),X!=null&&(p.renderCache[X]=void 0),H&256){p.ctx.deactivate(d);return}const ne=H&1&&B,fe=!As(d);let ae;if(fe&&(ae=C&&C.onVnodeBeforeUnmount)&&_t(ae,p,d),H&6)bd(d.component,_,E);else{if(H&128){d.suspense.unmount(_,E);return}ne&&cn(d,null,p,"beforeUnmount"),H&64?d.type.remove(d,p,_,as,E):x&&!x.hasOnce&&(v!==Ge||$>0&&$&64)?is(x,p,_,!1,!0):(v===Ge&&$&384||!b&&H&16)&&is(O,p,_),E&&Ro(d)}(fe&&(ae=C&&C.onVnodeUnmounted)||ne)&&ze(()=>{ae&&_t(ae,p,d),ne&&cn(d,null,p,"unmounted")},_)},Ro=d=>{const{type:p,el:_,anchor:E,transition:b}=d;if(p===Ge){g.env.NODE_ENV!=="production"&&d.patchFlag>0&&d.patchFlag&2048&&b&&!b.persisted?d.children.forEach(C=>{C.type===ye?r(C.el):Ro(C)}):wd(_,E);return}if(p===Nr){R(d);return}const v=()=>{r(_),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(d.shapeFlag&1&&b&&!b.persisted){const{leave:C,delayLeave:A}=b,O=()=>C(_,v);A?A(d.el,v,O):O()}else v()},wd=(d,p)=>{let _;for(;d!==p;)_=h(d),r(d),d=_;r(p)},bd=(d,p,_)=>{g.env.NODE_ENV!=="production"&&d.type.__hmrId&&Ih(d);const{bum:E,scope:b,job:v,subTree:C,um:A,m:O,a:x}=d;fl(O),fl(x),E&&Vn(E),b.stop(),v&&(v.flags|=8,Xt(C,d,p,_)),A&&ze(A,p),ze(()=>{d.isUnmounted=!0},p),g.env.NODE_ENV!=="production"&&jh(d)},is=(d,p,_,E=!1,b=!1,v=0)=>{for(let C=v;C<d.length;C++)Xt(d[C],p,_,E,b)},or=d=>{if(d.shapeFlag&6)return or(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const p=h(d.anchor||d.el),_=p&&p[Kh];return _?h(_):p};let $o=!1;const Wa=(d,p,_)=>{d==null?p._vnode&&Xt(p._vnode,null,null,!0):y(p._vnode||null,d,p,null,null,null,_),p._vnode=d,$o||($o=!0,tl(),tu(),$o=!1)},as={p:y,um:Xt,m:An,r:Ro,mt:Se,mc:k,pc:ht,pbc:q,n:or,o:e};return{render:Wa,hydrate:void 0,createApp:gp(Wa)}}function Lo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function un({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ip(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function xr(e,t,n=!1){const s=e.children,r=t.children;if(V(s)&&V(r))for(let o=0;o<s.length;o++){const i=s[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=tn(r[o]),a.el=i.el),!n&&a.patchFlag!==-2&&xr(i,a)),a.type===Xs&&a.patchFlag!==-1&&(a.el=i.el),a.type===ye&&!a.el&&(a.el=i.el),g.env.NODE_ENV!=="production"&&a.el&&(a.el.__vnode=a)}}function kp(e){const t=e.slice(),n=[0];let s,r,o,i,a;const l=e.length;for(s=0;s<l;s++){const f=e[s];if(f!==0){if(r=n[n.length-1],e[r]<f){t[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,e[n[a]]<f?o=a+1:i=a;f<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function Pu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Pu(t)}function fl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Vp=Symbol.for("v-scx"),Mp=()=>{{const e=Er(Vp);return e||g.env.NODE_ENV!=="production"&&N("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function Cs(e,t,n){return g.env.NODE_ENV!=="production"&&!j(t)&&N("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Du(e,t,n)}function Du(e,t,n=oe){const{immediate:s,deep:r,flush:o,once:i}=n;g.env.NODE_ENV!=="production"&&!t&&(s!==void 0&&N('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&N('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),i!==void 0&&N('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const a=ge({},n);g.env.NODE_ENV!=="production"&&(a.onWarn=N);const l=t&&s||!t&&o!=="post";let f;if(Fs){if(o==="sync"){const m=Mp();f=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=xe,m.resume=xe,m.pause=xe,m}}const u=Ie;a.call=(m,w,y)=>dt(m,u,w,y);let c=!1;o==="post"?a.scheduler=m=>{ze(m,u&&u.suspense)}:o!=="sync"&&(c=!0,a.scheduler=(m,w)=>{w?m():io(m)}),a.augmentJob=m=>{t&&(m.flags|=4),c&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};const h=Nh(e,t,a);return Fs&&(f?f.push(h):l&&h()),h}function Fp(e,t,n){const s=this.proxy,r=de(e)?e.includes(".")?Tu(s,e):()=>s[e]:e.bind(s,s);let o;j(t)?o=t:(o=t.handler,n=t);const i=Qs(this),a=Du(r,o.bind(s),n);return i(),a}function Tu(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Bp=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${at(t)}Modifiers`]||e[`${Jt(t)}Modifiers`];function Lp(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||oe;if(g.env.NODE_ENV!=="production"){const{emitsOptions:u,propsOptions:[c]}=e;if(u)if(!(t in u))(!c||!(pn(at(t))in c))&&N(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${pn(at(t))}" prop.`);else{const h=u[t];j(h)&&(h(...n)||N(`Invalid event arguments: event validation failed for event "${t}".`))}}let r=n;const o=t.startsWith("update:"),i=o&&Bp(s,t.slice(7));if(i&&(i.trim&&(r=n.map(u=>de(u)?u.trim():u)),i.number&&(r=n.map(ri))),g.env.NODE_ENV!=="production"&&Wh(e,t,r),g.env.NODE_ENV!=="production"){const u=t.toLowerCase();u!==t&&s[pn(u)]&&N(`Event "${u}" is emitted in component ${fo(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Jt(t)}" instead of "${t}".`)}let a,l=s[a=pn(t)]||s[a=pn(at(t))];!l&&o&&(l=s[a=pn(Jt(t))]),l&&dt(l,e,6,r);const f=s[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,dt(f,e,6,r)}}function Iu(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let i={},a=!1;if(!j(e)){const l=f=>{const u=Iu(f,t,!0);u&&(a=!0,ge(i,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(re(e)&&s.set(e,null),null):(V(o)?o.forEach(l=>i[l]=null):ge(i,o),re(e)&&s.set(e,i),i)}function lo(e,t){return!e||!Hs(t)?!1:(t=t.slice(2).replace(/Once$/,""),se(e,t[0].toLowerCase()+t.slice(1))||se(e,Jt(t))||se(e,t))}let wi=!1;function Jr(){wi=!0}function dl(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[o],slots:i,attrs:a,emit:l,render:f,renderCache:u,props:c,data:h,setupState:m,ctx:w,inheritAttrs:y}=e,I=Ur(e);let D,S;g.env.NODE_ENV!=="production"&&(wi=!1);try{if(n.shapeFlag&4){const R=r||s,G=g.env.NODE_ENV!=="production"&&m.__isScriptSetup?new Proxy(R,{get(ee,Y,k){return N(`Property '${String(Y)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(ee,Y,k)}}):R;D=ot(f.call(G,R,u,g.env.NODE_ENV!=="production"?At(c):c,m,h,w)),S=a}else{const R=t;g.env.NODE_ENV!=="production"&&a===c&&Jr(),D=ot(R.length>1?R(g.env.NODE_ENV!=="production"?At(c):c,g.env.NODE_ENV!=="production"?{get attrs(){return Jr(),At(a)},slots:i,emit:l}:{attrs:a,slots:i,emit:l}):R(g.env.NODE_ENV!=="production"?At(c):c,null)),S=t.props?a:jp(a)}}catch(R){Rs.length=0,Ks(R,e,1),D=Ce(ye)}let F=D,Q;if(g.env.NODE_ENV!=="production"&&D.patchFlag>0&&D.patchFlag&2048&&([F,Q]=ku(D)),S&&y!==!1){const R=Object.keys(S),{shapeFlag:G}=F;if(R.length){if(G&7)o&&R.some(Vr)&&(S=Hp(S,o)),F=Dt(F,S,!1,!0);else if(g.env.NODE_ENV!=="production"&&!wi&&F.type!==ye){const ee=Object.keys(a),Y=[],k=[];for(let L=0,q=ee.length;L<q;L++){const T=ee[L];Hs(T)?Vr(T)||Y.push(T[2].toLowerCase()+T.slice(3)):k.push(T)}k.length&&N(`Extraneous non-props attributes (${k.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text or teleport root nodes.`),Y.length&&N(`Extraneous non-emits event listeners (${Y.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(g.env.NODE_ENV!=="production"&&!hl(F)&&N("Runtime directive used on component with non-element root node. The directives will not function as intended."),F=Dt(F,null,!1,!0),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(g.env.NODE_ENV!=="production"&&!hl(F)&&N("Component inside <Transition> renders non-element root node that cannot be animated."),Vs(F,n.transition)),g.env.NODE_ENV!=="production"&&Q?Q(F):D=F,Ur(I),D}const ku=e=>{const t=e.children,n=e.dynamicChildren,s=na(t,!1);if(s){if(g.env.NODE_ENV!=="production"&&s.patchFlag>0&&s.patchFlag&2048)return ku(s)}else return[e,void 0];const r=t.indexOf(s),o=n?n.indexOf(s):-1,i=a=>{t[r]=a,n&&(o>-1?n[o]=a:a.patchFlag>0&&(e.dynamicChildren=[...n,a]))};return[ot(s),i]};function na(e,t=!0){let n;for(let s=0;s<e.length;s++){const r=e[s];if(zn(r)){if(r.type!==ye||r.children==="v-if"){if(n)return;if(n=r,g.env.NODE_ENV!=="production"&&t&&n.patchFlag>0&&n.patchFlag&2048)return na(n.children)}}else return}return n}const jp=e=>{let t;for(const n in e)(n==="class"||n==="style"||Hs(n))&&((t||(t={}))[n]=e[n]);return t},Hp=(e,t)=>{const n={};for(const s in e)(!Vr(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n},hl=e=>e.shapeFlag&7||e.type===ye;function Up(e,t,n){const{props:s,children:r,component:o}=e,{props:i,children:a,patchFlag:l}=t,f=o.emitsOptions;if(g.env.NODE_ENV!=="production"&&(r||a)&&Ct||t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?pl(s,i,f):!!i;if(l&8){const u=t.dynamicProps;for(let c=0;c<u.length;c++){const h=u[c];if(i[h]!==s[h]&&!lo(f,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?pl(s,i,f):!0:!!i;return!1}function pl(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!lo(n,o))return!0}return!1}function Wp({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Vu=e=>e.__isSuspense;function Kp(e,t){t&&t.pendingBranch?V(e)?t.effects.push(...e):t.effects.push(e):eu(e)}const Ge=Symbol.for("v-fgt"),Xs=Symbol.for("v-txt"),ye=Symbol.for("v-cmt"),Nr=Symbol.for("v-stc"),Rs=[];let Ze=null;function pe(e=!1){Rs.push(Ze=e?null:[])}function Jp(){Rs.pop(),Ze=Rs[Rs.length-1]||null}let Ms=1;function ml(e,t=!1){Ms+=e,e<0&&Ze&&t&&(Ze.hasOnce=!0)}function Mu(e){return e.dynamicChildren=Ms>0?Ze||Wn:null,Jp(),Ms>0&&Ze&&Ze.push(e),e}function Ae(e,t,n,s,r,o){return Mu(P(e,t,n,s,r,o,!0))}function ms(e,t,n,s,r){return Mu(Ce(e,t,n,s,r,!0))}function zn(e){return e?e.__v_isVNode===!0:!1}function gn(e,t){if(g.env.NODE_ENV!=="production"&&t.shapeFlag&6&&e.component){const n=vr.get(t.type);if(n&&n.has(e.component))return e.shapeFlag&=-257,t.shapeFlag&=-513,!1}return e.type===t.type&&e.key===t.key}const qp=(...e)=>Bu(...e),Fu=({key:e})=>e??null,Sr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?de(e)||_e(e)||j(e)?{i:He,r:e,k:t,f:!!n}:e:null);function P(e,t=null,n=null,s=0,r=null,o=e===Ge?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Fu(t),ref:t&&Sr(t),scopeId:au,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:He};return a?(sa(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=de(n)?8:16),g.env.NODE_ENV!=="production"&&l.key!==l.key&&N("VNode created with invalid key (NaN). VNode type:",l.type),Ms>0&&!i&&Ze&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Ze.push(l),l}const Ce=g.env.NODE_ENV!=="production"?qp:Bu;function Bu(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===op)&&(g.env.NODE_ENV!=="production"&&!e&&N(`Invalid vnode type when creating vnode: ${e}.`),e=ye),zn(e)){const a=Dt(e,t,!0);return n&&sa(a,n),Ms>0&&!o&&Ze&&(a.shapeFlag&6?Ze[Ze.indexOf(e)]=a:Ze.push(a)),a.patchFlag=-2,a}if(Wu(e)&&(e=e.__vccOpts),t){t=Gp(t);let{class:a,style:l}=t;a&&!de(a)&&(t.class=Kn(a)),re(l)&&(Fr(l)&&!V(l)&&(l=ge({},l)),t.style=Ui(l))}const i=de(e)?1:Vu(e)?128:cu(e)?64:re(e)?4:j(e)?2:0;return g.env.NODE_ENV!=="production"&&i&4&&Fr(e)&&(e=z(e),N("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),P(e,t,n,s,r,i,o,!0)}function Gp(e){return e?Fr(e)||Su(e)?ge({},e):e:null}function Dt(e,t,n=!1,s=!1){const{props:r,ref:o,patchFlag:i,children:a,transition:l}=e,f=t?Qp(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Fu(f),ref:t&&t.ref?n&&o?V(o)?o.concat(Sr(t)):[o,Sr(t)]:Sr(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:g.env.NODE_ENV!=="production"&&i===-1&&V(a)?a.map(Lu):a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ge?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Dt(e.ssContent),ssFallback:e.ssFallback&&Dt(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&Vs(u,l.clone(u)),u}function Lu(e){const t=Dt(e);return V(e.children)&&(t.children=e.children.map(Lu)),t}function Xp(e=" ",t=0){return Ce(Xs,null,e,t)}function St(e="",t=!1){return t?(pe(),ms(ye,null,e)):Ce(ye,null,e)}function ot(e){return e==null||typeof e=="boolean"?Ce(ye):V(e)?Ce(Ge,null,e.slice()):zn(e)?tn(e):Ce(Xs,null,String(e))}function tn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Dt(e)}function sa(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(V(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),sa(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!Su(t)?t._ctx=He:r===3&&He&&(He.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else j(t)?(t={default:t,_ctx:He},n=32):(t=String(t),s&64?(n=16,t=[Xp(t)]):n=8);e.children=t,e.shapeFlag|=n}function Qp(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Kn([t.class,s.class]));else if(r==="style")t.style=Ui([t.style,s.style]);else if(Hs(r)){const o=t[r],i=s[r];i&&o!==i&&!(V(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=s[r])}return t}function _t(e,t,n,s=null){dt(e,t,7,[n,s])}const zp=Eu();let Yp=0;function Zp(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||zp,o={uid:Yp++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Qd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Au(s,r),emitsOptions:Iu(s,r),emit:null,emitted:null,propsDefaults:oe,inheritAttrs:s.inheritAttrs,ctx:oe,data:oe,props:oe,attrs:oe,slots:oe,refs:oe,setupState:oe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return g.env.NODE_ENV!=="production"?o.ctx=ip(o):o.ctx={_:o},o.root=t?t.root:o,o.emit=Lp.bind(null,o),e.ce&&e.ce(o),o}let Ie=null;const co=()=>Ie||He;let qr,bi;{const e=Ws(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};qr=t("__VUE_INSTANCE_SETTERS__",n=>Ie=n),bi=t("__VUE_SSR_SETTERS__",n=>Fs=n)}const Qs=e=>{const t=Ie;return qr(e),e.scope.on(),()=>{e.scope.off(),qr(t)}},gl=()=>{Ie&&Ie.scope.off(),qr(null)},em=qt("slot,component");function vi(e,{isNativeTag:t}){(em(e)||t(e))&&N("Do not use built-in or reserved HTML elements as component id: "+e)}function ju(e){return e.vnode.shapeFlag&4}let Fs=!1;function tm(e,t=!1,n=!1){t&&bi(t);const{props:s,children:r}=e.vnode,o=ju(e);yp(e,s,o,t),Rp(e,r,n||t);const i=o?nm(e,t):void 0;return t&&bi(!1),i}function nm(e,t){var n;const s=e.type;if(g.env.NODE_ENV!=="production"){if(s.name&&vi(s.name,e.appContext.config),s.components){const o=Object.keys(s.components);for(let i=0;i<o.length;i++)vi(o[i],e.appContext.config)}if(s.directives){const o=Object.keys(s.directives);for(let i=0;i<o.length;i++)lu(o[i])}s.compilerOptions&&sm()&&N('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,wu),g.env.NODE_ENV!=="production"&&ap(e);const{setup:r}=s;if(r){ut();const o=e.setupContext=r.length>1?om(e):null,i=Qs(e),a=ts(r,e,0,[g.env.NODE_ENV!=="production"?At(e.props):e.props,o]),l=Li(a);if(ft(),i(),(l||e.sp)&&!As(e)&&mu(e),l){if(a.then(gl,gl),t)return a.then(f=>{_l(e,f,t)}).catch(f=>{Ks(f,e,0)});if(e.asyncDep=a,g.env.NODE_ENV!=="production"&&!e.suspense){const f=(n=s.name)!=null?n:"Anonymous";N(`Component <${f}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else _l(e,a,t)}else Hu(e,t)}function _l(e,t,n){j(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:re(t)?(g.env.NODE_ENV!=="production"&&zn(t)&&N("setup() should not return VNodes directly - return a render function instead."),g.env.NODE_ENV!=="production"&&(e.devtoolsRawSetupState=t),e.setupState=Xc(t),g.env.NODE_ENV!=="production"&&lp(e)):g.env.NODE_ENV!=="production"&&t!==void 0&&N(`setup() should return an object. Received: ${t===null?"null":typeof t}`),Hu(e,n)}const sm=()=>!0;function Hu(e,t,n){const s=e.type;e.render||(e.render=s.render||xe);{const r=Qs(e);ut();try{up(e)}finally{ft(),r()}}g.env.NODE_ENV!=="production"&&!s.render&&e.render===xe&&!t&&(s.template?N('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):N("Component is missing template or render function: ",s))}const yl=g.env.NODE_ENV!=="production"?{get(e,t){return Jr(),ve(e,"get",""),e[t]},set(){return N("setupContext.attrs is readonly."),!1},deleteProperty(){return N("setupContext.attrs is readonly."),!1}}:{get(e,t){return ve(e,"get",""),e[t]}};function rm(e){return new Proxy(e.slots,{get(t,n){return ve(e,"get","$slots"),t[n]}})}function om(e){const t=n=>{if(g.env.NODE_ENV!=="production"&&(e.exposed&&N("expose() should be called only once per setup()."),n!=null)){let s=typeof n;s==="object"&&(V(n)?s="array":_e(n)&&(s="ref")),s!=="object"&&N(`expose() should be passed a plain object, received ${s}.`)}e.exposed=n||{}};if(g.env.NODE_ENV!=="production"){let n,s;return Object.freeze({get attrs(){return n||(n=new Proxy(e.attrs,yl))},get slots(){return s||(s=rm(e))},get emit(){return(r,...o)=>e.emit(r,...o)},expose:t})}else return{attrs:new Proxy(e.attrs,yl),slots:e.slots,emit:e.emit,expose:t}}function uo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Xc(_h(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Nn)return Nn[n](e)},has(t,n){return n in t||n in Nn}})):e.proxy}const im=/(?:^|[-_])(\w)/g,am=e=>e.replace(im,t=>t.toUpperCase()).replace(/[-_]/g,"");function Uu(e,t=!0){return j(e)?e.displayName||e.name:e.name||t&&e.__name}function fo(e,t,n=!1){let s=Uu(t);if(!s&&t.__file){const r=t.__file.match(/([^/\\]+)\.\w+$/);r&&(s=r[1])}if(!s&&e&&e.parent){const r=o=>{for(const i in o)if(o[i]===t)return i};s=r(e.components||e.parent.type.components)||r(e.appContext.components)}return s?am(s):n?"App":"Anonymous"}function Wu(e){return j(e)&&"__vccOpts"in e}const nn=(e,t)=>{const n=Eh(e,t,Fs);if(g.env.NODE_ENV!=="production"){const s=co();s&&s.appContext.config.warnRecursiveComputed&&(n._warnRecursive=!0)}return n};function lm(e,t,n){const s=arguments.length;return s===2?re(t)&&!V(t)?zn(t)?Ce(e,null,[t]):Ce(e,t):Ce(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&zn(n)&&(n=[n]),Ce(e,t,n))}function cm(){if(g.env.NODE_ENV==="production"||typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#1677ff"},n={style:"color:#f5222d"},s={style:"color:#eb2f96"},r={__vue_custom_formatter:!0,header(c){if(!re(c))return null;if(c.__isVue)return["div",e,"VueInstance"];if(_e(c)){ut();const h=c.value;return ft(),["div",{},["span",e,u(c)],"<",a(h),">"]}else{if(En(c))return["div",{},["span",e,Ue(c)?"ShallowReactive":"Reactive"],"<",a(c),`>${Pt(c)?" (readonly)":""}`];if(Pt(c))return["div",{},["span",e,Ue(c)?"ShallowReadonly":"Readonly"],"<",a(c),">"]}return null},hasBody(c){return c&&c.__isVue},body(c){if(c&&c.__isVue)return["div",{},...o(c.$)]}};function o(c){const h=[];c.type.props&&c.props&&h.push(i("props",z(c.props))),c.setupState!==oe&&h.push(i("setup",c.setupState)),c.data!==oe&&h.push(i("data",z(c.data)));const m=l(c,"computed");m&&h.push(i("computed",m));const w=l(c,"inject");return w&&h.push(i("injected",w)),h.push(["div",{},["span",{style:s.style+";opacity:0.66"},"$ (internal): "],["object",{object:c}]]),h}function i(c,h){return h=ge({},h),Object.keys(h).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},c],["div",{style:"padding-left:1.25em"},...Object.keys(h).map(m=>["div",{},["span",s,m+": "],a(h[m],!1)])]]:["span",{}]}function a(c,h=!0){return typeof c=="number"?["span",t,c]:typeof c=="string"?["span",n,JSON.stringify(c)]:typeof c=="boolean"?["span",s,c]:re(c)?["object",{object:h?z(c):c}]:["span",n,String(c)]}function l(c,h){const m=c.type;if(j(m))return;const w={};for(const y in c.ctx)f(m,y,h)&&(w[y]=c.ctx[y]);return w}function f(c,h,m){const w=c[m];if(V(w)&&w.includes(h)||re(w)&&h in w||c.extends&&f(c.extends,h,m)||c.mixins&&c.mixins.some(y=>f(y,h,m)))return!0}function u(c){return Ue(c)?"ShallowRef":c.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(r):window.devtoolsFormatters=[r]}const wl="3.5.19",Wt=g.env.NODE_ENV!=="production"?N:xe;var Tt={env:{}};let Ei;const bl=typeof window<"u"&&window.trustedTypes;if(bl)try{Ei=bl.createPolicy("vue",{createHTML:e=>e})}catch(e){Tt.env.NODE_ENV!=="production"&&Wt(`Error creating trusted types policy: ${e}`)}const Ku=Ei?e=>Ei.createHTML(e):e=>e,um="http://www.w3.org/2000/svg",fm="http://www.w3.org/1998/Math/MathML",Bt=typeof document<"u"?document:null,vl=Bt&&Bt.createElement("template"),dm={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?Bt.createElementNS(um,e):t==="mathml"?Bt.createElementNS(fm,e):n?Bt.createElement(e,{is:n}):Bt.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Bt.createTextNode(e),createComment:e=>Bt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Bt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const i=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{vl.innerHTML=Ku(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=vl.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Qt="transition",fs="animation",Bs=Symbol("_vtc"),Ju={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},hm=ge({},uu,Ju),pm=e=>(e.displayName="Transition",e.props=hm,e),ds=pm((e,{slots:t})=>lm(Gh,mm(e),t)),fn=(e,t=[])=>{V(e)?e.forEach(n=>n(...t)):e&&e(...t)},El=e=>e?V(e)?e.some(t=>t.length>1):e.length>1:!1;function mm(e){const t={};for(const T in e)T in Ju||(t[T]=e[T]);if(e.css===!1)return t;const{name:n="v",type:s,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:f=i,appearToClass:u=a,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,w=gm(r),y=w&&w[0],I=w&&w[1],{onBeforeEnter:D,onEnter:S,onEnterCancelled:F,onLeave:Q,onLeaveCancelled:R,onBeforeAppear:G=D,onAppear:ee=S,onAppearCancelled:Y=F}=t,k=(T,le,$e,Se)=>{T._enterCancelled=Se,dn(T,le?u:a),dn(T,le?f:i),$e&&$e()},L=(T,le)=>{T._isLeaving=!1,dn(T,c),dn(T,m),dn(T,h),le&&le()},q=T=>(le,$e)=>{const Se=T?ee:S,Pe=()=>k(le,T,$e);fn(Se,[le,Pe]),xl(()=>{dn(le,T?l:o),Vt(le,T?u:a),El(Se)||Nl(le,s,y,Pe)})};return ge(t,{onBeforeEnter(T){fn(D,[T]),Vt(T,o),Vt(T,i)},onBeforeAppear(T){fn(G,[T]),Vt(T,l),Vt(T,f)},onEnter:q(!1),onAppear:q(!0),onLeave(T,le){T._isLeaving=!0;const $e=()=>L(T,le);Vt(T,c),T._enterCancelled?(Vt(T,h),Al()):(Al(),Vt(T,h)),xl(()=>{T._isLeaving&&(dn(T,c),Vt(T,m),El(Q)||Nl(T,s,I,$e))}),fn(Q,[T,$e])},onEnterCancelled(T){k(T,!1,void 0,!0),fn(F,[T])},onAppearCancelled(T){k(T,!0,void 0,!0),fn(Y,[T])},onLeaveCancelled(T){L(T),fn(R,[T])}})}function gm(e){if(e==null)return null;if(re(e))return[jo(e.enter),jo(e.leave)];{const t=jo(e);return[t,t]}}function jo(e){const t=Vd(e);return Tt.env.NODE_ENV!=="production"&&Rh(t,"<transition> explicit duration"),t}function Vt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Bs]||(e[Bs]=new Set)).add(t)}function dn(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[Bs];n&&(n.delete(t),n.size||(e[Bs]=void 0))}function xl(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let _m=0;function Nl(e,t,n,s){const r=e._endId=++_m,o=()=>{r===e._endId&&s()};if(n!=null)return setTimeout(o,n);const{type:i,timeout:a,propCount:l}=ym(e,t);if(!i)return s();const f=i+"end";let u=0;const c=()=>{e.removeEventListener(f,h),o()},h=m=>{m.target===e&&++u>=l&&c()};setTimeout(()=>{u<l&&c()},a+1),e.addEventListener(f,h)}function ym(e,t){const n=window.getComputedStyle(e),s=w=>(n[w]||"").split(", "),r=s(`${Qt}Delay`),o=s(`${Qt}Duration`),i=Sl(r,o),a=s(`${fs}Delay`),l=s(`${fs}Duration`),f=Sl(a,l);let u=null,c=0,h=0;t===Qt?i>0&&(u=Qt,c=i,h=o.length):t===fs?f>0&&(u=fs,c=f,h=l.length):(c=Math.max(i,f),u=c>0?i>f?Qt:fs:null,h=u?u===Qt?o.length:l.length:0);const m=u===Qt&&/\b(transform|all)(,|$)/.test(s(`${Qt}Property`).toString());return{type:u,timeout:c,propCount:h,hasTransform:m}}function Sl(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Ol(n)+Ol(e[s])))}function Ol(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Al(){return document.body.offsetHeight}function wm(e,t,n){const s=e[Bs];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Cl=Symbol("_vod"),bm=Symbol("_vsh"),vm=Symbol(Tt.env.NODE_ENV!=="production"?"CSS_VAR_TEXT":""),Em=/(^|;)\s*display\s*:/;function xm(e,t,n){const s=e.style,r=de(n);let o=!1;if(n&&!r){if(t)if(de(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&Or(s,a,"")}else for(const i in t)n[i]==null&&Or(s,i,"");for(const i in n)i==="display"&&(o=!0),Or(s,i,n[i])}else if(r){if(t!==n){const i=s[vm];i&&(n+=";"+i),s.cssText=n,o=Em.test(n)}}else t&&e.removeAttribute("style");Cl in e&&(e[Cl]=o?s.display:"",e[bm]&&(s.display="none"))}const Nm=/[^\\];\s*$/,Rl=/\s*!important$/;function Or(e,t,n){if(V(n))n.forEach(s=>Or(e,t,s));else if(n==null&&(n=""),Tt.env.NODE_ENV!=="production"&&Nm.test(n)&&Wt(`Unexpected semicolon at the end of '${t}' style value: '${n}'`),t.startsWith("--"))e.setProperty(t,n);else{const s=Sm(e,t);Rl.test(n)?e.setProperty(Jt(s),n.replace(Rl,""),"important"):e[s]=n}}const $l=["Webkit","Moz","ms"],Ho={};function Sm(e,t){const n=Ho[t];if(n)return n;let s=at(t);if(s!=="filter"&&s in e)return Ho[t]=s;s=no(s);for(let r=0;r<$l.length;r++){const o=$l[r]+s;if(o in e)return Ho[t]=o}return t}const Pl="http://www.w3.org/1999/xlink";function Dl(e,t,n,s,r,o=Gd(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Pl,t.slice(6,t.length)):e.setAttributeNS(Pl,t,n):n==null||o&&!Ac(n)?e.removeAttribute(t):e.setAttribute(t,o?"":$t(n)?String(n):n)}function Tl(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Ku(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Ac(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch(a){Tt.env.NODE_ENV!=="production"&&!i&&Wt(`Failed setting prop "${t}" on <${o.toLowerCase()}>: value ${n} is invalid.`,a)}i&&e.removeAttribute(r||t)}function sn(e,t,n,s){e.addEventListener(t,n,s)}function Om(e,t,n,s){e.removeEventListener(t,n,s)}const Il=Symbol("_vei");function Am(e,t,n,s,r=null){const o=e[Il]||(e[Il]={}),i=o[t];if(s&&i)i.value=Tt.env.NODE_ENV!=="production"?Vl(s,t):s;else{const[a,l]=Cm(t);if(s){const f=o[t]=Pm(Tt.env.NODE_ENV!=="production"?Vl(s,t):s,r);sn(e,a,f,l)}else i&&(Om(e,a,i,l),o[t]=void 0)}}const kl=/(?:Once|Passive|Capture)$/;function Cm(e){let t;if(kl.test(e)){t={};let s;for(;s=e.match(kl);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Jt(e.slice(2)),t]}let Uo=0;const Rm=Promise.resolve(),$m=()=>Uo||(Rm.then(()=>Uo=0),Uo=Date.now());function Pm(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;dt(Dm(s,n.value),t,5,[s])};return n.value=e,n.attached=$m(),n}function Vl(e,t){return j(e)||V(e)?e:(Wt(`Wrong type passed as event handler to ${t} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof e}.`),xe)}function Dm(e,t){if(V(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const Ml=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Tm=(e,t,n,s,r,o)=>{const i=r==="svg";t==="class"?wm(e,s,i):t==="style"?xm(e,n,s):Hs(t)?Vr(t)||Am(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Im(e,t,s,i))?(Tl(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Dl(e,t,s,i,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!de(s))?Tl(e,at(t),s,o,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Dl(e,t,s,i))};function Im(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ml(t)&&j(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ml(t)&&de(n)?!1:t in e}const Yn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return V(t)?n=>Vn(t,n):t};function km(e){e.target.composing=!0}function Fl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Kt=Symbol("_assign"),Ar={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[Kt]=Yn(r);const o=s||r.props&&r.props.type==="number";sn(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=ri(a)),e[Kt](a)}),n&&sn(e,"change",()=>{e.value=e.value.trim()}),t||(sn(e,"compositionstart",km),sn(e,"compositionend",Fl),sn(e,"change",Fl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:r,number:o}},i){if(e[Kt]=Yn(i),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?ri(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||r&&e.value.trim()===l)||(e.value=l))}},Vm={deep:!0,created(e,t,n){e[Kt]=Yn(n),sn(e,"change",()=>{const s=e._modelValue,r=qu(e),o=e.checked,i=e[Kt];if(V(s)){const a=Cc(s,r),l=a!==-1;if(o&&!l)i(s.concat(r));else if(!o&&l){const f=[...s];f.splice(a,1),i(f)}}else if(eo(s)){const a=new Set(s);o?a.add(r):a.delete(r),i(a)}else i(Gu(e,o))})},mounted:Bl,beforeUpdate(e,t,n){e[Kt]=Yn(n),Bl(e,t,n)}};function Bl(e,{value:t,oldValue:n},s){e._modelValue=t;let r;if(V(t))r=Cc(t,s.props.value)>-1;else if(eo(t))r=t.has(s.props.value);else{if(t===n)return;r=Qn(t,Gu(e,!0))}e.checked!==r&&(e.checked=r)}const Mm={created(e,{value:t},n){e.checked=Qn(t,n.props.value),e[Kt]=Yn(n),sn(e,"change",()=>{e[Kt](qu(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[Kt]=Yn(s),t!==n&&(e.checked=Qn(t,s.props.value))}};function qu(e){return"_value"in e?e._value:e.value}function Gu(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Fm=["ctrl","shift","alt","meta"],Bm={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Fm.some(n=>e[`${n}Key`]&&!t.includes(n))},Wo=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=((r,...o)=>{for(let i=0;i<t.length;i++){const a=Bm[t[i]];if(a&&a(r,t))return}return e(r,...o)}))},Lm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},jm=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=(r=>{if(!("key"in r))return;const o=Jt(r.key);if(t.some(i=>i===o||Lm[i]===o))return e(r)}))},Hm=ge({patchProp:Tm},dm);let Ll;function Um(){return Ll||(Ll=Dp(Hm))}const jl=((...e)=>{const t=Um().createApp(...e);Tt.env.NODE_ENV!=="production"&&(Km(t),Jm(t));const{mount:n}=t;return t.mount=s=>{const r=qm(s);if(!r)return;const o=t._component;!j(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,Wm(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t});function Wm(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Km(e){Object.defineProperty(e.config,"isNativeTag",{value:t=>Wd(t)||Kd(t)||Jd(t),writable:!1})}function Jm(e){{const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return t},set(){Wt("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=e.config.compilerOptions,s='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(e.config,"compilerOptions",{get(){return Wt(s),n},set(){Wt(s)}})}}function qm(e){if(de(e)){const t=document.querySelector(e);return Tt.env.NODE_ENV!=="production"&&!t&&Wt(`Failed to mount app: mount target selector "${e}" returned null.`),t}return Tt.env.NODE_ENV!=="production"&&window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&Wt('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}var Gm={env:{}};function Xm(){cm()}Gm.env.NODE_ENV!=="production"&&Xm();const Bn="oceanpress_ui_falg",{Plugin:Qm}=require("siyuan");class zm extends Qm{addUnloadFn(t){this.onunloadFn.push(t)}onunloadFn=[];onunload(){this.onunloadFn.forEach(t=>t())}async addUiComponent(t,n){if(t.querySelector("."+Bn))return;const s=document.createElement("div");s.style.pointerEvents="none";const r=$d(n,s);this.addUnloadFn(()=>(s.remove(),r())),t.appendChild(s)}async addVueUiComponent(t,n,s){if(t.querySelector(`.${Bn}`))return;const r=t.firstChild,o=u=>{u.stopImmediatePropagation()};["compositionstart","compositionend","mousedown","mouseup","keydown","keyup","input","copy","cut","paste"].forEach(u=>{r.addEventListener(u,o)}),r.classList.add(Bn);const a=t.dataset.nodeId,l=jl(n,{blockId:a,...s}),f=l.mount(r);return this.saveData,this.addUnloadFn(()=>{l.unmount(),r.remove()}),f}async addVueUi(t,n,s,r=Bn){if(t.querySelector(`.${r}`))return;const o=document.createElement("div");t.appendChild(o),o.classList.add(r);const i=c=>{c.stopImmediatePropagation()};["compositionstart","compositionend","mousedown","mouseup","keydown","keyup","input","copy","cut","paste"].forEach(c=>{o.addEventListener(c,i)}),o.classList.add(Bn);const l=t.dataset.nodeId,f=jl(n,{blockId:l,...s}),u=f.mount(o);return this.saveData,this.addUnloadFn(()=>{f.unmount(),o.remove()}),u}}function Xu(){const e=new Date;return[e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()].map(t=>t.toString().padStart(2,"0")).join("")}function Ym(){const e=Math.random().toString(36).substring(2,9);return`${Xu()}-${e}`}const xi="RFC3986",Ni={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},Zm="RFC1738",eg=Array.isArray,yt=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Ko=1024,tg=(e,t,n,s,r)=>{if(e.length===0)return e;let o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let i="";for(let a=0;a<o.length;a+=Ko){const l=o.length>=Ko?o.slice(a,a+Ko):o,f=[];for(let u=0;u<l.length;++u){let c=l.charCodeAt(u);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||r===Zm&&(c===40||c===41)){f[f.length]=l.charAt(u);continue}if(c<128){f[f.length]=yt[c];continue}if(c<2048){f[f.length]=yt[192|c>>6]+yt[128|c&63];continue}if(c<55296||c>=57344){f[f.length]=yt[224|c>>12]+yt[128|c>>6&63]+yt[128|c&63];continue}u+=1,c=65536+((c&1023)<<10|l.charCodeAt(u)&1023),f[f.length]=yt[240|c>>18]+yt[128|c>>12&63]+yt[128|c>>6&63]+yt[128|c&63]}i+=f.join("")}return i};function ng(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Hl(e,t){if(eg(e)){const n=[];for(let s=0;s<e.length;s+=1)n.push(t(e[s]));return n}return t(e)}const sg=Object.prototype.hasOwnProperty,Qu={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},bt=Array.isArray,rg=Array.prototype.push,zu=function(e,t){rg.apply(e,bt(t)?t:[t])},og=Date.prototype.toISOString,be={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:tg,encodeValuesOnly:!1,format:xi,formatter:Ni[xi],indices:!1,serializeDate(e){return og.call(e)},skipNulls:!1,strictNullHandling:!1};function ig(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const Jo={};function Yu(e,t,n,s,r,o,i,a,l,f,u,c,h,m,w,y,I,D){let S=e,F=D,Q=0,R=!1;for(;(F=F.get(Jo))!==void 0&&!R;){const L=F.get(e);if(Q+=1,typeof L<"u"){if(L===Q)throw new RangeError("Cyclic object value");R=!0}typeof F.get(Jo)>"u"&&(Q=0)}if(typeof f=="function"?S=f(t,S):S instanceof Date?S=h?.(S):n==="comma"&&bt(S)&&(S=Hl(S,function(L){return L instanceof Date?h?.(L):L})),S===null){if(o)return l&&!y?l(t,be.encoder,I,"key",m):t;S=""}if(ig(S)||ng(S)){if(l){const L=y?t:l(t,be.encoder,I,"key",m);return[w?.(L)+"="+w?.(l(S,be.encoder,I,"value",m))]}return[w?.(t)+"="+w?.(String(S))]}const G=[];if(typeof S>"u")return G;let ee;if(n==="comma"&&bt(S))y&&l&&(S=Hl(S,l)),ee=[{value:S.length>0?S.join(",")||null:void 0}];else if(bt(f))ee=f;else{const L=Object.keys(S);ee=u?L.sort(u):L}const Y=a?String(t).replace(/\./g,"%2E"):String(t),k=s&&bt(S)&&S.length===1?Y+"[]":Y;if(r&&bt(S)&&S.length===0)return k+"[]";for(let L=0;L<ee.length;++L){const q=ee[L],T=typeof q=="object"&&typeof q.value<"u"?q.value:S[q];if(i&&T===null)continue;const le=c&&a?q.replace(/\./g,"%2E"):q,$e=bt(S)?typeof n=="function"?n(k,le):k:k+(c?"."+le:"["+le+"]");D.set(e,Q);const Se=new WeakMap;Se.set(Jo,D),zu(G,Yu(T,$e,n,s,r,o,i,a,n==="comma"&&y&&bt(S)?null:l,f,u,c,h,m,w,y,I,Se))}return G}function ag(e=be){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||be.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=xi;if(typeof e.format<"u"){if(!sg.call(Ni,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const s=Ni[n];let r=be.filter;(typeof e.filter=="function"||bt(e.filter))&&(r=e.filter);let o;if(e.arrayFormat&&e.arrayFormat in Qu?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=be.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const i=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:be.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:be.addQueryPrefix,allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:be.allowEmptyArrays,arrayFormat:o,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:be.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?be.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:be.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:be.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:be.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:be.encodeValuesOnly,filter:r,format:n,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:be.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:be.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:be.strictNullHandling}}function lg(e,t={}){let n=e;const s=ag(t);let r,o;typeof s.filter=="function"?(o=s.filter,n=o("",n)):bt(s.filter)&&(o=s.filter,r=o);const i=[];if(typeof n!="object"||n===null)return"";const a=Qu[s.arrayFormat],l=a==="comma"&&s.commaRoundTrip;r||(r=Object.keys(n)),s.sort&&r.sort(s.sort);const f=new WeakMap;for(let h=0;h<r.length;++h){const m=r[h];s.skipNulls&&n[m]===null||zu(i,Yu(n[m],m,a,l,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,f))}const u=i.join(s.delimiter);let c=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?c+="utf8=%26%2310003%3B&":c+="utf8=%E2%9C%93&"),u.length>0?c+u:""}const Ln="4.104.0";let Ul=!1,$s,Zu,ef,Si,tf,nf,sf,rf,of;function cg(e,t={auto:!1}){if(Ul)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if($s)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${$s}'\``);Ul=t.auto,$s=e.kind,Zu=e.fetch,ef=e.FormData,Si=e.File,tf=e.ReadableStream,nf=e.getMultipartRequestOptions,sf=e.getDefaultAgent,rf=e.fileFromPath,of=e.isFsReadStream}class ug{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function fg({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,s,r,o;try{n=fetch,s=Request,r=Response,o=Headers}catch(i){throw new Error(`this environment is missing the following Web Fetch API type: ${i.message}. ${t}`)}return{kind:"web",fetch:n,Request:s,Response:r,Headers:o,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(i,a)=>({...a,body:new ug(i)}),getDefaultAgent:i=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:i=>!1}}const af=()=>{$s||cg(fg(),{auto:!0})};af();class U extends Error{}class ke extends U{constructor(t,n,s,r){super(`${ke.makeMessage(t,n,s)}`),this.status=t,this.headers=r,this.request_id=r?.["x-request-id"],this.error=n;const o=n;this.code=o?.code,this.param=o?.param,this.type=o?.type}static makeMessage(t,n,s){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,n,s,r){if(!t||!r)return new ho({message:s,cause:Ai(n)});const o=n?.error;return t===400?new lf(t,o,s,r):t===401?new cf(t,o,s,r):t===403?new uf(t,o,s,r):t===404?new ff(t,o,s,r):t===409?new df(t,o,s,r):t===422?new hf(t,o,s,r):t===429?new pf(t,o,s,r):t>=500?new mf(t,o,s,r):new ke(t,o,s,r)}}class nt extends ke{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class ho extends ke{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class ra extends ho{constructor({message:t}={}){super({message:t??"Request timed out."})}}class lf extends ke{}class cf extends ke{}class uf extends ke{}class ff extends ke{}class df extends ke{}class hf extends ke{}class pf extends ke{}class mf extends ke{}class gf extends U{constructor(){super("Could not parse response content as the length limit was reached")}}class _f extends U{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var ur=function(e,t,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},hn=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},Qe;class po{constructor(){Qe.set(this,void 0),this.buffer=new Uint8Array,ur(this,Qe,null,"f")}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let s=new Uint8Array(this.buffer.length+n.length);s.set(this.buffer),s.set(n,this.buffer.length),this.buffer=s;const r=[];let o;for(;(o=dg(this.buffer,hn(this,Qe,"f")))!=null;){if(o.carriage&&hn(this,Qe,"f")==null){ur(this,Qe,o.index,"f");continue}if(hn(this,Qe,"f")!=null&&(o.index!==hn(this,Qe,"f")+1||o.carriage)){r.push(this.decodeText(this.buffer.slice(0,hn(this,Qe,"f")-1))),this.buffer=this.buffer.slice(hn(this,Qe,"f")),ur(this,Qe,null,"f");continue}const i=hn(this,Qe,"f")!==null?o.preceding-1:o.preceding,a=this.decodeText(this.buffer.slice(0,i));r.push(a),this.buffer=this.buffer.slice(o.index),ur(this,Qe,null,"f")}return r}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new U(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new U(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new U("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}Qe=new WeakMap;po.NEWLINE_CHARS=new Set([`
`,"\r"]);po.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function dg(e,t){for(let r=t??0;r<e.length;r++){if(e[r]===10)return{preceding:r,index:r+1,carriage:!1};if(e[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function hg(e){for(let s=0;s<e.length-1;s++){if(e[s]===10&&e[s+1]===10||e[s]===13&&e[s+1]===13)return s+2;if(e[s]===13&&e[s+1]===10&&s+3<e.length&&e[s+2]===13&&e[s+3]===10)return s+4}return-1}function yf(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n?.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Rt{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let s=!1;async function*r(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const i of pg(t,n))if(!o){if(i.data.startsWith("[DONE]")){o=!0;continue}if(i.event===null||i.event.startsWith("response.")||i.event.startsWith("transcript.")){let a;try{a=JSON.parse(i.data)}catch(l){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),l}if(a&&a.error)throw new ke(void 0,a.error,void 0,Sf(t.headers));yield a}else{let a;try{a=JSON.parse(i.data)}catch(l){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),l}if(i.event=="error")throw new ke(void 0,a.error,a.message,void 0);yield{event:i.event,data:a}}}o=!0}catch(i){if(i instanceof Error&&i.name==="AbortError")return;throw i}finally{o||n.abort()}}return new Rt(r,n)}static fromReadableStream(t,n){let s=!1;async function*r(){const i=new po,a=yf(t);for await(const l of a)for(const f of i.decode(l))yield f;for(const l of i.flush())yield l}async function*o(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let i=!1;try{for await(const a of r())i||a&&(yield JSON.parse(a));i=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{i||n.abort()}}return new Rt(o,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],s=this.iterator(),r=o=>({next:()=>{if(o.length===0){const i=s.next();t.push(i),n.push(i)}return o.shift()}});return[new Rt(()=>r(t),this.controller),new Rt(()=>r(n),this.controller)]}toReadableStream(){const t=this;let n;const s=new TextEncoder;return new tf({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:o,done:i}=await n.next();if(i)return r.close();const a=s.encode(JSON.stringify(o)+`
`);r.enqueue(a)}catch(o){r.error(o)}},async cancel(){await n.return?.()}})}}async function*pg(e,t){if(!e.body)throw t.abort(),new U("Attempted to iterate over a response with no body");const n=new gg,s=new po,r=yf(e.body);for await(const o of mg(r))for(const i of s.decode(o)){const a=n.decode(i);a&&(yield a)}for(const o of s.flush()){const i=n.decode(o);i&&(yield i)}}async function*mg(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const s=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let r=new Uint8Array(t.length+s.length);r.set(t),r.set(s,t.length),t=r;let o;for(;(o=hg(t))!==-1;)yield t.slice(0,o),t=t.slice(o)}t.length>0&&(yield t)}class gg{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,s,r]=_g(t,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function _g(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const wf=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",bf=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&mo(e),mo=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",yg=e=>bf(e)||wf(e)||of(e);async function vf(e,t,n){if(e=await e,bf(e))return e;if(wf(e)){const r=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=mo(r)?[await r.arrayBuffer()]:[r];return new Si(o,t,n)}const s=await wg(e);if(t||(t=vg(e)??"unknown_file"),!n?.type){const r=s[0]?.type;typeof r=="string"&&(n={...n,type:r})}return new Si(s,t,n)}async function wg(e){let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(mo(e))t.push(await e.arrayBuffer());else if(Eg(e))for await(const n of e)t.push(n);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${bg(e)}`);return t}function bg(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function vg(e){return qo(e.name)||qo(e.filename)||qo(e.path)?.split(/[\\/]/).pop()}const qo=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},Eg=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Wl=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",On=async e=>{const t=await xg(e.body);return nf(t,e)},xg=async e=>{const t=new ef;return await Promise.all(Object.entries(e||{}).map(([n,s])=>Oi(t,n,s))),t},Oi=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(yg(n)){const s=await vf(n);e.append(t,s)}else if(Array.isArray(n))await Promise.all(n.map(s=>Oi(e,t+"[]",s)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([s,r])=>Oi(e,`${t}[${s}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Et={env:{DEV_MODE:"production"}},Ng=function(e,t,n,s,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},Sg=function(e,t,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},fr;af();async function Ef(e){const{response:t}=e;if(e.options.stream)return on("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Rt.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const s=t.headers.get("content-type")?.split(";")[0]?.trim();if(s?.includes("application/json")||s?.endsWith("+json")){const i=await t.json();return on("response",t.status,t.url,t.headers,i),xf(i,t)}const o=await t.text();return on("response",t.status,t.url,t.headers,o),o}function xf(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class go extends Promise{constructor(t,n=Ef){super(s=>{s(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new go(this.responsePromise,async n=>xf(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class Og{constructor({baseURL:t,maxRetries:n=2,timeout:s=6e5,httpAgent:r,fetch:o}){this.baseURL=t,this.maxRetries=Go("maxRetries",n),this.timeout=Go("timeout",s),this.httpAgent=r,this.fetch=o??Zu}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Pg(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${kg()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,s){return this.request(Promise.resolve(s).then(async r=>{const o=r&&mo(r?.body)?new DataView(await r.body.arrayBuffer()):r?.body instanceof DataView?r.body:r?.body instanceof ArrayBuffer?new DataView(r.body):r&&ArrayBuffer.isView(r?.body)?new DataView(r.body.buffer):r?.body;return{method:t,path:n,...r,body:o}}))}getAPIList(t,n,s){return this.requestAPIList(n,{method:"get",path:t,...s})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){const s={...t},{method:r,path:o,query:i,headers:a={}}=s,l=ArrayBuffer.isView(s.body)||s.__binaryRequest&&typeof s.body=="string"?s.body:Wl(s.body)?s.body.body:s.body?JSON.stringify(s.body,null,2):null,f=this.calculateContentLength(l),u=this.buildURL(o,i);"timeout"in s&&Go("timeout",s.timeout),s.timeout=s.timeout??this.timeout;const c=s.httpAgent??this.httpAgent??sf(u),h=s.timeout+1e3;typeof c?.options?.timeout=="number"&&h>(c.options.timeout??0)&&(c.options.timeout=h),this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const m=this.buildHeaders({options:s,headers:a,contentLength:f,retryCount:n});return{req:{method:r,...l&&{body:l},headers:m,...c&&{agent:c},signal:s.signal??null},url:u,timeout:s.timeout}}buildHeaders({options:t,headers:n,contentLength:s,retryCount:r}){const o={};s&&(o["content-length"]=s);const i=this.defaultHeaders(t);return Gl(o,i),Gl(o,n),Wl(t.body)&&$s!=="node"&&delete o["content-type"],hr(i,"x-stainless-retry-count")===void 0&&hr(n,"x-stainless-retry-count")===void 0&&(o["x-stainless-retry-count"]=String(r)),hr(i,"x-stainless-timeout")===void 0&&hr(n,"x-stainless-timeout")===void 0&&t.timeout&&(o["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(o,n),o}async prepareOptions(t){}async prepareRequest(t,{url:n,options:s}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,s,r){return ke.generate(t,n,s,r)}request(t,n=null){return new go(this.makeRequest(t,n))}async makeRequest(t,n){const s=await t,r=s.maxRetries??this.maxRetries;n==null&&(n=r),await this.prepareOptions(s);const{req:o,url:i,timeout:a}=this.buildRequest(s,{retryCount:r-n});if(await this.prepareRequest(o,{url:i,options:s}),on("request",i,s,o.headers),s.signal?.aborted)throw new nt;const l=new AbortController,f=await this.fetchWithTimeout(i,o,a,l).catch(Ai);if(f instanceof Error){if(s.signal?.aborted)throw new nt;if(n)return this.retryRequest(s,n);throw f.name==="AbortError"?new ra:new ho({cause:f})}const u=Sf(f.headers);if(!f.ok){if(n&&this.shouldRetry(f)){const I=`retrying, ${n} attempts remaining`;return on(`response (error; ${I})`,f.status,i,u),this.retryRequest(s,n,u)}const c=await f.text().catch(I=>Ai(I).message),h=Dg(c),m=h?void 0:c;throw on(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,f.status,i,u,m),this.makeStatusError(f.status,h,m,u)}return{response:f,options:s,controller:l}}requestAPIList(t,n){const s=this.makeRequest(n,null);return new Ag(this,s,t)}buildURL(t,n){const s=Ig(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),r=this.defaultQuery();return Of(r)||(n={...r,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new U(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,s,r){const{signal:o,...i}=n||{};o&&o.addEventListener("abort",()=>r.abort());const a=setTimeout(()=>r.abort(),s),l={signal:r.signal,...i};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,t,l).finally(()=>{clearTimeout(a)})}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,s){let r;const o=s?.["retry-after-ms"];if(o){const a=parseFloat(o);Number.isNaN(a)||(r=a)}const i=s?.["retry-after"];if(i&&!r){const a=parseFloat(i);Number.isNaN(a)?r=Date.parse(i)-Date.now():r=a*1e3}if(!(r&&0<=r&&r<60*1e3)){const a=t.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(n,a)}return await zs(r),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,i=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return i*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Ln}`}}class Nf{constructor(t,n,s,r){fr.set(this,void 0),Ng(this,fr,t),this.options=r,this.response=n,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new U("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const s=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[r,o]of s)t.url.searchParams.set(r,o);n.query=void 0,n.path=t.url.toString()}return await Sg(this,fr,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(fr=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class Ag extends go{constructor(t,n,s){super(n,async r=>new s(t,r.response,await Ef(r),r.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const Sf=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const s=n.toString();return t[s.toLowerCase()]||t[s]}}),Cg={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},me=e=>typeof e=="object"&&e!==null&&!Of(e)&&Object.keys(e).every(t=>Af(Cg,t)),Rg=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ln,"X-Stainless-OS":Jl(Deno.build.os),"X-Stainless-Arch":Kl(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ln,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":Et.version};if(Object.prototype.toString.call(typeof Et<"u"?Et:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ln,"X-Stainless-OS":Jl(Et.platform),"X-Stainless-Arch":Kl(Et.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":Et.version};const e=$g();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ln,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ln,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function $g(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const s=n.exec(navigator.userAgent);if(s){const r=s[1]||0,o=s[2]||0,i=s[3]||0;return{browser:t,version:`${r}.${o}.${i}`}}}return null}const Kl=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Jl=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let ql;const Pg=()=>ql??(ql=Rg()),Dg=e=>{try{return JSON.parse(e)}catch{return}},Tg=/^[a-z][a-z0-9+.-]*:/i,Ig=e=>Tg.test(e),zs=e=>new Promise(t=>setTimeout(t,e)),Go=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new U(`${e} must be an integer`);if(t<0)throw new U(`${e} must be a positive integer`);return t},Ai=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},dr=e=>{if(typeof Et<"u")return Et.env?.[e]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(e)?.trim()};function Of(e){if(!e)return!0;for(const t in e)return!1;return!0}function Af(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gl(e,t){for(const n in t){if(!Af(t,n))continue;const s=n.toLowerCase();if(!s)continue;const r=t[n];r===null?delete e[s]:r!==void 0&&(e[s]=r)}}const Xl=new Set(["authorization","api-key"]);function on(e,...t){if(typeof Et<"u"&&Et?.env?.DEBUG==="true"){const n=t.map(s=>{if(!s)return s;if(s.headers){const o={...s,headers:{...s.headers}};for(const i in s.headers)Xl.has(i.toLowerCase())&&(o.headers[i]="REDACTED");return o}let r=null;for(const o in s)Xl.has(o.toLowerCase())&&(r??(r={...s}),r[o]="REDACTED");return r??s});console.log(`OpenAI:DEBUG:${e}`,...n)}}const kg=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),Vg=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Mg=e=>typeof e?.get=="function",hr=(e,t)=>{const n=t.toLowerCase();if(Mg(e)){const s=t[0]?.toUpperCase()+t.substring(1).replace(/([^\w])(\w)/g,(r,o,i)=>o+i.toUpperCase());for(const r of[t,n,t.toUpperCase(),s]){const o=e.get(r);if(o)return o}}for(const[s,r]of Object.entries(e))if(s.toLowerCase()===n)return Array.isArray(r)?(r.length<=1||console.warn(`Received ${r.length} entries for the ${t} header, using the first entry.`),r[0]):r},Fg=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,s=new Uint8Array(n);for(let r=0;r<n;r++)s[r]=t.charCodeAt(r);return Array.from(new Float32Array(s.buffer))}};function Xo(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class _o extends Nf{constructor(t,n,s,r){super(t,n,s,r),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Ne extends Nf{constructor(t,n,s,r){super(t,n,s,r),this.data=s.data||[],this.has_more=s.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){const t=this.getPaginatedItems();if(!t.length)return null;const n=t[t.length-1]?.id;return n?{params:{after:n}}:null}}class K{constructor(t){this._client=t}}let Cf=class extends K{list(t,n={},s){return me(n)?this.list(t,{},n):this._client.getAPIList(`/chat/completions/${t}/messages`,Bg,{query:n,...s})}},yo=class extends K{constructor(){super(...arguments),this.messages=new Cf(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(`/chat/completions/${t}`,n)}update(t,n,s){return this._client.post(`/chat/completions/${t}`,{body:n,...s})}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/chat/completions",wo,{query:t,...n})}del(t,n){return this._client.delete(`/chat/completions/${t}`,n)}};class wo extends Ne{}class Bg extends Ne{}yo.ChatCompletionsPage=wo;yo.Messages=Cf;let bo=class extends K{constructor(){super(...arguments),this.completions=new yo(this._client)}};bo.Completions=yo;bo.ChatCompletionsPage=wo;class Rf extends K{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:{Accept:"application/octet-stream",...n?.headers},__binaryResponse:!0})}}class $f extends K{create(t,n){return this._client.post("/audio/transcriptions",On({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}}))}}class Pf extends K{create(t,n){return this._client.post("/audio/translations",On({body:t,...n,__metadata:{model:t.model}}))}}class Ys extends K{constructor(){super(...arguments),this.transcriptions=new $f(this._client),this.translations=new Pf(this._client),this.speech=new Rf(this._client)}}Ys.Transcriptions=$f;Ys.Translations=Pf;Ys.Speech=Rf;class oa extends K{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/batches",ia,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class ia extends Ne{}oa.BatchesPage=ia;var st=function(e,t,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},he=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},Ci,Cr,Rr,gs,_s,$r,ys,Ft,ws,Gr,Xr,jn,Df;class aa{constructor(){Ci.add(this),this.controller=new AbortController,Cr.set(this,void 0),Rr.set(this,()=>{}),gs.set(this,()=>{}),_s.set(this,void 0),$r.set(this,()=>{}),ys.set(this,()=>{}),Ft.set(this,{}),ws.set(this,!1),Gr.set(this,!1),Xr.set(this,!1),jn.set(this,!1),st(this,Cr,new Promise((t,n)=>{st(this,Rr,t,"f"),st(this,gs,n,"f")}),"f"),st(this,_s,new Promise((t,n)=>{st(this,$r,t,"f"),st(this,ys,n,"f")}),"f"),he(this,Cr,"f").catch(()=>{}),he(this,_s,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},he(this,Ci,"m",Df).bind(this))},0)}_connected(){this.ended||(he(this,Rr,"f").call(this),this._emit("connect"))}get ended(){return he(this,ws,"f")}get errored(){return he(this,Gr,"f")}get aborted(){return he(this,Xr,"f")}abort(){this.controller.abort()}on(t,n){return(he(this,Ft,"f")[t]||(he(this,Ft,"f")[t]=[])).push({listener:n}),this}off(t,n){const s=he(this,Ft,"f")[t];if(!s)return this;const r=s.findIndex(o=>o.listener===n);return r>=0&&s.splice(r,1),this}once(t,n){return(he(this,Ft,"f")[t]||(he(this,Ft,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,s)=>{st(this,jn,!0,"f"),t!=="error"&&this.once("error",s),this.once(t,n)})}async done(){st(this,jn,!0,"f"),await he(this,_s,"f")}_emit(t,...n){if(he(this,ws,"f"))return;t==="end"&&(st(this,ws,!0,"f"),he(this,$r,"f").call(this));const s=he(this,Ft,"f")[t];if(s&&(he(this,Ft,"f")[t]=s.filter(r=>!r.once),s.forEach(({listener:r})=>r(...n))),t==="abort"){const r=n[0];!he(this,jn,"f")&&!s?.length&&Promise.reject(r),he(this,gs,"f").call(this,r),he(this,ys,"f").call(this,r),this._emit("end");return}if(t==="error"){const r=n[0];!he(this,jn,"f")&&!s?.length&&Promise.reject(r),he(this,gs,"f").call(this,r),he(this,ys,"f").call(this,r),this._emit("end")}}_emitFinal(){}}Cr=new WeakMap,Rr=new WeakMap,gs=new WeakMap,_s=new WeakMap,$r=new WeakMap,ys=new WeakMap,Ft=new WeakMap,ws=new WeakMap,Gr=new WeakMap,Xr=new WeakMap,jn=new WeakMap,Ci=new WeakSet,Df=function(t){if(st(this,Gr,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new nt),t instanceof nt)return st(this,Xr,!0,"f"),this._emit("abort",t);if(t instanceof U)return this._emit("error",t);if(t instanceof Error){const n=new U(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new U(String(t)))};var M=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},Xe=function(e,t,n,s,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},De,Ri,vt,Pr,rt,yn,Un,_n,Qr,Ye,Dr,Tr,Ps,bs,vs,Ql,zl,Yl,Zl,ec,tc,nc;class it extends aa{constructor(){super(...arguments),De.add(this),Ri.set(this,[]),vt.set(this,{}),Pr.set(this,{}),rt.set(this,void 0),yn.set(this,void 0),Un.set(this,void 0),_n.set(this,void 0),Qr.set(this,void 0),Ye.set(this,void 0),Dr.set(this,void 0),Tr.set(this,void 0),Ps.set(this,void 0)}[(Ri=new WeakMap,vt=new WeakMap,Pr=new WeakMap,rt=new WeakMap,yn=new WeakMap,Un=new WeakMap,_n=new WeakMap,Qr=new WeakMap,Ye=new WeakMap,Dr=new WeakMap,Tr=new WeakMap,Ps=new WeakMap,De=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let s=!1;return this.on("event",r=>{const o=n.shift();o?o.resolve(r):t.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const o of n)o.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const o of n)o.reject(r);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((o,i)=>n.push({resolve:o,reject:i})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new it;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=Rt.fromReadableStream(t,this.controller);for await(const o of r)M(this,De,"m",bs).call(this,o);if(r.controller.signal?.aborted)throw new nt;return this._addRun(M(this,De,"m",vs).call(this))}toReadableStream(){return new Rt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,s,r,o){const i=new it;return i._run(()=>i._runToolAssistantStream(t,n,s,r,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(t,n,s,r,o){const i=o?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},l=await t.submitToolOutputs(n,s,a,{...o,signal:this.controller.signal});this._connected();for await(const f of l)M(this,De,"m",bs).call(this,f);if(l.controller.signal?.aborted)throw new nt;return this._addRun(M(this,De,"m",vs).call(this))}static createThreadAssistantStream(t,n,s){const r=new it;return r._run(()=>r._threadAssistantStream(t,n,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(t,n,s,r){const o=new it;return o._run(()=>o._runAssistantStream(t,n,s,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return M(this,Dr,"f")}currentRun(){return M(this,Tr,"f")}currentMessageSnapshot(){return M(this,rt,"f")}currentRunStepSnapshot(){return M(this,Ps,"f")}async finalRunSteps(){return await this.done(),Object.values(M(this,vt,"f"))}async finalMessages(){return await this.done(),Object.values(M(this,Pr,"f"))}async finalRun(){if(await this.done(),!M(this,yn,"f"))throw Error("Final run was not received.");return M(this,yn,"f")}async _createThreadAssistantStream(t,n,s){const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const o={...n,stream:!0},i=await t.createAndRun(o,{...s,signal:this.controller.signal});this._connected();for await(const a of i)M(this,De,"m",bs).call(this,a);if(i.controller.signal?.aborted)throw new nt;return this._addRun(M(this,De,"m",vs).call(this))}async _createAssistantStream(t,n,s,r){const o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const i={...s,stream:!0},a=await t.create(n,i,{...r,signal:this.controller.signal});this._connected();for await(const l of a)M(this,De,"m",bs).call(this,l);if(a.controller.signal?.aborted)throw new nt;return this._addRun(M(this,De,"m",vs).call(this))}static accumulateDelta(t,n){for(const[s,r]of Object.entries(n)){if(!t.hasOwnProperty(s)){t[s]=r;continue}let o=t[s];if(o==null){t[s]=r;continue}if(s==="index"||s==="type"){t[s]=r;continue}if(typeof o=="string"&&typeof r=="string")o+=r;else if(typeof o=="number"&&typeof r=="number")o+=r;else if(Xo(o)&&Xo(r))o=this.accumulateDelta(o,r);else if(Array.isArray(o)&&Array.isArray(r)){if(o.every(i=>typeof i=="string"||typeof i=="number")){o.push(...r);continue}for(const i of r){if(!Xo(i))throw new Error(`Expected array delta entry to be an object but got: ${i}`);const a=i.index;if(a==null)throw console.error(i),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=o[a];l==null?o.push(i):o[a]=this.accumulateDelta(l,i)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${r}, accValue: ${o}`);t[s]=o}return t}_addRun(t){return t}async _threadAssistantStream(t,n,s){return await this._createThreadAssistantStream(n,t,s)}async _runAssistantStream(t,n,s,r){return await this._createAssistantStream(n,t,s,r)}async _runToolAssistantStream(t,n,s,r,o){return await this._createToolAssistantStream(s,t,n,r,o)}}bs=function(t){if(!this.ended)switch(Xe(this,Dr,t),M(this,De,"m",Yl).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":M(this,De,"m",nc).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":M(this,De,"m",zl).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":M(this,De,"m",Ql).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},vs=function(){if(this.ended)throw new U("stream has ended, this shouldn't happen");if(!M(this,yn,"f"))throw Error("Final run has not been received");return M(this,yn,"f")},Ql=function(t){const[n,s]=M(this,De,"m",ec).call(this,t,M(this,rt,"f"));Xe(this,rt,n),M(this,Pr,"f")[n.id]=n;for(const r of s){const o=n.content[r.index];o?.type=="text"&&this._emit("textCreated",o.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const r of t.data.delta.content){if(r.type=="text"&&r.text){let o=r.text,i=n.content[r.index];if(i&&i.type=="text")this._emit("textDelta",o,i.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=M(this,Un,"f")){if(M(this,_n,"f"))switch(M(this,_n,"f").type){case"text":this._emit("textDone",M(this,_n,"f").text,M(this,rt,"f"));break;case"image_file":this._emit("imageFileDone",M(this,_n,"f").image_file,M(this,rt,"f"));break}Xe(this,Un,r.index)}Xe(this,_n,n.content[r.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(M(this,Un,"f")!==void 0){const r=t.data.content[M(this,Un,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,M(this,rt,"f"));break;case"text":this._emit("textDone",r.text,M(this,rt,"f"));break}}M(this,rt,"f")&&this._emit("messageDone",t.data),Xe(this,rt,void 0)}},zl=function(t){const n=M(this,De,"m",Zl).call(this,t);switch(Xe(this,Ps,n),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const s=t.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const o of s.step_details.tool_calls)o.index==M(this,Qr,"f")?this._emit("toolCallDelta",o,n.step_details.tool_calls[o.index]):(M(this,Ye,"f")&&this._emit("toolCallDone",M(this,Ye,"f")),Xe(this,Qr,o.index),Xe(this,Ye,n.step_details.tool_calls[o.index]),M(this,Ye,"f")&&this._emit("toolCallCreated",M(this,Ye,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Xe(this,Ps,void 0),t.data.step_details.type=="tool_calls"&&M(this,Ye,"f")&&(this._emit("toolCallDone",M(this,Ye,"f")),Xe(this,Ye,void 0)),this._emit("runStepDone",t.data,n);break}},Yl=function(t){M(this,Ri,"f").push(t),this._emit("event",t)},Zl=function(t){switch(t.event){case"thread.run.step.created":return M(this,vt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=M(this,vt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let s=t.data;if(s.delta){const r=it.accumulateDelta(n,s.delta);M(this,vt,"f")[t.data.id]=r}return M(this,vt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":M(this,vt,"f")[t.data.id]=t.data;break}if(M(this,vt,"f")[t.data.id])return M(this,vt,"f")[t.data.id];throw new Error("No snapshot available")},ec=function(t,n){let s=[];switch(t.event){case"thread.message.created":return[t.data,s];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=t.data;if(r.delta.content)for(const o of r.delta.content)if(o.index in n.content){let i=n.content[o.index];n.content[o.index]=M(this,De,"m",tc).call(this,o,i)}else n.content[o.index]=o,s.push(o);return[n,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},tc=function(t,n){return it.accumulateDelta(n,t)},nc=function(t){switch(Xe(this,Tr,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Xe(this,yn,t.data),M(this,Ye,"f")&&(this._emit("toolCallDone",M(this,Ye,"f")),Xe(this,Ye,void 0));break}};class la extends K{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(t,n,s){return this._client.post(`/assistants/${t}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/assistants",ca,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class ca extends Ne{}la.AssistantsPage=ca;function sc(e){return typeof e.parse=="function"}const Gn=e=>e?.role==="assistant",Tf=e=>e?.role==="function",If=e=>e?.role==="tool";function ua(e){return e?.$brand==="auto-parseable-response-format"}function Zs(e){return e?.$brand==="auto-parseable-tool"}function Lg(e,t){return!t||!kf(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:fa(e,t)}function fa(e,t){const n=e.choices.map(s=>{if(s.finish_reason==="length")throw new gf;if(s.finish_reason==="content_filter")throw new _f;return{...s,message:{...s.message,...s.message.tool_calls?{tool_calls:s.message.tool_calls?.map(r=>Hg(t,r))??void 0}:void 0,parsed:s.message.content&&!s.message.refusal?jg(t,s.message.content):null}}});return{...e,choices:n}}function jg(e,t){return e.response_format?.type!=="json_schema"?null:e.response_format?.type==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function Hg(e,t){const n=e.tools?.find(s=>s.function?.name===t.function.name);return{...t,function:{...t.function,parsed_arguments:Zs(n)?n.$parseRaw(t.function.arguments):n?.function.strict?JSON.parse(t.function.arguments):null}}}function Ug(e,t){if(!e)return!1;const n=e.tools?.find(s=>s.function?.name===t.function.name);return Zs(n)||n?.function.strict||!1}function kf(e){return ua(e.response_format)?!0:e.tools?.some(t=>Zs(t)||t.type==="function"&&t.function.strict===!0)??!1}function Wg(e){for(const t of e??[]){if(t.type!=="function")throw new U(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new U(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Je=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},Ve,$i,zr,Pi,Di,Ti,Vf,Ii;const rc=10;class Mf extends aa{constructor(){super(...arguments),Ve.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=t.choices[0]?.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(Tf(t)||If(t))&&t.content)this._emit("functionCallResult",t.content);else if(Gn(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Gn(t)&&t.tool_calls)for(const s of t.tool_calls)s.type==="function"&&this._emit("functionCall",s.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new U("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),Je(this,Ve,"m",$i).call(this)}async finalMessage(){return await this.done(),Je(this,Ve,"m",zr).call(this)}async finalFunctionCall(){return await this.done(),Je(this,Ve,"m",Pi).call(this)}async finalFunctionCallResult(){return await this.done(),Je(this,Ve,"m",Di).call(this)}async totalUsage(){return await this.done(),Je(this,Ve,"m",Ti).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=Je(this,Ve,"m",zr).call(this);n&&this._emit("finalMessage",n);const s=Je(this,Ve,"m",$i).call(this);s&&this._emit("finalContent",s);const r=Je(this,Ve,"m",Pi).call(this);r&&this._emit("finalFunctionCall",r);const o=Je(this,Ve,"m",Di).call(this);o!=null&&this._emit("finalFunctionCallResult",o),this._chatCompletions.some(i=>i.usage)&&this._emit("totalUsage",Je(this,Ve,"m",Ti).call(this))}async _createChatCompletion(t,n,s){const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Je(this,Ve,"m",Vf).call(this,n);const o=await t.chat.completions.create({...n,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(fa(o,n))}async _runChatCompletion(t,n,s){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(t,n,s)}async _runFunctions(t,n,s){const r="function",{function_call:o="auto",stream:i,...a}=n,l=typeof o!="string"&&o?.name,{maxChatCompletions:f=rc}=s||{},u={};for(const h of n.functions)u[h.name||h.function.name]=h;const c=n.functions.map(h=>({name:h.name||h.function.name,parameters:h.parameters,description:h.description}));for(const h of n.messages)this._addMessage(h,!1);for(let h=0;h<f;++h){const w=(await this._createChatCompletion(t,{...a,function_call:o,functions:c,messages:[...this.messages]},s)).choices[0]?.message;if(!w)throw new U("missing message in ChatCompletion response");if(!w.function_call)return;const{name:y,arguments:I}=w.function_call,D=u[y];if(D){if(l&&l!==y){const R=`Invalid function_call: ${JSON.stringify(y)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,name:y,content:R});continue}}else{const R=`Invalid function_call: ${JSON.stringify(y)}. Available options are: ${c.map(G=>JSON.stringify(G.name)).join(", ")}. Please try again`;this._addMessage({role:r,name:y,content:R});continue}let S;try{S=sc(D)?await D.parse(I):I}catch(R){this._addMessage({role:r,name:y,content:R instanceof Error?R.message:String(R)});continue}const F=await D.function(S,this),Q=Je(this,Ve,"m",Ii).call(this,F);if(this._addMessage({role:r,name:y,content:Q}),l)return}}async _runTools(t,n,s){const r="tool",{tool_choice:o="auto",stream:i,...a}=n,l=typeof o!="string"&&o?.function?.name,{maxChatCompletions:f=rc}=s||{},u=n.tools.map(m=>{if(Zs(m)){if(!m.$callback)throw new U("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:m.$callback,name:m.function.name,description:m.function.description||"",parameters:m.function.parameters,parse:m.$parseRaw,strict:!0}}}return m}),c={};for(const m of u)m.type==="function"&&(c[m.function.name||m.function.function.name]=m.function);const h="tools"in n?u.map(m=>m.type==="function"?{type:"function",function:{name:m.function.name||m.function.function.name,parameters:m.function.parameters,description:m.function.description,strict:m.function.strict}}:m):void 0;for(const m of n.messages)this._addMessage(m,!1);for(let m=0;m<f;++m){const y=(await this._createChatCompletion(t,{...a,tool_choice:o,tools:h,messages:[...this.messages]},s)).choices[0]?.message;if(!y)throw new U("missing message in ChatCompletion response");if(!y.tool_calls?.length)return;for(const I of y.tool_calls){if(I.type!=="function")continue;const D=I.id,{name:S,arguments:F}=I.function,Q=c[S];if(Q){if(l&&l!==S){const Y=`Invalid tool_call: ${JSON.stringify(S)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,tool_call_id:D,content:Y});continue}}else{const Y=`Invalid tool_call: ${JSON.stringify(S)}. Available options are: ${Object.keys(c).map(k=>JSON.stringify(k)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:D,content:Y});continue}let R;try{R=sc(Q)?await Q.parse(F):F}catch(Y){const k=Y instanceof Error?Y.message:String(Y);this._addMessage({role:r,tool_call_id:D,content:k});continue}const G=await Q.function(R,this),ee=Je(this,Ve,"m",Ii).call(this,G);if(this._addMessage({role:r,tool_call_id:D,content:ee}),l)return}}}}Ve=new WeakSet,$i=function(){return Je(this,Ve,"m",zr).call(this).content??null},zr=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(Gn(n)){const{function_call:s,...r}=n,o={...r,content:n.content??null,refusal:n.refusal??null};return s&&(o.function_call=s),o}}throw new U("stream ended without producing a ChatCompletionMessage with role=assistant")},Pi=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(Gn(n)&&n?.function_call)return n.function_call;if(Gn(n)&&n?.tool_calls?.length)return n.tool_calls.at(-1)?.function}},Di=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(Tf(n)&&n.content!=null||If(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(s=>s.role==="assistant"&&s.tool_calls?.some(r=>r.type==="function"&&r.id===n.tool_call_id)))return n.content}},Ti=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},Vf=function(t){if(t.n!=null&&t.n>1)throw new U("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Ii=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class Ls extends Mf{static runFunctions(t,n,s){const r=new Ls,o={...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(t,n,o)),r}static runTools(t,n,s){const r=new Ls,o={...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(t,n,o)),r}_addMessage(t,n=!0){super._addMessage(t,n),Gn(t)&&t.content&&this._emit("content",t.content)}}const Ff=1,Bf=2,Lf=4,jf=8,Hf=16,Uf=32,Wf=64,Kf=128,Jf=256,qf=Kf|Jf,Gf=Hf|Uf|qf|Wf,Xf=Ff|Bf|Gf,Qf=Lf|jf,Kg=Xf|Qf,Oe={STR:Ff,NUM:Bf,ARR:Lf,OBJ:jf,NULL:Hf,BOOL:Uf,NAN:Wf,INFINITY:Kf,MINUS_INFINITY:Jf,INF:qf,SPECIAL:Gf,ATOM:Xf,COLLECTION:Qf,ALL:Kg};class Jg extends Error{}class qg extends Error{}function Gg(e,t=Oe.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return Xg(e.trim(),t)}const Xg=(e,t)=>{const n=e.length;let s=0;const r=h=>{throw new Jg(`${h} at position ${s}`)},o=h=>{throw new qg(`${h} at position ${s}`)},i=()=>(c(),s>=n&&r("Unexpected end of input"),e[s]==='"'?a():e[s]==="{"?l():e[s]==="["?f():e.substring(s,s+4)==="null"||Oe.NULL&t&&n-s<4&&"null".startsWith(e.substring(s))?(s+=4,null):e.substring(s,s+4)==="true"||Oe.BOOL&t&&n-s<4&&"true".startsWith(e.substring(s))?(s+=4,!0):e.substring(s,s+5)==="false"||Oe.BOOL&t&&n-s<5&&"false".startsWith(e.substring(s))?(s+=5,!1):e.substring(s,s+8)==="Infinity"||Oe.INFINITY&t&&n-s<8&&"Infinity".startsWith(e.substring(s))?(s+=8,1/0):e.substring(s,s+9)==="-Infinity"||Oe.MINUS_INFINITY&t&&1<n-s&&n-s<9&&"-Infinity".startsWith(e.substring(s))?(s+=9,-1/0):e.substring(s,s+3)==="NaN"||Oe.NAN&t&&n-s<3&&"NaN".startsWith(e.substring(s))?(s+=3,NaN):u()),a=()=>{const h=s;let m=!1;for(s++;s<n&&(e[s]!=='"'||m&&e[s-1]==="\\");)m=e[s]==="\\"?!m:!1,s++;if(e.charAt(s)=='"')try{return JSON.parse(e.substring(h,++s-Number(m)))}catch(w){o(String(w))}else if(Oe.STR&t)try{return JSON.parse(e.substring(h,s-Number(m))+'"')}catch{return JSON.parse(e.substring(h,e.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},l=()=>{s++,c();const h={};try{for(;e[s]!=="}";){if(c(),s>=n&&Oe.OBJ&t)return h;const m=a();c(),s++;try{const w=i();Object.defineProperty(h,m,{value:w,writable:!0,enumerable:!0,configurable:!0})}catch(w){if(Oe.OBJ&t)return h;throw w}c(),e[s]===","&&s++}}catch{if(Oe.OBJ&t)return h;r("Expected '}' at end of object")}return s++,h},f=()=>{s++;const h=[];try{for(;e[s]!=="]";)h.push(i()),c(),e[s]===","&&s++}catch{if(Oe.ARR&t)return h;r("Expected ']' at end of array")}return s++,h},u=()=>{if(s===0){e==="-"&&Oe.NUM&t&&r("Not sure what '-' is");try{return JSON.parse(e)}catch(m){if(Oe.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}o(String(m))}}const h=s;for(e[s]==="-"&&s++;e[s]&&!",]}".includes(e[s]);)s++;s==n&&!(Oe.NUM&t)&&r("Unterminated number literal");try{return JSON.parse(e.substring(h,s))}catch{e.substring(h,s)==="-"&&Oe.NUM&t&&r("Not sure what '-' is");try{return JSON.parse(e.substring(h,e.lastIndexOf("e")))}catch(w){o(String(w))}}},c=()=>{for(;s<n&&` 
\r	`.includes(e[s]);)s++};return i()},oc=e=>Gg(e,Oe.ALL^Oe.NUM);var Dn=function(e,t,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},ce=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},we,Mt,Tn,zt,Qo,pr,zo,Yo,Zo,mr,ei,ic;class js extends Mf{constructor(t){super(),we.add(this),Mt.set(this,void 0),Tn.set(this,void 0),zt.set(this,void 0),Dn(this,Mt,t,"f"),Dn(this,Tn,[],"f")}get currentChatCompletionSnapshot(){return ce(this,zt,"f")}static fromReadableStream(t){const n=new js(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,s){const r=new js(n);return r._run(()=>r._runChatCompletion(t,{...n,stream:!0},{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(t,n,s){super._createChatCompletion;const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ce(this,we,"m",Qo).call(this);const o=await t.chat.completions.create({...n,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const i of o)ce(this,we,"m",zo).call(this,i);if(o.controller.signal?.aborted)throw new nt;return this._addChatCompletion(ce(this,we,"m",mr).call(this))}async _fromReadableStream(t,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ce(this,we,"m",Qo).call(this),this._connected();const r=Rt.fromReadableStream(t,this.controller);let o;for await(const i of r)o&&o!==i.id&&this._addChatCompletion(ce(this,we,"m",mr).call(this)),ce(this,we,"m",zo).call(this,i),o=i.id;if(r.controller.signal?.aborted)throw new nt;return this._addChatCompletion(ce(this,we,"m",mr).call(this))}[(Mt=new WeakMap,Tn=new WeakMap,zt=new WeakMap,we=new WeakSet,Qo=function(){this.ended||Dn(this,zt,void 0,"f")},pr=function(n){let s=ce(this,Tn,"f")[n.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ce(this,Tn,"f")[n.index]=s,s)},zo=function(n){if(this.ended)return;const s=ce(this,we,"m",ic).call(this,n);this._emit("chunk",n,s);for(const r of n.choices){const o=s.choices[r.index];r.delta.content!=null&&o.message?.role==="assistant"&&o.message?.content&&(this._emit("content",r.delta.content,o.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:o.message.content,parsed:o.message.parsed})),r.delta.refusal!=null&&o.message?.role==="assistant"&&o.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:o.message.refusal}),r.logprobs?.content!=null&&o.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:o.logprobs?.content??[]}),r.logprobs?.refusal!=null&&o.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:o.logprobs?.refusal??[]});const i=ce(this,we,"m",pr).call(this,o);o.finish_reason&&(ce(this,we,"m",Zo).call(this,o),i.current_tool_call_index!=null&&ce(this,we,"m",Yo).call(this,o,i.current_tool_call_index));for(const a of r.delta.tool_calls??[])i.current_tool_call_index!==a.index&&(ce(this,we,"m",Zo).call(this,o),i.current_tool_call_index!=null&&ce(this,we,"m",Yo).call(this,o,i.current_tool_call_index)),i.current_tool_call_index=a.index;for(const a of r.delta.tool_calls??[]){const l=o.message.tool_calls?.[a.index];l?.type&&(l?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:l.function?.name,index:a.index,arguments:l.function.arguments,parsed_arguments:l.function.parsed_arguments,arguments_delta:a.function?.arguments??""}):(l?.type,void 0))}}},Yo=function(n,s){if(ce(this,we,"m",pr).call(this,n).done_tool_calls.has(s))return;const o=n.message.tool_calls?.[s];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){const i=ce(this,Mt,"f")?.tools?.find(a=>a.type==="function"&&a.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:s,arguments:o.function.arguments,parsed_arguments:Zs(i)?i.$parseRaw(o.function.arguments):i?.function.strict?JSON.parse(o.function.arguments):null})}else o.type},Zo=function(n){const s=ce(this,we,"m",pr).call(this,n);if(n.message.content&&!s.content_done){s.content_done=!0;const r=ce(this,we,"m",ei).call(this);this._emit("content.done",{content:n.message.content,parsed:r?r.$parseRaw(n.message.content):null})}n.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},mr=function(){if(this.ended)throw new U("stream has ended, this shouldn't happen");const n=ce(this,zt,"f");if(!n)throw new U("request ended without sending any chunks");return Dn(this,zt,void 0,"f"),Dn(this,Tn,[],"f"),Qg(n,ce(this,Mt,"f"))},ei=function(){const n=ce(this,Mt,"f")?.response_format;return ua(n)?n:null},ic=function(n){var s,r,o,i;let a=ce(this,zt,"f");const{choices:l,...f}=n;a?Object.assign(a,f):a=Dn(this,zt,{...f,choices:[]},"f");for(const{delta:u,finish_reason:c,index:h,logprobs:m=null,...w}of n.choices){let y=a.choices[h];if(y||(y=a.choices[h]={finish_reason:c,index:h,message:{},logprobs:m,...w}),m)if(!y.logprobs)y.logprobs=Object.assign({},m);else{const{content:G,refusal:ee,...Y}=m;Object.assign(y.logprobs,Y),G&&((s=y.logprobs).content??(s.content=[]),y.logprobs.content.push(...G)),ee&&((r=y.logprobs).refusal??(r.refusal=[]),y.logprobs.refusal.push(...ee))}if(c&&(y.finish_reason=c,ce(this,Mt,"f")&&kf(ce(this,Mt,"f")))){if(c==="length")throw new gf;if(c==="content_filter")throw new _f}if(Object.assign(y,w),!u)continue;const{content:I,refusal:D,function_call:S,role:F,tool_calls:Q,...R}=u;if(Object.assign(y.message,R),D&&(y.message.refusal=(y.message.refusal||"")+D),F&&(y.message.role=F),S&&(y.message.function_call?(S.name&&(y.message.function_call.name=S.name),S.arguments&&((o=y.message.function_call).arguments??(o.arguments=""),y.message.function_call.arguments+=S.arguments)):y.message.function_call=S),I&&(y.message.content=(y.message.content||"")+I,!y.message.refusal&&ce(this,we,"m",ei).call(this)&&(y.message.parsed=oc(y.message.content))),Q){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:G,id:ee,type:Y,function:k,...L}of Q){const q=(i=y.message.tool_calls)[G]??(i[G]={});Object.assign(q,L),ee&&(q.id=ee),Y&&(q.type=Y),k&&(q.function??(q.function={name:k.name??"",arguments:""})),k?.name&&(q.function.name=k.name),k?.arguments&&(q.function.arguments+=k.arguments,Ug(ce(this,Mt,"f"),q)&&(q.function.parsed_arguments=oc(q.function.arguments)))}}}return a},Symbol.asyncIterator)](){const t=[],n=[];let s=!1;return this.on("chunk",r=>{const o=n.shift();o?o.resolve(r):t.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const o of n)o.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const o of n)o.reject(r);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((o,i)=>n.push({resolve:o,reject:i})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Rt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Qg(e,t){const{id:n,choices:s,created:r,model:o,system_fingerprint:i,...a}=e,l={...a,id:n,choices:s.map(({message:f,finish_reason:u,index:c,logprobs:h,...m})=>{if(!u)throw new U(`missing finish_reason for choice ${c}`);const{content:w=null,function_call:y,tool_calls:I,...D}=f,S=f.role;if(!S)throw new U(`missing role for choice ${c}`);if(y){const{arguments:F,name:Q}=y;if(F==null)throw new U(`missing function_call.arguments for choice ${c}`);if(!Q)throw new U(`missing function_call.name for choice ${c}`);return{...m,message:{content:w,function_call:{arguments:F,name:Q},role:S,refusal:f.refusal??null},finish_reason:u,index:c,logprobs:h}}return I?{...m,index:c,finish_reason:u,logprobs:h,message:{...D,role:S,content:w,refusal:f.refusal??null,tool_calls:I.map((F,Q)=>{const{function:R,type:G,id:ee,...Y}=F,{arguments:k,name:L,...q}=R||{};if(ee==null)throw new U(`missing choices[${c}].tool_calls[${Q}].id
${gr(e)}`);if(G==null)throw new U(`missing choices[${c}].tool_calls[${Q}].type
${gr(e)}`);if(L==null)throw new U(`missing choices[${c}].tool_calls[${Q}].function.name
${gr(e)}`);if(k==null)throw new U(`missing choices[${c}].tool_calls[${Q}].function.arguments
${gr(e)}`);return{...Y,id:ee,type:G,function:{...q,name:L,arguments:k}}})}}:{...m,message:{...D,content:w,role:S,refusal:f.refusal??null},finish_reason:u,index:c,logprobs:h}}),created:r,model:o,object:"chat.completion",...i?{system_fingerprint:i}:{}};return Lg(l,t)}function gr(e){return JSON.stringify(e)}class Xn extends js{static fromReadableStream(t){const n=new Xn(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,s){const r=new Xn(null),o={...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(t,n,o)),r}static runTools(t,n,s){const r=new Xn(n),o={...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(t,n,o)),r}}let zf=class extends K{parse(t,n){return Wg(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(s=>fa(s,t))}runFunctions(t,n){return t.stream?Xn.runFunctions(this._client,t,n):Ls.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?Xn.runTools(this._client,t,n):Ls.runTools(this._client,t,n)}stream(t,n){return js.createChatCompletion(this._client,t,n)}};class ki extends K{constructor(){super(...arguments),this.completions=new zf(this._client)}}(function(e){e.Completions=zf})(ki||(ki={}));class Yf extends K{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class Zf extends K{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class vo extends K{constructor(){super(...arguments),this.sessions=new Yf(this._client),this.transcriptionSessions=new Zf(this._client)}}vo.Sessions=Yf;vo.TranscriptionSessions=Zf;class da extends K{create(t,n,s){return this._client.post(`/threads/${t}/messages`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}retrieve(t,n,s){return this._client.get(`/threads/${t}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}update(t,n,s,r){return this._client.post(`/threads/${t}/messages/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(t,n={},s){return me(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,ha,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}del(t,n,s){return this._client.delete(`/threads/${t}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}}class ha extends Ne{}da.MessagesPage=ha;class pa extends K{retrieve(t,n,s,r={},o){return me(r)?this.retrieve(t,n,s,{},r):this._client.get(`/threads/${t}/runs/${n}/steps/${s}`,{query:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}list(t,n,s={},r){return me(s)?this.list(t,n,{},s):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,ma,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}}class ma extends Ne{}pa.RunStepsPage=ma;let er=class extends K{constructor(){super(...arguments),this.steps=new pa(this._client)}create(t,n,s){const{include:r,...o}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:r},body:o,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers},stream:n.stream??!1})}retrieve(t,n,s){return this._client.get(`/threads/${t}/runs/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}update(t,n,s,r){return this._client.post(`/threads/${t}/runs/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(t,n={},s){return me(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,ga,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}cancel(t,n,s){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}async createAndPoll(t,n,s){const r=await this.create(t,n,s);return await this.poll(t,r.id,s)}createAndStream(t,n,s){return it.createAssistantStream(t,this._client.beta.threads.runs,n,s)}async poll(t,n,s){const r={...s?.headers,"X-Stainless-Poll-Helper":"true"};for(s?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:o,response:i}=await this.retrieve(t,n,{...s,headers:{...s?.headers,...r}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(s?.pollIntervalMs)a=s.pollIntervalMs;else{const l=i.headers.get("openai-poll-after-ms");if(l){const f=parseInt(l);isNaN(f)||(a=f)}}await zs(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(t,n,s){return it.createAssistantStream(t,this._client.beta.threads.runs,n,s)}submitToolOutputs(t,n,s,r){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers},stream:s.stream??!1})}async submitToolOutputsAndPoll(t,n,s,r){const o=await this.submitToolOutputs(t,n,s,r);return await this.poll(t,o.id,r)}submitToolOutputsStream(t,n,s,r){return it.createToolAssistantStream(t,n,this._client.beta.threads.runs,s,r)}};class ga extends Ne{}er.RunsPage=ga;er.Steps=pa;er.RunStepsPage=ma;class ns extends K{constructor(){super(...arguments),this.runs=new er(this._client),this.messages=new da(this._client)}create(t={},n){return me(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(t,n,s){return this._client.post(`/threads/${t}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const s=await this.createAndRun(t,n);return await this.runs.poll(s.thread_id,s.id,n)}createAndRunStream(t,n){return it.createThreadAssistantStream(t,this._client.beta.threads,n)}}ns.Runs=er;ns.RunsPage=ga;ns.Messages=da;ns.MessagesPage=ha;class ss extends K{constructor(){super(...arguments),this.realtime=new vo(this._client),this.chat=new ki(this._client),this.assistants=new la(this._client),this.threads=new ns(this._client)}}ss.Realtime=vo;ss.Assistants=la;ss.AssistantsPage=ca;ss.Threads=ns;class ed extends K{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class td extends K{retrieve(t,n,s){return this._client.get(`/containers/${t}/files/${n}/content`,{...s,headers:{Accept:"application/binary",...s?.headers},__binaryResponse:!0})}}let Eo=class extends K{constructor(){super(...arguments),this.content=new td(this._client)}create(t,n,s){return this._client.post(`/containers/${t}/files`,On({body:n,...s}))}retrieve(t,n,s){return this._client.get(`/containers/${t}/files/${n}`,s)}list(t,n={},s){return me(n)?this.list(t,{},n):this._client.getAPIList(`/containers/${t}/files`,_a,{query:n,...s})}del(t,n,s){return this._client.delete(`/containers/${t}/files/${n}`,{...s,headers:{Accept:"*/*",...s?.headers}})}};class _a extends Ne{}Eo.FileListResponsesPage=_a;Eo.Content=td;class tr extends K{constructor(){super(...arguments),this.files=new Eo(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(`/containers/${t}`,n)}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/containers",ya,{query:t,...n})}del(t,n){return this._client.delete(`/containers/${t}`,{...n,headers:{Accept:"*/*",...n?.headers}})}}class ya extends Ne{}tr.ContainerListResponsesPage=ya;tr.Files=Eo;tr.FileListResponsesPage=_a;class nd extends K{create(t,n){const s=!!t.encoding_format;let r=s?t.encoding_format:"base64";s&&on("Request","User defined encoding_format:",t.encoding_format);const o=this._client.post("/embeddings",{body:{...t,encoding_format:r},...n});return s?o:(on("response","Decoding base64 embeddings to float32 array"),o._thenUnwrap(i=>(i&&i.data&&i.data.forEach(a=>{const l=a.embedding;a.embedding=Fg(l)}),i)))}}class wa extends K{retrieve(t,n,s,r){return this._client.get(`/evals/${t}/runs/${n}/output_items/${s}`,r)}list(t,n,s={},r){return me(s)?this.list(t,n,{},s):this._client.getAPIList(`/evals/${t}/runs/${n}/output_items`,ba,{query:s,...r})}}class ba extends Ne{}wa.OutputItemListResponsesPage=ba;class nr extends K{constructor(){super(...arguments),this.outputItems=new wa(this._client)}create(t,n,s){return this._client.post(`/evals/${t}/runs`,{body:n,...s})}retrieve(t,n,s){return this._client.get(`/evals/${t}/runs/${n}`,s)}list(t,n={},s){return me(n)?this.list(t,{},n):this._client.getAPIList(`/evals/${t}/runs`,va,{query:n,...s})}del(t,n,s){return this._client.delete(`/evals/${t}/runs/${n}`,s)}cancel(t,n,s){return this._client.post(`/evals/${t}/runs/${n}`,s)}}class va extends Ne{}nr.RunListResponsesPage=va;nr.OutputItems=wa;nr.OutputItemListResponsesPage=ba;class sr extends K{constructor(){super(...arguments),this.runs=new nr(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(`/evals/${t}`,n)}update(t,n,s){return this._client.post(`/evals/${t}`,{body:n,...s})}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/evals",Ea,{query:t,...n})}del(t,n){return this._client.delete(`/evals/${t}`,n)}}class Ea extends Ne{}sr.EvalListResponsesPage=Ea;sr.Runs=nr;sr.RunListResponsesPage=va;let xa=class extends K{create(t,n){return this._client.post("/files",On({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/files",Na,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/binary",...n?.headers},__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,n)}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:s=1800*1e3}={}){const r=new Set(["processed","error","deleted"]),o=Date.now();let i=await this.retrieve(t);for(;!i.status||!r.has(i.status);)if(await zs(n),i=await this.retrieve(t),Date.now()-o>s)throw new ra({message:`Giving up on waiting for file ${t} to finish processing after ${s} milliseconds.`});return i}};class Na extends Ne{}xa.FileObjectsPage=Na;class sd extends K{}let rd=class extends K{run(t,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...n})}validate(t,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...n})}};class Sa extends K{constructor(){super(...arguments),this.graders=new rd(this._client)}}Sa.Graders=rd;class Oa extends K{create(t,n,s){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,Aa,{body:n,method:"post",...s})}retrieve(t,n={},s){return me(n)?this.retrieve(t,{},n):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...s})}del(t,n,s){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${n}`,s)}}class Aa extends _o{}Oa.PermissionCreateResponsesPage=Aa;let xo=class extends K{constructor(){super(...arguments),this.permissions=new Oa(this._client)}};xo.Permissions=Oa;xo.PermissionCreateResponsesPage=Aa;class Ca extends K{list(t,n={},s){return me(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,Ra,{query:n,...s})}}class Ra extends Ne{}Ca.FineTuningJobCheckpointsPage=Ra;class rs extends K{constructor(){super(...arguments),this.checkpoints=new Ca(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",$a,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},s){return me(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,Pa,{query:n,...s})}pause(t,n){return this._client.post(`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(`/fine_tuning/jobs/${t}/resume`,n)}}class $a extends Ne{}class Pa extends Ne{}rs.FineTuningJobsPage=$a;rs.FineTuningJobEventsPage=Pa;rs.Checkpoints=Ca;rs.FineTuningJobCheckpointsPage=Ra;class an extends K{constructor(){super(...arguments),this.methods=new sd(this._client),this.jobs=new rs(this._client),this.checkpoints=new xo(this._client),this.alpha=new Sa(this._client)}}an.Methods=sd;an.Jobs=rs;an.FineTuningJobsPage=$a;an.FineTuningJobEventsPage=Pa;an.Checkpoints=xo;an.Alpha=Sa;class od extends K{}class Da extends K{constructor(){super(...arguments),this.graderModels=new od(this._client)}}Da.GraderModels=od;class id extends K{createVariation(t,n){return this._client.post("/images/variations",On({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",On({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}class Ta extends K{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",Ia,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class Ia extends _o{}Ta.ModelsPage=Ia;class ad extends K{create(t,n){return this._client.post("/moderations",{body:t,...n})}}function zg(e,t){return!t||!Zg(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(s=>({...s,parsed:null}))}:n)}:ld(e,t)}function ld(e,t){const n=e.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:n_(t,r)};if(r.type==="message"){const o=r.content.map(i=>i.type==="output_text"?{...i,parsed:Yg(t,i.text)}:i);return{...r,content:o}}return r}),s=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||cd(s),Object.defineProperty(s,"output_parsed",{enumerable:!0,get(){for(const r of s.output)if(r.type==="message"){for(const o of r.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),s}function Yg(e,t){return e.text?.format?.type!=="json_schema"?null:"$parseRaw"in e.text?.format?(e.text?.format).$parseRaw(t):JSON.parse(t)}function Zg(e){return!!ua(e.text?.format)}function e_(e){return e?.$brand==="auto-parseable-tool"}function t_(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function n_(e,t){const n=t_(e.tools??[],t.name);return{...t,...t,parsed_arguments:e_(n)?n.$parseRaw(t.arguments):n?.strict?JSON.parse(t.arguments):null}}function cd(e){const t=[];for(const n of e.output)if(n.type==="message")for(const s of n.content)s.type==="output_text"&&t.push(s.text);e.output_text=t.join("")}class ud extends K{list(t,n={},s){return me(n)?this.list(t,{},n):this._client.getAPIList(`/responses/${t}/input_items`,r_,{query:n,...s})}}var In=function(e,t,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},Yt=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},kn,_r,Zt,yr,ac,lc,cc,uc;class ka extends aa{constructor(t){super(),kn.add(this),_r.set(this,void 0),Zt.set(this,void 0),yr.set(this,void 0),In(this,_r,t,"f")}static createResponse(t,n,s){const r=new ka(n);return r._run(()=>r._createOrRetrieveResponse(t,n,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(t,n,s){const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Yt(this,kn,"m",ac).call(this);let o,i=null;"response_id"in n?(o=await t.responses.retrieve(n.response_id,{stream:!0},{...s,signal:this.controller.signal,stream:!0}),i=n.starting_after??null):o=await t.responses.create({...n,stream:!0},{...s,signal:this.controller.signal}),this._connected();for await(const a of o)Yt(this,kn,"m",lc).call(this,a,i);if(o.controller.signal?.aborted)throw new nt;return Yt(this,kn,"m",cc).call(this)}[(_r=new WeakMap,Zt=new WeakMap,yr=new WeakMap,kn=new WeakSet,ac=function(){this.ended||In(this,Zt,void 0,"f")},lc=function(n,s){if(this.ended)return;const r=(i,a)=>{(s==null||a.sequence_number>s)&&this._emit(i,a)},o=Yt(this,kn,"m",uc).call(this,n);switch(r("event",n),n.type){case"response.output_text.delta":{const i=o.output[n.output_index];if(!i)throw new U(`missing output at index ${n.output_index}`);if(i.type==="message"){const a=i.content[n.content_index];if(!a)throw new U(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new U(`expected content to be 'output_text', got ${a.type}`);r("response.output_text.delta",{...n,snapshot:a.text})}break}case"response.function_call_arguments.delta":{const i=o.output[n.output_index];if(!i)throw new U(`missing output at index ${n.output_index}`);i.type==="function_call"&&r("response.function_call_arguments.delta",{...n,snapshot:i.arguments});break}default:r(n.type,n);break}},cc=function(){if(this.ended)throw new U("stream has ended, this shouldn't happen");const n=Yt(this,Zt,"f");if(!n)throw new U("request ended without sending any events");In(this,Zt,void 0,"f");const s=s_(n,Yt(this,_r,"f"));return In(this,yr,s,"f"),s},uc=function(n){let s=Yt(this,Zt,"f");if(!s){if(n.type!=="response.created")throw new U(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return s=In(this,Zt,n.response,"f"),s}switch(n.type){case"response.output_item.added":{s.output.push(n.item);break}case"response.content_part.added":{const r=s.output[n.output_index];if(!r)throw new U(`missing output at index ${n.output_index}`);r.type==="message"&&r.content.push(n.part);break}case"response.output_text.delta":{const r=s.output[n.output_index];if(!r)throw new U(`missing output at index ${n.output_index}`);if(r.type==="message"){const o=r.content[n.content_index];if(!o)throw new U(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new U(`expected content to be 'output_text', got ${o.type}`);o.text+=n.delta}break}case"response.function_call_arguments.delta":{const r=s.output[n.output_index];if(!r)throw new U(`missing output at index ${n.output_index}`);r.type==="function_call"&&(r.arguments+=n.delta);break}case"response.completed":{In(this,Zt,n.response,"f");break}}return s},Symbol.asyncIterator)](){const t=[],n=[];let s=!1;return this.on("event",r=>{const o=n.shift();o?o.resolve(r):t.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const o of n)o.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const o of n)o.reject(r);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((o,i)=>n.push({resolve:o,reject:i})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=Yt(this,yr,"f");if(!t)throw new U("stream ended without producing a ChatCompletion");return t}}function s_(e,t){return zg(e,t)}class Va extends K{constructor(){super(...arguments),this.inputItems=new ud(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&cd(s),s))}retrieve(t,n={},s){return this._client.get(`/responses/${t}`,{query:n,...s,stream:n?.stream??!1})}del(t,n){return this._client.delete(`/responses/${t}`,{...n,headers:{Accept:"*/*",...n?.headers}})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(s=>ld(s,t))}stream(t,n){return ka.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(`/responses/${t}/cancel`,{...n,headers:{Accept:"*/*",...n?.headers}})}}class r_ extends Ne{}Va.InputItems=ud;class fd extends K{create(t,n,s){return this._client.post(`/uploads/${t}/parts`,On({body:n,...s}))}}class Ma extends K{constructor(){super(...arguments),this.parts=new fd(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,s){return this._client.post(`/uploads/${t}/complete`,{body:n,...s})}}Ma.Parts=fd;const o_=async e=>{const t=await Promise.allSettled(e),n=t.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const s=[];for(const r of t)r.status==="fulfilled"&&s.push(r.value);return s};class No extends K{create(t,n,s){return this._client.post(`/vector_stores/${t}/files`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}retrieve(t,n,s){return this._client.get(`/vector_stores/${t}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}update(t,n,s,r){return this._client.post(`/vector_stores/${t}/files/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(t,n={},s){return me(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,So,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}del(t,n,s){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}async createAndPoll(t,n,s){const r=await this.create(t,n,s);return await this.poll(t,r.id,s)}async poll(t,n,s){const r={...s?.headers,"X-Stainless-Poll-Helper":"true"};for(s?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const o=await this.retrieve(t,n,{...s,headers:r}).withResponse(),i=o.data;switch(i.status){case"in_progress":let a=5e3;if(s?.pollIntervalMs)a=s.pollIntervalMs;else{const l=o.response.headers.get("openai-poll-after-ms");if(l){const f=parseInt(l);isNaN(f)||(a=f)}}await zs(a);break;case"failed":case"completed":return i}}}async upload(t,n,s){const r=await this._client.files.create({file:n,purpose:"assistants"},s);return this.create(t,{file_id:r.id},s)}async uploadAndPoll(t,n,s){const r=await this.upload(t,n,s);return await this.poll(t,r.id,s)}content(t,n,s){return this._client.getAPIList(`/vector_stores/${t}/files/${n}/content`,Fa,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}}class So extends Ne{}class Fa extends _o{}No.VectorStoreFilesPage=So;No.FileContentResponsesPage=Fa;class dd extends K{create(t,n,s){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}retrieve(t,n,s){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}cancel(t,n,s){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}async createAndPoll(t,n,s){const r=await this.create(t,n);return await this.poll(t,r.id,s)}listFiles(t,n,s={},r){return me(s)?this.listFiles(t,n,{},s):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,So,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async poll(t,n,s){const r={...s?.headers,"X-Stainless-Poll-Helper":"true"};for(s?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:o,response:i}=await this.retrieve(t,n,{...s,headers:r}).withResponse();switch(o.status){case"in_progress":let a=5e3;if(s?.pollIntervalMs)a=s.pollIntervalMs;else{const l=i.headers.get("openai-poll-after-ms");if(l){const f=parseInt(l);isNaN(f)||(a=f)}}await zs(a);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(t,{files:n,fileIds:s=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=r?.maxConcurrency??5,i=Math.min(o,n.length),a=this._client,l=n.values(),f=[...s];async function u(h){for(let m of h){const w=await a.files.create({file:m,purpose:"assistants"},r);f.push(w.id)}}const c=Array(i).fill(l).map(u);return await o_(c),await this.createAndPoll(t,{file_ids:f})}}class ln extends K{constructor(){super(...arguments),this.files=new No(this._client),this.fileBatches=new dd(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(t,n,s){return this._client.post(`/vector_stores/${t}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/vector_stores",Ba,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}search(t,n,s){return this._client.getAPIList(`/vector_stores/${t}/search`,La,{body:n,method:"post",...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}}class Ba extends Ne{}class La extends _o{}ln.VectorStoresPage=Ba;ln.VectorStoreSearchResponsesPage=La;ln.Files=No;ln.VectorStoreFilesPage=So;ln.FileContentResponsesPage=Fa;ln.FileBatches=dd;var hd;class J extends Og{constructor({baseURL:t=dr("OPENAI_BASE_URL"),apiKey:n=dr("OPENAI_API_KEY"),organization:s=dr("OPENAI_ORG_ID")??null,project:r=dr("OPENAI_PROJECT_ID")??null,...o}={}){if(n===void 0)throw new U("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const i={apiKey:n,organization:s,project:r,...o,baseURL:t||"https://api.openai.com/v1"};if(!i.dangerouslyAllowBrowser&&Vg())throw new U(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new ed(this),this.chat=new bo(this),this.embeddings=new nd(this),this.files=new xa(this),this.images=new id(this),this.audio=new Ys(this),this.moderations=new ad(this),this.models=new Ta(this),this.fineTuning=new an(this),this.graders=new Da(this),this.vectorStores=new ln(this),this.beta=new ss(this),this.batches=new oa(this),this.uploads=new Ma(this),this.responses=new Va(this),this.evals=new sr(this),this.containers=new tr(this),this._options=i,this.apiKey=n,this.organization=s,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return lg(t,{arrayFormat:"brackets"})}}hd=J;J.OpenAI=hd;J.DEFAULT_TIMEOUT=6e5;J.OpenAIError=U;J.APIError=ke;J.APIConnectionError=ho;J.APIConnectionTimeoutError=ra;J.APIUserAbortError=nt;J.NotFoundError=ff;J.ConflictError=df;J.RateLimitError=pf;J.BadRequestError=lf;J.AuthenticationError=cf;J.InternalServerError=mf;J.PermissionDeniedError=uf;J.UnprocessableEntityError=hf;J.toFile=vf;J.fileFromPath=rf;J.Completions=ed;J.Chat=bo;J.ChatCompletionsPage=wo;J.Embeddings=nd;J.Files=xa;J.FileObjectsPage=Na;J.Images=id;J.Audio=Ys;J.Moderations=ad;J.Models=Ta;J.ModelsPage=Ia;J.FineTuning=an;J.Graders=Da;J.VectorStores=ln;J.VectorStoresPage=Ba;J.VectorStoreSearchResponsesPage=La;J.Beta=ss;J.Batches=oa;J.BatchesPage=ia;J.Uploads=Ma;J.Responses=Va;J.Evals=sr;J.EvalListResponsesPage=Ea;J.Containers=tr;J.ContainerListResponsesPage=ya;const{fetchSyncPost:ja}=require("siyuan"),Re=es({apiBaseUrl:"",apiKey:"",model:"",apiProvider:"siyuan"}),i_=new J({apiKey:"09bc63119e1f26d148cac77cda12e089.Rw7lnq1zkg3FcmYZ",baseURL:"https://open.bigmodel.cn/api/paas/v4",dangerouslyAllowBrowser:!0}),Ee=nn(()=>{if(Re.apiProvider==="siyuan")return new J({apiKey:window.siyuan.config.ai.openAI.apiKey,baseURL:window.siyuan.config.ai.openAI.apiBaseURL,dangerouslyAllowBrowser:!0});if(Re.apiProvider==="崮生")return new J({apiKey:"09bc63119e1f26d148cac77cda12e089.Rw7lnq1zkg3FcmYZ",baseURL:"https://open.bigmodel.cn/api/paas/v4",dangerouslyAllowBrowser:!0});if(Re.apiProvider==="openai")return new J({apiKey:Re.apiKey,baseURL:Re.apiBaseUrl,dangerouslyAllowBrowser:!0});throw new Error("Unsupported API provider")}),It=nn(()=>{if(Re.apiProvider==="openai")return Re.model;if(Re.apiProvider==="siyuan")return window.siyuan.config.ai.openAI.apiModel;if(Re.apiProvider==="崮生")return"GLM-4-Flash";throw new Error("Unsupported API provider")}),Me={max_tokens:8192,temperature:.3};async function Oo(e,t){const s=await e.openai.chat.completions.create({model:e.model??It.value,messages:[{role:"system",content:`你是一名专业搜索助理，专门协助用户构建高级搜索查询。你需要根据用户的问题提取关键词并考虑 Full-text Query Syntax 的优化。

## Full-text Query Syntax 语法知识

### 高级搜索功能
1. **NEAR() 邻近搜索**：查找指定距离内的词语，如 NEAR(机器学习 算法, 5)
2. **AND/OR/NOT 逻辑操作**：精确控制搜索逻辑
3. **^ 权重提升**：提高某些词的重要性，如 ^深度学习
4. **- 排除功能**：排除不相关内容，如 -广告
5. **() 分组**：构建复杂查询，如 (机器学习 OR 深度学习) AND 应用
6. *** 前缀匹配**：匹配词根，如 comput*
7. **列指定搜索**：在特定列中搜索，如 content:人工智能

## 你的任务
1. 分析用户问题的核心概念和关键词
2. 考虑如何使用 FTS 语法构建更精确的搜索
3. 提供关键词列表，既要包含简单关键词，也要考虑可以组合成高级查询的词组
4. 平衡搜索精度和召回率

## 输出要求
- 格式：JSON 字符串数组，确保可以被 JSON.parse
- 包含：核心关键词、同义词、可以用于 NEAR 查询的词组对
- 数量：5-10 个最相关的关键词/词组

示例：
用户: "如何学习机器学习和深度学习"
你: ["机器学习", "深度学习", "算法", "神经网络", "学习教程", "实战项目", "理论基础", "编程实现"]

要求：只返回 JSON 数组，不要包含其他说明文字。`},{role:"user",content:t}],max_tokens:e.max_tokens??Me.max_tokens,temperature:e.temperature??Me.temperature,stream:!1}),r=s.choices[0].message.content;let o;try{if(r.startsWith("```")){const i=r.split(`
`);i[0]="",i[i.length-1]="",o=JSON.parse(i.join(`
`))}else o=JSON.parse(r)}catch(i){console.log("[error]",i),o=[r]}return{res:o,raw:s}}async function Ao(e,t,n){const r=await e.openai.chat.completions.create({model:e.model??It.value,messages:[{role:"system",content:`你是用户的笔记ai提问助手，请根据用户的问题和你检索到的笔记内容来回答用户的问题
## 回答的格式

你的回答要表示是基于哪些块的内容回答的，表现方式是在对应回答的后面添加 :[种花心得(这个块的内容摘要)](siyuan://blocks/20240113141417-va4uedb(笔记块的id))
例如 :

提问:怎么养兰花
回答:

1. 保持适宜的空气湿度 [养兰花的第三天](siyuan://blocks/20130123242415-ad32fad12)
2. 需要准备的一些工具:.....  [种花心得](siyuan://blocks/20160133242325-d23dfg1)

## 注意你的回答最后面附加的链接 [] 内填的是这个块的摘要文本 () 中的 siyuan://blocks/id 是思源特有的链接方式
`},{role:"assistant",content:`检索到的内容:
${n}`},{role:"user",content:t}],max_tokens:e.max_tokens??Me.max_tokens,temperature:e.temperature??Me.temperature,stream:!1});return{res:r.choices[0].message.content,raw:r}}async function a_(e,t){const s=await e.openai.chat.completions.create({model:e.model??It.value,messages:[{role:"system",content:`你是一名翻译助手，专门将用户输入的内容翻译为英文。请确保翻译的准确性和流畅性。
## 注意

1. 仅输出译文
2. 原文是 kramdown 格式的，会有 {: id="20250306213356-961wtvs" updated="20250306213413"} 这样的属性，你不要输出其中的 id`},{role:"user",content:`请将以下内容翻译为英文：
${t}`}],max_tokens:e.max_tokens??Me.max_tokens,temperature:e.temperature??Me.temperature,stream:!1});return{res:s.choices[0].message.content,raw:s}}function Vi(e){return"id"in e&&"markdown"in e}function l_(e){return e.blocks.map(t=>({id:t.id,markdown:t.markdown,相关性得分:0,内容质量得分:0,时效性得分:0,最终得分:0,搜索类型:"传统搜索",查询词:e.query}))}async function c_(e,t=1){if(t===1){let n="";try{n=(await Ha({openai:Ee.value},e)).res}catch(s){console.error("高级查询生成失败，使用回退策略",s),n=e.split(/\s+/).slice(0,3).join(" OR ")}return[{类型:"高级FTS查询",权重:.7,查询:n},{类型:"原始查询",权重:.3,查询:e}]}else{let n={res:[e]},s={res:""},r={res:""};try{const o=Oo({openai:Ee.value},e),i=p_({openai:Ee.value},e),a=m_({openai:Ee.value},e);[n,s,r]=await Promise.all([o,i,a])}catch(o){console.error("关键词提取失败，使用回退策略",o),n.res=e.split(/\s+/).filter(i=>i.length>1)}return[{类型:"原始查询",权重:.4,查询:e},{类型:"关键词提取",权重:.3,查询:Array.isArray(n.res)?n.res.join(" "):n.res},{类型:"语义扩展",权重:.2,查询:s.res},{类型:"同义词搜索",权重:.1,查询:r.res}]}}async function u_(e,t,n,s){try{const o=(await e.openai.chat.completions.create({model:e.model??It.value,messages:[{role:"system",content:`你是一个搜索策略优化专家。根据当前搜索结果的AI评估，选择最适合的下一步搜索策略。

## 当前状况
- 用户问题: ${t}
- 搜索结果数量: ${n.length}
- AI有效性评分: ${s.有效性评分.toFixed(2)}
- 高质量结果数: ${s.高质量结果数}
- 质量分布: ${s.质量分布}
- AI建议策略: ${s.建议策略}

## 策略选择原则

### 质量差（评分 < 0.3）
- 扩大搜索范围，使用更宽松的条件
- 移除复杂语法，采用基本关键词OR连接
- 添加更多同义词和相关词汇

### 质量一般（评分 0.3-0.6）
- 调整关键词，使用更准确的术语
- 优化搜索精度，针对缺失概念搜索
- 改变搜索角度，尝试不同表述

### 质量较好但不够全面（评分 0.6-0.8）
- 针对性补充搜索，覆盖缺失方面
- 搜索更具体的技术细节或案例
- 从不同角度深化相关内容

### 质量优秀（评分 > 0.8）
- 仅在建议继续搜索时进行补充搜索
- 搜索相关的扩展信息或最新内容

## 搜索语法优化技巧
1. 避免过度使用AND，容易导致零结果
2. 优先使用OR连接同义词
3. NEAR距离设置在10-15之间比较合适
4. 对核心概念使用权重提升^
5. 适当使用-排除明显无关内容

## 输出要求
返回JSON格式：
{
  "优化查询": "新的搜索查询字符串",
  "策略说明": "选择此策略的详细原因",
  "预期改进": "预期达到的搜索效果"
}

最重要原则：确保能找到相关结果，宁可结果多一些也不要零结果`},{role:"user",content:`用户问题：${t}

当前使用的查询：${n[0]?.查询词||"未知"}

AI评估结果：
- 有效性评分：${s.有效性评分.toFixed(2)}/1.0
- 高质量结果数：${s.高质量结果数}个
- 结果总数：${n.length}个
- 质量分布：${s.质量分布}
- 相关性分析：${s.相关性分析}
- 建议继续搜索：${s.建议继续搜索}
- AI建议策略：${s.建议策略}

请基于AI的专业评估，选择最适合的搜索策略并提供优化后的查询字符串。`}],max_tokens:1024,temperature:.3,stream:!1})).choices[0].message.content;try{return JSON.parse(o)}catch{return{优化查询:t.split(/\s+/).filter(a=>a.length>1).slice(0,3).join(" OR "),策略说明:"AI分析失败，使用默认简化策略",预期改进:"扩大搜索范围以获得更多结果"}}}catch(r){return console.error("搜索策略选择失败:",r),{优化查询:t.split(/\s+/).filter(o=>o.length>1).slice(0,3).join(" OR "),策略说明:"策略选择失败，使用回退策略",预期改进:"使用简化查询确保有搜索结果"}}}async function Ha(e,t){const n=await e.openai.chat.completions.create({model:e.model??It.value,messages:[{role:"system",content:`你是一个专业的高级搜索查询构建助手。根据用户问题构建既精确又能找到结果的 FTS 查询。

## Full-text Query Syntax 语法

### 基本操作符
1. **OR** - 逻辑或：包含任一即可（优先使用，保证搜索结果）
2. **NEAR(词1 词2, N)** - 邻近搜索：距离在N词内，如 NEAR(机器学习 算法, 10)
3. **AND** - 逻辑与：必须同时包含（谨慎使用，容易导致零结果）
4. **^词** - 权重提升：提高重要性，如 ^深度学习
5. **-词** - 排除：明确排除，如 -广告
6. **(查询)** - 分组：组合逻辑，如 (机器学习 OR 深度学习)

## 重要原则

### 避免"零结果"的策略
1. **优先使用 OR**：对同义词、相关词用 OR 连接
2. **谨慎使用 AND**：只在确定必须同时出现时使用
3. **放宽 NEAR 距离**：使用 10-15 的较大距离
4. **多层次查询**：主查询 OR (备选查询1) OR (备选查询2)
5. **避免过度限制**：不要堆砌太多 AND 条件

### 查询构建优先级
1. **核心词 OR 相关词**：保证基础搜索结果
2. **NEAR(核心词 相关词, 10-15)**：提升精确度但不过度限制
3. **选择性 AND**：只对绝对必要的条件使用 AND
4. **权重提升**：对最重要概念使用 ^
5. **排除干扰**：只对明显无关内容使用 -

## 实际示例

### 技术类问题
用户: "如何用Python实现机器学习算法"
❌ 错误: "NEAR(Python 机器学习, 5) AND (算法 OR 实现) AND ^教程"
✅ 正确: "Python OR 机器学习 OR 算法 OR 实现 OR NEAR(Python 机器学习, 12) OR ^教程"

### 概念解释类
用户: "什么是深度学习和神经网络"
❌ 错误: "NEAR(深度学习 神经网络, 5) AND (定义 AND 原理)"
✅ 正确: "深度学习 OR 神经网络 OR 定义 OR 原理 OR NEAR(深度学习 神经网络, 15) OR ^基础"

### 特点评价类
用户: "sqlite数据库的特点和评价"
❌ 错误: "NEAR(sqlite 数据库, 5) AND (特点 OR 评价 OR 优缺点) AND ^介绍"
✅ 正确: "sqlite OR 数据库 OR 特点 OR 评价 OR 优缺点 OR NEAR(sqlite 数据库, 12)"

### 实践指导类
用户: "如何养兰花需要注意什么"
❌ 错误: "NEAR(兰花 养殖, 6) AND (注意 OR 要点) AND ^方法"
✅ 正确: "兰花 OR 养殖 OR 注意 OR 要点 OR NEAR(兰花 养殖, 15) OR ^方法"

## 构建思路
1. 先用 OR 连接所有关键词确保有结果
2. 选择性添加 NEAR 提升精确度
3. 谨慎使用 AND 只对必要条件
4. 对核心概念提升权重

输出要求：只返回一个查询字符串，不要解释。`},{role:"user",content:t}],max_tokens:e.max_tokens??Me.max_tokens,temperature:e.temperature??Me.temperature,stream:!1});return{res:n.choices[0].message.content.trim(),raw:n}}async function fc(e,t=1){const n=e.map(async o=>{try{return(await ja("/api/search/fullTextSearchBlock",{query:o.查询,method:t,types:{audioBlock:!0,blockquote:!0,codeBlock:!0,databaseBlock:!0,document:!0,embedBlock:!0,heading:!0,htmlBlock:!0,iframeBlock:!0,list:!1,listItem:!1,mathBlock:!0,paragraph:!0,superBlock:!0,table:!1,videoBlock:!0,widgetBlock:!0},paths:[],groupBy:0,orderBy:0,page:1,reqId:Date.now()})).data.blocks.map(l=>({id:l.id,markdown:l.markdown,相关性得分:0,内容质量得分:0,时效性得分:0,最终得分:0,搜索类型:o.类型,查询词:o.查询,策略权重:o.权重}))}catch(i){return console.error(`搜索失败 [${o.类型}]: ${o.查询}`,i),[]}}),r=(await Promise.all(n)).flat();return r.length===0?(console.log("高级搜索策略无结果，尝试回退到简单搜索"),await f_(e[0]?.查询||"",t)):r}async function f_(e,t=1){try{const n=e.replace(/NEAR\([^)]+\)/g,"").replace(/\^/g,"").replace(/-/g,"").replace(/AND/g,"OR").replace(/\([^)]+\)/g,"").replace(/\s+/g," ").trim();return console.log(`执行回退搜索：${n}`),(await ja("/api/search/fullTextSearchBlock",{query:n,method:t,types:{audioBlock:!0,blockquote:!0,codeBlock:!0,databaseBlock:!0,document:!0,embedBlock:!0,heading:!0,htmlBlock:!0,iframeBlock:!0,list:!1,listItem:!1,mathBlock:!0,paragraph:!0,superBlock:!0,table:!1,videoBlock:!0,widgetBlock:!0},paths:[],groupBy:0,orderBy:0,page:1,reqId:Date.now()})).data.blocks.map(o=>({id:o.id,markdown:o.markdown,相关性得分:0,内容质量得分:0,时效性得分:0,最终得分:0,搜索类型:"回退搜索",查询词:n,策略权重:.5}))}catch(n){return console.error("回退搜索失败:",n),[]}}async function Mi(e,t,n){if(t.length===0)return{有效性评分:0,高质量结果数:0,相关性分析:"没有搜索结果",建议继续搜索:!0,建议策略:"需要尝试更宽松的搜索条件",质量分布:"无结果"};try{const r=(await e.openai.chat.completions.create({model:e.model??It.value,messages:[{role:"system",content:`你是一个搜索结果质量评估专家。请仔细分析搜索结果与用户问题的相关性，并给出专业的评估。

## 评估维度

### 1. 相关性评分 (0-1分)
- **完全相关(0.9-1.0)**: 直接回答用户问题，内容精准匹配
- **高度相关(0.7-0.8)**: 核心内容相关，能提供有价值信息
- **中等相关(0.5-0.6)**: 部分相关，有一定参考价值
- **低度相关(0.3-0.4)**: 间接相关，参考价值有限
- **基本无关(0.0-0.2)**: 几乎不相关，无实质帮助

### 2. 内容质量评估
- **信息深度**: 内容是否详细、深入
- **准确性**: 信息是否准确、专业
- **时效性**: 信息是否过时
- **实用性**: 是否对用户有实际帮助

### 3. 覆盖度评估
- **问题覆盖**: 是否覆盖了用户问题的各个方面
- **角度多样性**: 是否提供了不同角度的信息
- **完整性**: 信息是否完整

## 输出要求
必须返回有效的JSON格式：
{
  "有效性评分": 0.75,
  "高质量结果数": 3,
  "相关性分析": "详细的分析说明...",
  "建议继续搜索": true,
  "建议策略": "具体的改进建议...",
  "质量分布": "高质量:2个, 中等:3个, 低质量:1个"
}

## 评估原则
1. 严格根据内容与问题的实际相关性评分
2. 宁可评分保守，也不要过于乐观
3. 如果结果质量一般，建议继续搜索
4. 优先考虑结果的质量而非数量`},{role:"user",content:`用户问题：${n}

搜索结果数量：${t.length}

搜索结果内容：
${t.map((o,i)=>`
结果${i+1}:
ID: ${o.id}
内容: ${o.markdown.substring(0,300)}${o.markdown.length>300?"...":""}
搜索类型: ${o.搜索类型}
查询词: ${o.查询词}
`).join(`
`)}

请对这些搜索结果进行全面的质效评估。`}],max_tokens:1024,temperature:.2,stream:!1})).choices[0].message.content;try{return JSON.parse(r)}catch(o){return console.error("AI评估解析失败:",o),{有效性评分:.3,高质量结果数:0,相关性分析:"AI评估失败，采用保守评估",建议继续搜索:!0,建议策略:"需要尝试不同的搜索策略",质量分布:"未知"}}}catch(s){return console.error("AI评估失败:",s),{有效性评分:.2,高质量结果数:0,相关性分析:"评估过程失败",建议继续搜索:!0,建议策略:"需要重新尝试搜索",质量分布:"评估失败"}}}function dc(e){const t=e.markdown;let n=0;return t.length>50&&(n+=.3),t.length>200&&(n+=.2),t.includes("#")&&(n+=.2),t.includes("```")&&(n+=.1),(t.includes("- ")||t.includes("* "))&&(n+=.1),t.includes("```")&&(n+=.1),Math.min(n,1)}function hc(e){const t=e.markdown;let n=.5;return(t.includes("2024")||t.includes("2023"))&&(n+=.3),Math.min(n,1)}async function pd(e,t){return e.map(n=>({...n,相关性得分:.5,内容质量得分:dc(n),时效性得分:hc(n),最终得分:.5+dc(n)*.3+hc(n)*.2+(n.策略权重||0)*.1})).sort((n,s)=>s.最终得分-n.最终得分)}function md(e){const t=new Set;return e.filter(n=>t.has(n.id)?!1:(t.add(n.id),!0))}function d_(e,t){const n=new Set(e.map(r=>r.markdown.substring(0,100))),s=t.filter(r=>!n.has(r.markdown.substring(0,100)));return t.length===0?0:s.length/t.length}function h_(e){if(e.length<5)return 0;const t=e.map(r=>r.最终得分),n=t.reduce((r,o)=>r+o,0)/t.length,s=Math.sqrt(t.reduce((r,o)=>r+Math.pow(o-n,2),0)/t.length);return Math.max(0,1-s)}async function p_(e,t){const n=await e.openai.chat.completions.create({model:e.model??It.value,messages:[{role:"system",content:`你是一个语义扩展助手。请将用户的输入扩展为更广泛的搜索查询。

要求：
1. 识别用户问题的核心概念
2. 提供相关的同义词和近义词
3. 扩展为更全面的搜索查询
4. 返回一个字符串，包含扩展后的查询词，用空格分隔

示例：
用户: "如何养兰花"
你: "兰花养护 种植方法 花卉管理 养花技巧"
`},{role:"user",content:t}],max_tokens:e.max_tokens??Me.max_tokens,temperature:e.temperature??Me.temperature,stream:!1});return{res:n.choices[0].message.content.trim(),raw:n}}async function m_(e,t){const n=await e.openai.chat.completions.create({model:e.model??It.value,messages:[{role:"system",content:`你是一个同义词扩展助手。请为用户的输入提供同义词和近义词。

要求：
1. 识别关键词汇
2. 提供同义词和近义词
3. 返回一个字符串，包含同义词，用空格分隔

示例：
用户: "编程学习"
你: "编程 开发 代码 编码 学习 教育 培训"
`},{role:"user",content:t}],max_tokens:e.max_tokens??Me.max_tokens,temperature:e.temperature??Me.temperature,stream:!1});return{res:n.choices[0].message.content.trim(),raw:n}}async function pc(e,t,n){const r=(await e.openai.chat.completions.create({model:e.model??It.value,messages:[{role:"system",content:`你是一个搜索结果分析助手。请分析当前搜索结果对用户问题的覆盖程度。

要求：
1. 识别用户问题的核心概念
2. 分析搜索结果是否覆盖了这些核心概念
3. 指出缺失的概念和需要深入的概念
4. 评估整体覆盖度

回答格式必须是有效的 JSON 对象：
{
  "核心概念缺失": ["概念1", "概念2"],
  "需要深入的概念": ["概念3", "概念4"],
  "覆盖度评分": 0.8
}
`},{role:"user",content:`用户问题：${t}

搜索结果摘要：
${n.slice(0,10).map(o=>o.markdown.substring(0,200)).join(`

`)}

请分析搜索结果的覆盖度。`}],max_tokens:e.max_tokens??Me.max_tokens,temperature:e.temperature??Me.temperature,stream:!1})).choices[0].message.content;try{return JSON.parse(r)}catch{return{核心概念缺失:[],需要深入的概念:[],覆盖度评分:.5}}}async function g_(e,t=1,n){const s=[];let r=0,o=[],i=0;for(;r<8&&i<.8;){n&&n({isSearching:!0,currentStep:`第 ${r+1} 轮自适应搜索`,round:r,keywords:[],searchResults:o,thinkingProcess:[`收敛度: ${i.toFixed(2)}`]});let a=[];if(r===0){const h=await c_(e,t);a=await fc(h,t)}else{const h=o.filter(Vi),m=await pc({openai:Ee.value},e,h);if(m.核心概念缺失.length===0&&m.需要深入的概念.length===0)break;const w=[...m.核心概念缺失,...m.需要深入的概念].join(" ");a=await fc([{类型:"针对性搜索",权重:.8,查询:w}],t)}const l=d_(o,a);o=await pd(md([...o,...a])),i=h_(o);let f=.5;if(r>0){const h=o.filter(Vi);f=(await pc({openai:Ee.value},e,h)).覆盖度评分}const u={轮次:r,收敛度:i,信息增益:l,核心概念覆盖度:f};s.push(u),n&&n({isSearching:!0,currentStep:`第 ${r+1} 轮完成，收敛度: ${i.toFixed(2)}`,round:r,keywords:[],searchResults:o,thinkingProcess:[`信息增益: ${l.toFixed(2)}`,`收敛度: ${i.toFixed(2)}`,`找到结果: ${o.length} 条`]}),r++;let c;try{c=await Mi({openai:Ee.value},o,e)}catch(h){console.error("AI评估失败，使用默认评估",h),c={有效性评分:.2,高质量结果数:0,相关性分析:"评估失败",建议继续搜索:!0,建议策略:"需要重新搜索",质量分布:"未知"}}if(l<.1&&c.有效性评分>=.6){console.log(`信息增益低但结果质量优秀(${c.有效性评分.toFixed(2)})，停止搜索`);break}if(l<.1&&c.有效性评分>=.4&&o.length>=5){console.log(`信息增益低但结果质量良好(${c.有效性评分.toFixed(2)})，停止搜索`);break}if(c.有效性评分>=.7&&o.length>=4){console.log(`结果质量优秀(${c.有效性评分.toFixed(2)})，停止搜索`);break}if(o.length<3||c.有效性评分<.3){console.log(`结果数量不足或质量较差(${c.有效性评分.toFixed(2)})，继续搜索`);continue}}return{最终结果:o,搜索状态:s,搜索轮次:r}}async function gd(e,t=1,n){try{const{最终结果:s,搜索轮次:r}=await g_(e,t,n);n&&n({isSearching:!0,currentStep:"生成最终答案",round:r,keywords:[],searchResults:s,thinkingProcess:[`搜索完成，找到 ${s.length} 条结果`]});const o=s.map(l=>({query:l.查询词,blocks:[{id:l.id,md:l.markdown}]})),i=`# 搜索结果json：
${JSON.stringify(o,null,2)}`;return{finalAnswer:(await Ao({openai:Ee.value},e,i)).res,searchResults:s,searchRounds:r}}catch(s){return console.error("优化版AI问答失败:",s),{finalAnswer:(await Ua(e)).res,searchResults:[],searchRounds:1}}}async function Fi(e,t=1){async function n(r){return{blocks:(await ja("/api/search/fullTextSearchBlock",{query:r,method:t,types:{audioBlock:!0,blockquote:!0,codeBlock:!0,databaseBlock:!0,document:!0,embedBlock:!0,heading:!0,htmlBlock:!0,iframeBlock:!0,list:!1,listItem:!1,mathBlock:!0,paragraph:!0,superBlock:!0,table:!1,videoBlock:!0,widgetBlock:!0},paths:[],groupBy:0,orderBy:0,page:1,reqId:Date.now()})).data.blocks,query:r}}return await Promise.all(e.map(r=>n(r)))}const W=es({isSearching:!1,currentStep:"",round:0,keywords:[],searchResults:[],thinkingProcess:[]});async function _d(e,t,n,s){const i=(await e.openai.chat.completions.create({model:e.model??It.value,messages:[{role:"system",content:`你是一个智能搜索分析助手。你需要分析当前的搜索结果，判断是否需要进一步搜索来更好地回答用户的问题。

你的任务是：
1. 分析当前搜索结果的质量和相关性
2. 判断是否需要更多搜索来获取更全面的信息
3. 如果需要更多搜索，提供新的搜索关键词

回答格式必须是有效的 JSON 对象：
{
  "analysis": "对当前搜索结果的分析...",
  "needMoreSearch": true/false,
  "nextKeywords": ["关键词1", "关键词2"] (仅在 needMoreSearch 为 true 时提供)
}

如果信息已经足够，needMoreSearch 设为 false，不需要提供 nextKeywords。`},{role:"user",content:`用户问题：${t}

当前搜索轮次：${s+1}

搜索结果：
${JSON.stringify(n,null,2)}

请分析这些搜索结果，判断是否需要进一步搜索。`}],max_tokens:e.max_tokens??Me.max_tokens,temperature:e.temperature??Me.temperature,stream:!1})).choices[0].message.content;try{return JSON.parse(i)}catch{return{analysis:i,needMoreSearch:!1}}}async function __(e,t=5,n=1,s){W.isSearching=!0,W.round=0,W.thinkingProcess=[],W.searchResults=[];try{const r=[];for(let a=0;a<t;a++)if(W.round=a,W.currentStep=`第 ${a+1} 轮搜索`,s&&s({...W}),a===0){W.currentStep="分析问题并生成高级搜索查询",s&&s({...W});let l=[];if(n===1){const c=await Ha({openai:Ee.value},e);l=[c.res,e],W.keywords=[c.res],W.thinkingProcess.push(`生成高级FTS查询：${c.res}`)}else{const c=(await Oo({openai:Ee.value},e)).res;l=c,W.keywords=c,W.thinkingProcess.push(`提取到关键词：${c.join(", ")}`)}W.currentStep=`执行查询：${l[0]}`,s&&s({...W});const f=await Fi(l,n);W.searchResults=f;const u={round:a,keywords:W.keywords,searchResults:f,analysis:"",needMoreSearch:!0};r.push(u)}else{W.currentStep="分析搜索结果",s&&s({...W});const f=W.searchResults.flatMap(m=>Vi(m)?[m]:l_(m)).map(m=>({blocks:[{id:m.id,markdown:m.markdown,content:m.markdown,type:"paragraph",box:"",path:"",hpath:"",created:"",updated:""}],query:m.查询词})),u=await _d({openai:Ee.value},e,f,a);if(W.thinkingProcess.push(`分析结果：${u.analysis}`),!u.needMoreSearch||!u.nextKeywords||u.nextKeywords.length===0){W.currentStep="搜索完成，生成最终答案",s&&s({...W});break}W.currentStep=`进行第 ${a+1} 轮搜索：${u.nextKeywords.join(", ")}`,s&&s({...W});const c=await Fi(u.nextKeywords,n);W.searchResults=[...W.searchResults,...c],W.thinkingProcess.push(`新增搜索结果：${c.length} 条`);const h={round:a,keywords:u.nextKeywords,searchResults:c,analysis:u.analysis,needMoreSearch:u.needMoreSearch,nextKeywords:u.nextKeywords};r.push(h)}W.currentStep="整合所有搜索结果并生成最终答案",s&&s({...W});const o=`# 搜索结果json：
${JSON.stringify(W.searchResults.map(a=>({query:a.query||a.查询词,blocks:a.blocks?a.blocks.map(l=>({id:l.id,md:l.markdown||l.md})):[{id:a.id,md:a.markdown}]})),null,2)}`;return{finalAnswer:(await Ao({openai:Ee.value},e,o)).res,searchRounds:r}}finally{W.isSearching=!1,W.currentStep="搜索完成",s&&s({...W})}}async function Ua(e,t=1){let n=[],s=0;const r=6;let o="";for(;s<r;){if(s++,s===1){try{if(t===1)o=(await Ha({openai:Ee.value},e)).res;else{const w=(await Oo({openai:Ee.value},e)).res;o=Array.isArray(w)?w[0]||e:w}}catch(w){console.error("查询生成失败，使用原始查询",w),o=e}console.log(`第${s}轮查询：`,o)}else try{let w;if(s>1)try{w=await Mi({openai:Ee.value},n,e)}catch(I){console.error("获取上一轮评估失败",I),w={有效性评分:.3,高质量结果数:0,相关性分析:"评估失败",建议继续搜索:!0,建议策略:"需要继续搜索",质量分布:"未知"}}else w={有效性评分:.3,高质量结果数:0,相关性分析:"首轮搜索",建议继续搜索:!0,建议策略:"需要继续搜索",质量分布:"未知"};const y=await u_({openai:Ee.value},e,n,w);if(console.log(`第${s}轮AI策略选择：${y.策略说明}`),console.log(`预期改进：${y.预期改进}`),!w.建议继续搜索){console.log("AI评估不建议继续搜索，停止搜索");break}o=y.优化查询,console.log(`第${s}轮AI优化查询：${o}`)}catch(w){console.error("AI策略选择失败，使用回退策略",w),o=o.replace(/NEAR\([^)]+\)/g,"").replace(/\^/g,"").replace(/-/g,"").replace(/AND/g,"OR").replace(/\([^)]+\)/g,"").replace(/\s+/g," ").trim(),n.length===0&&(o=e.split(/\s+/).filter(y=>y.length>1).slice(0,3).join(" OR ")),console.log(`第${s}轮回退查询：${o}`)}const h=(await Fi([o],t)).flatMap(w=>w.blocks.map(y=>({id:y.id,markdown:y.markdown,相关性得分:0,内容质量得分:0,时效性得分:0,最终得分:0,搜索类型:`第${s}轮搜索`,查询词:o,策略权重:1})));n=[...n,...h];let m;try{m=await Mi({openai:Ee.value},n,e),console.log(`第${s}轮AI评估：${m.相关性分析}，评分：${m.有效性评分.toFixed(2)}`)}catch(w){console.error("AI评估失败，使用默认评估",w),m={有效性评分:.2,高质量结果数:0,相关性分析:"评估失败",建议继续搜索:!0,建议策略:"需要重新搜索",质量分布:"未知"}}if(s>=3&&m.有效性评分>=.6&&m.高质量结果数>=3&&n.length>=4&&n.length<=15){console.log(`第${s}轮搜索结果质量优秀(${m.有效性评分.toFixed(2)})，停止进一步搜索`);break}if(s>=4&&m.有效性评分>=.4&&m.高质量结果数>=2&&n.length>=3){console.log(`第${s}轮搜索结果质量良好(${m.有效性评分.toFixed(2)})，停止进一步搜索`);break}if(s<5&&(n.length===0||n.length<=2||m.有效性评分<.3||m.高质量结果数===0)){console.log(`第${s}轮结果${m.建议继续搜索?"质量较差":"过少"}，继续搜索`);continue}if(n.length===0&&s>=2){console.log(`第${s}轮仍然无结果，尝试紧急回退策略`);const w=e.split(/\s+/).filter(y=>y.length>1).slice(0,3).join(" OR ");if(w!==o){o=w,console.log(`使用紧急查询：${o}`),s--;continue}}if(n.length>25&&(console.log(`第${s}轮结果过多(${n.length}条)，可以考虑停止`),s>=3))break}const i=md(n),a=await pd(i);console.log(`总共搜索${s}轮，找到${a.length}条最终结果`);const l=a.map(c=>({query:c.查询词,blocks:[{id:c.id,md:c.markdown}]})),f=`# 搜索结果json：
${JSON.stringify(l,null,2)}`;return await Ao({openai:Ee.value},e,f)}const y_=Object.freeze(Object.defineProperty({__proto__:null,aiChatConfig:Re,ai分析搜索结果:_d,ai回答:Ao,ai搜索关键词提取:Oo,ai翻译为英文:a_,openai:i_,openai$:Ee,searchState:W,执行ai问答:Ua,执行优化版ai问答:gd,执行自主多轮搜索:__},Symbol.toStringTag,{value:"Module"})),{fetchSyncPost:w_}=require("siyuan");async function yd(e,t){let n=await w_(e,t);return n.code===0?n.data:null}async function b_(e,t){return yd("/api/attr/setBlockAttrs",{id:e,attrs:t})}async function v_(e){return yd("/api/attr/getBlockAttrs",{id:e})}const E_={class:"config-panel"},x_={class:"config-section"},N_={class:"config-options"},S_=["value","disabled"],O_={class:"radio-label"},A_={key:0,class:"radio-description"},C_={key:0,class:"config-section"},R_={class:"config-fields"},$_={class:"config-field"},P_={class:"config-field"},D_={class:"config-field"},T_=qs({__name:"ConfigPanel",props:{modelValue:{}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,s=t,r=[{value:"siyuan",label:"思源内置 AI",description:"使用思源笔记设置中的 AI 配置"},{value:"崮生",label:"插件作者提供",description:"使用插件作者提供的 AI 服务"},{value:"openai",label:"自定义 API",description:"使用自定义的 OpenAI 兼容 API"}],o=()=>{s("update:modelValue",n.modelValue),s("change",n.modelValue)},i=()=>{o()};return(a,l)=>(pe(),Ae("div",E_,[P("div",x_,[l[4]||(l[4]=P("h3",{class:"config-title"},"API 配置",-1)),P("div",N_,[(pe(),Ae(Ge,null,hi(r,f=>P("label",{key:f.value,class:"radio-option"},[Hn(P("input",{type:"radio","onUpdate:modelValue":l[0]||(l[0]=u=>a.modelValue.apiProvider=u),value:f.value,disabled:f.disabled,onChange:i},null,40,S_),[[Mm,a.modelValue.apiProvider]]),P("span",O_,Ht(f.label),1),f.description?(pe(),Ae("span",A_,Ht(f.description),1)):St("",!0)])),64))])]),a.modelValue.apiProvider==="openai"?(pe(),Ae("div",C_,[l[8]||(l[8]=P("h3",{class:"config-title"},"自定义 API 设置",-1)),P("div",R_,[P("div",$_,[l[5]||(l[5]=P("label",{class:"field-label"},"API Base URL",-1)),Hn(P("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=f=>a.modelValue.apiBaseUrl=f),class:"field-input",placeholder:"https://api.openai.com/v1",onInput:o},null,544),[[Ar,a.modelValue.apiBaseUrl]])]),P("div",P_,[l[6]||(l[6]=P("label",{class:"field-label"},"API Key",-1)),Hn(P("input",{type:"password","onUpdate:modelValue":l[2]||(l[2]=f=>a.modelValue.apiKey=f),class:"field-input",placeholder:"sk-...",onInput:o},null,544),[[Ar,a.modelValue.apiKey]])]),P("div",D_,[l[7]||(l[7]=P("label",{class:"field-label"},"Model",-1)),Hn(P("input",{type:"text","onUpdate:modelValue":l[3]||(l[3]=f=>a.modelValue.model=f),class:"field-input",placeholder:"gpt-3.5-turbo",onInput:o},null,544),[[Ar,a.modelValue.model]])])])])):St("",!0)]))}}),rr=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},I_=rr(T_,[["__scopeId","data-v-907dc5a7"]]),k_={class:"search-progress"},V_={class:"progress-header"},M_={class:"progress-step"},F_={key:0,class:"progress-content"},B_={class:"progress-info-grid"},L_={class:"info-item"},j_={class:"info-value"},H_={class:"info-item"},U_={class:"info-value"},W_={key:0,class:"keywords-section"},K_={class:"keywords-container"},J_={key:1,class:"thinking-section"},q_={class:"thinking-list"},G_={class:"thinking-text"},X_=qs({__name:"SearchProgress",props:{searchState:{}},setup(e){const t=e,n=nn(()=>t.searchState.currentStep),s=nn(()=>t.searchState.round),r=nn(()=>t.searchState.keywords),o=nn(()=>t.searchState.searchResults),i=nn(()=>t.searchState.thinkingProcess);return(a,l)=>(pe(),Ae("div",k_,[P("div",V_,[l[0]||(l[0]=P("div",{class:"progress-title-section"},[P("div",{class:"progress-icon"},"🔍"),P("span",{class:"progress-title"},"智能搜索进行中...")],-1)),P("span",M_,Ht(n.value),1)]),s.value>0?(pe(),Ae("div",F_,[P("div",B_,[P("div",L_,[l[1]||(l[1]=P("div",{class:"info-label"},"搜索轮次",-1)),P("div",j_,"第 "+Ht(s.value+1)+" 轮",1)]),P("div",H_,[l[2]||(l[2]=P("div",{class:"info-label"},"找到结果",-1)),P("div",U_,Ht(o.value.length)+" 条",1)])]),r.value.length>0?(pe(),Ae("div",W_,[l[3]||(l[3]=P("div",{class:"section-title"},"搜索关键词",-1)),P("div",K_,[(pe(!0),Ae(Ge,null,hi(r.value,(f,u)=>(pe(),Ae("span",{key:u,class:"keyword-tag"},Ht(f),1))),128))])])):St("",!0),i.value.length>0?(pe(),Ae("div",J_,[l[5]||(l[5]=P("div",{class:"section-title"},"思考过程",-1)),P("div",q_,[(pe(!0),Ae(Ge,null,hi(i.value,(f,u)=>(pe(),Ae("div",{key:u,class:"thinking-item"},[l[4]||(l[4]=P("div",{class:"thinking-bullet"},"•",-1)),P("div",G_,Ht(f),1)]))),128))])])):St("",!0)])):St("",!0),l[6]||(l[6]=P("div",{class:"progress-loader"},[P("div",{class:"loader-container"},[P("div",{class:"loader-bar"})])],-1))]))}}),Q_=rr(X_,[["__scopeId","data-v-203f7835"]]),z_={class:"error-message"},Y_={class:"error-text"},Z_=qs({__name:"ErrorMessage",props:{message:{}},emits:["close"],setup(e){return(t,n)=>(pe(),Ae("div",z_,[n[1]||(n[1]=P("div",{class:"error-icon"},"⚠️",-1)),P("div",Y_,Ht(t.message),1),P("button",{class:"error-close",onClick:n[0]||(n[0]=s=>t.$emit("close")),title:"关闭"}," × ")]))}}),ey=rr(Z_,[["__scopeId","data-v-57eb1c4e"]]),ty={class:"result-section"},ny=["innerHTML"],sy=qs({__name:"ResultDisplay",props:{content:{}},emits:["copy"],setup(e,{expose:t,emit:n}){const s=e,r=n,o=qc();t({contentRef:o});const i=async()=>{try{if(a.value){const l=a.value.innerText||a.value.textContent;await navigator.clipboard.writeText(l),r("copy")}}catch(l){console.error("复制失败:",l)}},a=di("resultDiv");return Cs(()=>s.content,()=>{setTimeout(()=>{a.value?.querySelectorAll("[contenteditable]").forEach(l=>{l.setAttribute("contenteditable","false")})},100)}),(l,f)=>(pe(),Ae("div",ty,[P("div",{class:"result-header"},[f[1]||(f[1]=P("div",{class:"result-title"},"AI 回答",-1)),P("button",{class:"copy-button",onClick:i,title:"复制回答"},[...f[0]||(f[0]=[P("svg",{class:"icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[P("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),P("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)])])]),P("div",{ref:"resultDiv",class:"result-content",innerHTML:l.content},null,8,ny)]))}}),ry=rr(sy,[["__scopeId","data-v-4c10f2c3"]]),oy={class:"chat-header"},iy={class:"header-right"},ay={class:"input-section"},ly={class:"input-wrapper"},cy=["disabled","onKeydown"],uy=["disabled"],fy={key:0,class:"button-text"},dy={key:1,class:"loading-spinner"},hy={class:"search-options"},py={class:"option-label"},my=["disabled"],gy={key:0,class:"copy-success-toast"},_y=qs({__name:"ui",props:{blockId:{type:String,required:!0},plugin:{type:Object,required:!0}},setup(e){const t=di("uiDiv"),n=qc(!1),s=di("textInput"),r=e,o=es({html:"",searchText:"",run:!1,useMultiRoundSearch:!0,showSearchProgress:!1,errorMessage:"",copySuccess:!1});async function i(){return await b_(r.blockId,{"custom-ai-config":JSON.stringify(o)})}async function a(){const I=await v_(r.blockId);Object.assign(o,JSON.parse(I["custom-ai-config"]??"{}"))}Yi(()=>{a(),Yc(()=>{s.value?.focus()})});function l(I){W.isSearching=I.isSearching,W.currentStep=I.currentStep,W.round=I.round,W.keywords=I.keywords,W.searchResults=I.searchResults,W.thinkingProcess=I.thinkingProcess}function f(I){I.shiftKey||!o.run&&o.searchText.trim()&&h()}function u(){console.log("配置已更新:",Re)}function c(){o.copySuccess=!0,setTimeout(()=>{o.copySuccess=!1},2e3)}async function h(){if(!o.searchText.trim()){o.errorMessage="请输入您的问题";return}try{if(o.run=!0,o.showSearchProgress=!0,o.errorMessage="",W.isSearching=!1,W.currentStep="",W.round=0,W.keywords=[],W.searchResults=[],W.thinkingProcess=[],o.useMultiRoundSearch){const I=await gd(o.searchText,1,l);o.html=y(I.finalAnswer)}else{const I=await Ua(o.searchText);o.html=y(I.res)}}catch(I){console.error("AI 回答失败:",I),o.errorMessage=`AI 回答失败: ${I instanceof Error?I.message:"未知错误"}`}finally{o.run=!1,o.showSearchProgress=!1,await i()}}const w=globalThis.Lute.New();function y(I){return w.Md2BlockDOM(I)}return(I,D)=>(pe(),Ae("div",{class:Kn(["ai-chat-container",Ss(Bn)]),contenteditable:"false",ref_key:"uiDiv",ref:t},[P("div",oy,[D[6]||(D[6]=P("div",{class:"header-left"},[P("div",{class:"title-section"},[P("h2",{class:"title"},"思源AI助手"),P("span",{class:"version-badge"},"测试版")])],-1)),P("div",iy,[P("button",{class:Kn(["config-toggle-btn",{active:n.value}]),onClick:D[0]||(D[0]=Wo(S=>n.value=!n.value,["stop"])),title:"设置"},[...D[5]||(D[5]=[P("svg",{class:"icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[P("circle",{cx:"12",cy:"12",r:"3"}),P("path",{d:"M12 1v6m0 6v6m11-7h-6m-6 0H1"})],-1)])],2)])]),Ce(ds,{name:"slide-down"},{default:Fn(()=>[n.value?(pe(),ms(I_,{key:0,modelValue:Ss(Re),"onUpdate:modelValue":D[1]||(D[1]=S=>_e(Re)?Re.value=S:null),onChange:u},null,8,["modelValue"])):St("",!0)]),_:1}),P("div",ay,[P("div",ly,[Hn(P("textarea",{"onUpdate:modelValue":D[2]||(D[2]=S=>o.searchText=S),class:"chat-input",placeholder:"请输入您的问题...",disabled:o.run,onKeydown:jm(Wo(f,["prevent"]),["enter"]),ref_key:"textInput",ref:s},null,40,cy),[[Ar,o.searchText]]),P("button",{onClick:Wo(h,["stop"]),class:Kn(["submit-button",{loading:o.run}]),disabled:o.run||!o.searchText.trim()},[o.run?(pe(),Ae("div",dy)):(pe(),Ae("span",fy,"发送"))],10,uy)]),P("div",hy,[P("label",py,[Hn(P("input",{type:"checkbox","onUpdate:modelValue":D[3]||(D[3]=S=>o.useMultiRoundSearch=S),disabled:o.run},null,8,my),[[Vm,o.useMultiRoundSearch]]),D[7]||(D[7]=P("span",{class:"option-text"},"启用智能多轮搜索",-1)),D[8]||(D[8]=P("span",{class:"option-description"},"AI 将自动分析并多次搜索以获得更全面的答案",-1))])])]),Ce(ds,{name:"fade-in"},{default:Fn(()=>[o.showSearchProgress?(pe(),ms(Q_,{key:0,"search-state":Ss(W)},null,8,["search-state"])):St("",!0)]),_:1}),Ce(ds,{name:"fade-in"},{default:Fn(()=>[o.copySuccess?(pe(),Ae("div",gy,[...D[9]||(D[9]=[P("svg",{class:"toast-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[P("polyline",{points:"20 6 9 17 4 12"})],-1),P("span",null,"已复制到剪贴板",-1)])])):St("",!0)]),_:1}),Ce(ds,{name:"slide-up"},{default:Fn(()=>[o.errorMessage?(pe(),ms(ey,{key:0,message:o.errorMessage,onClose:D[4]||(D[4]=S=>o.errorMessage="")},null,8,["message"])):St("",!0)]),_:1}),Ce(ds,{name:"fade-in"},{default:Fn(()=>[o.html?(pe(),ms(ry,{key:0,content:o.html,onCopy:c},null,8,["content"])):St("",!0)]),_:1})],2))}}),yy=rr(_y,[["__scopeId","data-v-fd4760b4"]]);typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const mc=()=>{};function wy(e,t){function n(...s){return new Promise((r,o)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(r).catch(o)})}return n}const by=e=>e();function vy(e,t={}){let n,s,r=mc;const o=l=>{clearTimeout(l),r(),r=mc};let i;return l=>{const f=el(e),u=el(t.maxWait);return n&&o(n),f<=0||u!==void 0&&u<=0?(s&&(o(s),s=void 0),Promise.resolve(l())):new Promise((c,h)=>{r=t.rejectOnCancel?h:c,i=l,u&&!s&&(s=setTimeout(()=>{n&&o(n),s=void 0,c(i())},u)),n=setTimeout(()=>{s&&o(s),s=void 0,c(l())},f)})}}function Ey(e,t,n={}){const{eventFilter:s=by,...r}=n;return Cs(e,wy(s,t),r)}function xy(e,t,n={}){const{debounce:s=0,maxWait:r=void 0,...o}=n;return Ey(e,t,{...o,eventFilter:vy(s,{maxWait:r})})}class Ny extends zm{openaiAPI=y_;async onload(){window.aiChatPlugin=this,this.protyleSlash.push({id:"ai:chat",filter:["ai","chat","gpt"],callback(s){console.log("[protyle]",s);const r=Ym(),o=Xu();s.insert(`<div data-node-id="${r}" custom-ai-chat="1" data-type="NodeParagraph" updated="${o}"></div>`,!0,!0)},html:"ai:chat"});const t=setInterval(()=>{document.querySelectorAll("[custom-ai-chat]").forEach(s=>{this.addVueUiComponent(s,yy,{plugin:this})})},500);await this.loadConfig();const n=xy(Re,()=>{console.log("Config changed:",Re),this.saveConfig()},{deep:!0,debounce:1e3});this.addUnloadFn(()=>{clearInterval(t),n()})}async loadConfig(){const t=await this.loadData("aiChatConfig");Object.assign(Re,t)}async saveConfig(){await this.saveData("aiChatConfig",Re)}}module.exports=Ny;
